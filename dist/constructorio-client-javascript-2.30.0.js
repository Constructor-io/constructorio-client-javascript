/*!
 *
 * Constructor.io JavaScript Client, version 2.30.0
 * (c) 2015-2022 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 *
 */
(()=>{var Pe=typeof require!="undefined"?require:i=>{throw new Error('Dynamic require of "'+i+'" is not supported')};var an=(i,e)=>()=>(i&&(e=i(i=0)),e);var R=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var un,A,w=an(()=>{un={BUNDLED:"true"},A={env:un}});var Z=R((ps,qe)=>{w();function cn(i){return i&&i.__esModule?i:{default:i}}qe.exports=cn,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var ee=R((gs,Oe)=>{w();function ln(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}Oe.exports=ln,Oe.exports.__esModule=!0,Oe.exports.default=Oe.exports});var te=R((ms,Ce)=>{w();function xt(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function fn(i,e,t){return e&&xt(i.prototype,e),t&&xt(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}Ce.exports=fn,Ce.exports.__esModule=!0,Ce.exports.default=Ce.exports});var Bt=R((ys,Ze)=>{w();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(e==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null){n=Object(n);for(var o=Object.keys(Object(n)),s=0,a=o.length;a>s;s++){var l=o[s],u=Object.getOwnPropertyDescriptor(n,l);u!==void 0&&u.enumerable&&(t[l]=n[l])}}}return t}});var i=function(e){var t={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,t,e),!this.client_id)if(!this.on_node&&this.persist){var r;this.client_id_storage_location==="cookie"&&(r=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(r=this.get_local_object(this.local_name_client_id)),this.client_id=r||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};i.prototype.set_cookie=function(e,t){if(!this.on_node&&this.persist){var r=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),n=e+"="+t+"; expires="+r.toUTCString()+"; path=/";return this.cookie_domain&&(n+="; domain="+this.cookie_domain),document.cookie=n,n}return null},i.prototype.get_cookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var o=r[n];try{for(var s=decodeURIComponent(o);s.charAt(0)===" ";)s=s.substring(1);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}catch(a){}}},i.prototype.delete_cookie=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},i.prototype.generate_client_id=function(){var e;if(!this.on_node){var t=this.get_cookie(this.cookie_name_client_id),r=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&r&&(e=r,this.set_cookie(this.cookie_name_client_id,e),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&t&&(e=t,this.set_local_object(this.local_name_client_id,e),this.delete_cookie(this.cookie_name_client_id))}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var o=Math.random()*16|0,s=n==="x"?o:o&3|8;return s.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,e),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,e)),e},i.prototype.get_local_object=function(e){var t,r=window&&window.localStorage;if(r&&typeof e=="string")try{t=JSON.parse(r.getItem(e))}catch(n){t=r.getItem(e)}return t},i.prototype.set_local_object=function(e,t){var r=window&&window.localStorage;if(r&&typeof e=="string"){if(typeof t=="object")try{r.setItem(e,JSON.stringify(t))}catch(n){}if(typeof t=="string"||typeof t=="number")try{r.setItem(e,t)}catch(n){}}},i.prototype.delete_local_object=function(e){var t=window&&window.localStorage;if(t&&typeof e=="string")try{t.removeItem(e)}catch(r){}},i.prototype.generate_session_id=function(){var e=this.get_cookie(this.cookie_name_session_data),t=this.get_local_object(this.local_name_session_data),r=Date.now(),n=1e3*60*30,o;if(this.session_id_storage_location==="local"&&(o=this.get_local_object(this.local_name_session_data),!o&&e&&(o=e,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){o=this.get_cookie(this.cookie_name_session_data);try{o=JSON.parse(o)}catch(l){}!o&&t&&(o=t,this.delete_local_object(this.local_name_session_data))}var s=1,a=1;return o&&typeof o=="object"&&(a=parseInt(o.sessionId,10)||1,o.lastTime>r-n?s=a:s=a+1),this.session_id=s,this.session_is_new=!(o&&a===s),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,s),this.set_local_object(this.local_name_session_data,{sessionId:s,lastTime:r})),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,s),this.set_cookie(this.cookie_name_session_data,JSON.stringify({sessionId:s,lastTime:r}))),s},typeof Ze!="undefined"&&typeof Pe!="undefined"&&(Ze.exports=i)})()});var Ne=R((_s,Dt)=>{w();"use strict";var et=Object.prototype.hasOwnProperty,be=Array.isArray,se=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),hn=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(be(r)){for(var n=[],o=0;o<r.length;++o)typeof r[o]!="undefined"&&n.push(r[o]);t.obj[t.prop]=n}}},Rt=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]!="undefined"&&(r[n]=e[n]);return r},dn=function i(e,t,r){if(!t)return e;if(typeof t!="object"){if(be(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!et.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return be(e)&&!be(t)&&(n=Rt(e,r)),be(e)&&be(t)?(t.forEach(function(o,s){if(et.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=i(a,o,r):e.push(o)}else e[s]=o}),e):Object.keys(t).reduce(function(o,s){var a=t[s];return et.call(o,s)?o[s]=i(o[s],a,r):o[s]=a,o},n)},vn=function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},pn=function(i,e,t){var r=i.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(n){return r}},gn=function(e,t,r){if(e.length===0)return e;var n=typeof e=="string"?e:String(e);if(r==="iso-8859-1")return escape(n).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var o="",s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122){o+=n.charAt(s);continue}if(a<128){o=o+se[a];continue}if(a<2048){o=o+(se[192|a>>6]+se[128|a&63]);continue}if(a<55296||a>=57344){o=o+(se[224|a>>12]+se[128|a>>6&63]+se[128|a&63]);continue}s+=1,a=65536+((a&1023)<<10|n.charCodeAt(s)&1023),o+=se[240|a>>18]+se[128|a>>12&63]+se[128|a>>6&63]+se[128|a&63]}return o},mn=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],s=o.obj[o.prop],a=Object.keys(s),l=0;l<a.length;++l){var u=a[l],c=s[u];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(t.push({obj:s,prop:u}),r.push(c))}return hn(t),e},yn=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_n=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},bn=function(e,t){return[].concat(e,t)};Dt.exports={arrayToObject:Rt,assign:vn,combine:bn,compact:mn,decode:pn,encode:gn,isBuffer:_n,isRegExp:yn,merge:dn}});var tt=R((bs,Tt)=>{w();"use strict";var wn=String.prototype.replace,kn=/%20/g,En=Ne(),Ft={RFC1738:"RFC1738",RFC3986:"RFC3986"};Tt.exports=En.assign({default:Ft.RFC3986,formatters:{RFC1738:function(i){return wn.call(i,kn,"+")},RFC3986:function(i){return String(i)}}},Ft)});var Lt=R((ws,Nt)=>{w();"use strict";var It=Ne(),Ae=tt(),qn=Object.prototype.hasOwnProperty,jt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},we=Array.isArray,On=Array.prototype.push,rt=function(i,e){On.apply(i,we(e)?e:[e])},Cn=Date.prototype.toISOString,Pt=Ae.default,J={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:It.encode,encodeValuesOnly:!1,format:Pt,formatter:Ae.formatters[Pt],indices:!1,serializeDate:function(e){return Cn.call(e)},skipNulls:!1,strictNullHandling:!1},An=function i(e,t,r,n,o,s,a,l,u,c,f,v,b){var y=e;if(typeof a=="function"?y=a(t,y):y instanceof Date?y=c(y):r==="comma"&&we(y)&&(y=y.join(",")),y===null){if(n)return s&&!v?s(t,J.encoder,b):t;y=""}if(typeof y=="string"||typeof y=="number"||typeof y=="boolean"||It.isBuffer(y)){if(s){var m=v?t:s(t,J.encoder,b);return[f(m)+"="+f(s(y,J.encoder,b))]}return[f(t)+"="+f(String(y))]}var E=[];if(typeof y=="undefined")return E;var x;if(we(a))x=a;else{var D=Object.keys(y);x=l?D.sort(l):D}for(var S=0;S<x.length;++S){var T=x[S];o&&y[T]===null||(we(y)?rt(E,i(y[T],typeof r=="function"?r(t,T):t,r,n,o,s,a,l,u,c,f,v,b)):rt(E,i(y[T],t+(u?"."+T:"["+T+"]"),r,n,o,s,a,l,u,c,f,v,b)))}return E},Sn=function(e){if(!e)return J;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||J.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Ae.default;if(typeof e.format!="undefined"){if(!qn.call(Ae.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Ae.formatters[r],o=J.filter;return(typeof e.filter=="function"||we(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:J.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?J.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:J.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?J.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:J.encode,encoder:typeof e.encoder=="function"?e.encoder:J.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:J.encodeValuesOnly,filter:o,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:J.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:J.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:J.strictNullHandling}};Nt.exports=function(i,e){var t=i,r=Sn(e),n,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):we(r.filter)&&(o=r.filter,n=o);var s=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in jt?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=jt[a];n||(n=Object.keys(t)),r.sort&&n.sort(r.sort);for(var u=0;u<n.length;++u){var c=n[u];r.skipNulls&&t[c]===null||rt(s,An(t[c],c,l,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.formatter,r.encodeValuesOnly,r.charset))}var f=s.join(r.delimiter),v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),f.length>0?v+f:""}});var zt=R((ks,Ht)=>{w();"use strict";var Se=Ne(),nt=Object.prototype.hasOwnProperty,Ut=Array.isArray,G={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Se.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},xn=function(i){return i.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Mt=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},Bn=function(e,t){if(Ut(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},Rn="utf8=%26%2310003%3B",Dn="utf8=%E2%9C%93",Fn=function(e,t){var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,o),a=-1,l,u=t.charset;if(t.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===Dn?u="utf-8":s[l]===Rn&&(u="iso-8859-1"),a=l,l=s.length);for(l=0;l<s.length;++l)if(l!==a){var c=s[l],f=c.indexOf("]="),v=f===-1?c.indexOf("="):f+1,b,y;v===-1?(b=t.decoder(c,G.decoder,u),y=t.strictNullHandling?null:""):(b=t.decoder(c.slice(0,v),G.decoder,u),y=Bn(Mt(c.slice(v+1),t),function(m){return t.decoder(m,G.decoder,u)})),y&&t.interpretNumericEntities&&u==="iso-8859-1"&&(y=xn(y)),c.indexOf("[]=")>-1&&(y=Ut(y)?[y]:y),nt.call(r,b)?r[b]=Se.combine(r[b],y):r[b]=y}return r},Tn=function(i,e,t,r){for(var n=r?e:Mt(e,t),o=i.length-1;o>=0;--o){var s,a=i[o];if(a==="[]"&&t.parseArrays)s=[].concat(n);else{s=t.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(l,10);!t.parseArrays&&l===""?s={0:n}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&t.parseArrays&&u<=t.arrayLimit?(s=[],s[u]=n):s[l]=n}n=s}return n},In=function(e,t,r,n){if(!!e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=s.exec(o),u=l?o.slice(0,l.index):o,c=[];if(u){if(!r.plainObjects&&nt.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var f=0;(l=a.exec(o))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&nt.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+o.slice(l.index)+"]"),Tn(c,t,r,n)}},jn=function(e){if(!e)return G;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset=="undefined"?G.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?G.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:G.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:G.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:G.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:G.comma,decoder:typeof e.decoder=="function"?e.decoder:G.decoder,delimiter:typeof e.delimiter=="string"||Se.isRegExp(e.delimiter)?e.delimiter:G.delimiter,depth:typeof e.depth=="number"?e.depth:G.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:G.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:G.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:G.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:G.strictNullHandling}};Ht.exports=function(i,e){var t=jn(e);if(i===""||i===null||typeof i=="undefined")return t.plainObjects?Object.create(null):{};for(var r=typeof i=="string"?Fn(i,t):i,n=t.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],l=In(a,r[a],t,typeof i=="string");n=Se.merge(n,l,t)}return Se.compact(n)}});var pe=R((Es,Gt)=>{w();"use strict";var Pn=Lt(),Nn=zt(),Ln=tt();Gt.exports={formats:Ln,parse:Nn,stringify:Pn}});var ge=R((xe,it)=>{w();(function(i){"use strict";function e(t){var r=t&&t.Promise||i.Promise,n=t&&t.XMLHttpRequest||i.XMLHttpRequest;return function(){var o=Object.create(i,{fetch:{value:void 0,writable:!0}});return function(s,a){typeof xe=="object"&&typeof it!="undefined"?a(xe):typeof define=="function"&&define.amd?define(["exports"],a):a(s.WHATWGFetch={})}(this,function(s){"use strict";var a=typeof o!="undefined"&&o||typeof self!="undefined"&&self||typeof a!="undefined"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(h){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(h){return h&&DataView.prototype.isPrototypeOf(h)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(h){return h&&c.indexOf(Object.prototype.toString.call(h))>-1};function v(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function b(h){return typeof h!="string"&&(h=String(h)),h}function y(h){var p={next:function(){var q=h.shift();return{done:q===void 0,value:q}}};return l.iterable&&(p[Symbol.iterator]=function(){return p}),p}function m(h){this.map={},h instanceof m?h.forEach(function(p,q){this.append(q,p)},this):Array.isArray(h)?h.forEach(function(p){this.append(p[0],p[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(p){this.append(p,h[p])},this)}m.prototype.append=function(h,p){h=v(h),p=b(p);var q=this.map[h];this.map[h]=q?q+", "+p:p},m.prototype.delete=function(h){delete this.map[v(h)]},m.prototype.get=function(h){return h=v(h),this.has(h)?this.map[h]:null},m.prototype.has=function(h){return this.map.hasOwnProperty(v(h))},m.prototype.set=function(h,p){this.map[v(h)]=b(p)},m.prototype.forEach=function(h,p){for(var q in this.map)this.map.hasOwnProperty(q)&&h.call(p,this.map[q],q,this)},m.prototype.keys=function(){var h=[];return this.forEach(function(p,q){h.push(q)}),y(h)},m.prototype.values=function(){var h=[];return this.forEach(function(p){h.push(p)}),y(h)},m.prototype.entries=function(){var h=[];return this.forEach(function(p,q){h.push([q,p])}),y(h)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function E(h){if(h.bodyUsed)return r.reject(new TypeError("Already read"));h.bodyUsed=!0}function x(h){return new r(function(p,q){h.onload=function(){p(h.result)},h.onerror=function(){q(h.error)}})}function D(h){var p=new FileReader,q=x(p);return p.readAsArrayBuffer(h),q}function S(h){var p=new FileReader,q=x(p);return p.readAsText(h),q}function T(h){for(var p=new Uint8Array(h),q=new Array(p.length),I=0;I<p.length;I++)q[I]=String.fromCharCode(p[I]);return q.join("")}function N(h){if(h.slice)return h.slice(0);var p=new Uint8Array(h.byteLength);return p.set(new Uint8Array(h)),p.buffer}function Y(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:l.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:l.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():l.arrayBuffer&&l.blob&&u(h)?(this._bodyArrayBuffer=N(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||f(h))?this._bodyArrayBuffer=N(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var h=E(this);if(h)return h;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=E(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?r.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):r.resolve(this._bodyArrayBuffer))}else return this.blob().then(D)}),this.text=function(){var h=E(this);if(h)return h;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(oe)}),this.json=function(){return this.text().then(JSON.parse)},this}var W=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function le(h){var p=h.toUpperCase();return W.indexOf(p)>-1?p:h}function V(h,p){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');p=p||{};var q=p.body;if(h instanceof V){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,p.headers||(this.headers=new m(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!q&&h._bodyInit!=null&&(q=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new m(p.headers)),this.method=le(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(q),(this.method==="GET"||this.method==="HEAD")&&(p.cache==="no-store"||p.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}V.prototype.clone=function(){return new V(this,{body:this._bodyInit})};function oe(h){var p=new FormData;return h.trim().split("&").forEach(function(q){if(q){var I=q.split("="),P=I.shift().replace(/\+/g," "),B=I.join("=").replace(/\+/g," ");p.append(decodeURIComponent(P),decodeURIComponent(B))}}),p}function fe(h){var p=new m,q=h.replace(/\r?\n[\t ]+/g," ");return q.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var P=I.split(":"),B=P.shift().trim();if(B){var ie=P.join(":").trim();p.append(B,ie)}}),p}Y.call(V.prototype);function M(h,p){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"",this.headers=new m(p.headers),this.url=p.url||"",this._initBody(h)}Y.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},M.error=function(){var h=new M(null,{status:0,statusText:""});return h.type="error",h};var ve=[301,302,303,307,308];M.redirect=function(h,p){if(ve.indexOf(p)===-1)throw new RangeError("Invalid status code");return new M(null,{status:p,headers:{location:h}})},s.DOMException=a.DOMException;try{new s.DOMException}catch(h){s.DOMException=function(p,q){this.message=p,this.name=q;var I=Error(p);this.stack=I.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function ne(h,p){return new r(function(q,I){var P=new V(h,p);if(P.signal&&P.signal.aborted)return I(new s.DOMException("Aborted","AbortError"));var B=new n;function ie(){B.abort()}B.onload=function(){var L={status:B.status,statusText:B.statusText,headers:fe(B.getAllResponseHeaders()||"")};L.url="responseURL"in B?B.responseURL:L.headers.get("X-Request-URL");var U="response"in B?B.response:B.responseText;setTimeout(function(){q(new M(U,L))},0)},B.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},B.onabort=function(){setTimeout(function(){I(new s.DOMException("Aborted","AbortError"))},0)};function Ve(L){try{return L===""&&a.location.href?a.location.href:L}catch(U){return L}}B.open(P.method,Ve(P.url),!0),P.credentials==="include"?B.withCredentials=!0:P.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(l.blob?B.responseType="blob":l.arrayBuffer&&P.headers.get("Content-Type")&&P.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(B.responseType="arraybuffer")),p&&typeof p.headers=="object"&&!(p.headers instanceof m)?Object.getOwnPropertyNames(p.headers).forEach(function(L){B.setRequestHeader(L,b(p.headers[L]))}):P.headers.forEach(function(L,U){B.setRequestHeader(U,L)}),P.signal&&(P.signal.addEventListener("abort",ie),B.onreadystatechange=function(){B.readyState===4&&P.signal.removeEventListener("abort",ie)}),B.send(typeof P._bodyInit=="undefined"?null:P._bodyInit)})}ne.polyfill=!0,a.fetch||(a.fetch=ne,a.Headers=m,a.Request=V,a.Response=M),s.Headers=m,s.Request=V,s.Response=M,s.fetch=ne,Object.defineProperty(s,"__esModule",{value:!0})}),{fetch:o.fetch,Headers:o.Headers,Request:o.Request,Response:o.Response,DOMException:o.DOMException}}()}typeof define=="function"&&define.amd?define(function(){return e}):typeof xe=="object"?it.exports=e:i.fetchPonyfill=e})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:xe)});var me=R((st,ot)=>{w();(function(i,e){typeof st=="object"&&typeof ot!="undefined"?ot.exports=e():typeof define=="function"&&define.amd?define(e):i.ES6Promise=e()})(st,function(){"use strict";function i(d){var g=typeof d;return d!==null&&(g==="object"||g==="function")}function e(d){return typeof d=="function"}var t=void 0;Array.isArray?t=Array.isArray:t=function(d){return Object.prototype.toString.call(d)==="[object Array]"};var r=t,n=0,o=void 0,s=void 0,a=function(g,_){T[n]=g,T[n+1]=_,n+=2,n===2&&(s?s(N):W())};function l(d){s=d}function u(d){a=d}var c=typeof window!="undefined"?window:void 0,f=c||{},v=f.MutationObserver||f.WebKitMutationObserver,b=typeof self=="undefined"&&typeof A!="undefined"&&{}.toString.call(A)==="[object process]",y=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function m(){return function(){return A.nextTick(N)}}function E(){return typeof o!="undefined"?function(){o(N)}:S()}function x(){var d=0,g=new v(N),_=document.createTextNode("");return g.observe(_,{characterData:!0}),function(){_.data=d=++d%2}}function D(){var d=new MessageChannel;return d.port1.onmessage=N,function(){return d.port2.postMessage(0)}}function S(){var d=setTimeout;return function(){return d(N,1)}}var T=new Array(1e3);function N(){for(var d=0;d<n;d+=2){var g=T[d],_=T[d+1];g(_),T[d]=void 0,T[d+1]=void 0}n=0}function Y(){try{var d=Function("return this")().require("vertx");return o=d.runOnLoop||d.runOnContext,E()}catch(g){return S()}}var W=void 0;b?W=m():v?W=x():y?W=D():c===void 0&&typeof Pe=="function"?W=Y():W=S();function le(d,g){var _=this,k=new this.constructor(fe);k[oe]===void 0&&At(k);var O=_._state;if(O){var C=arguments[O-1];a(function(){return Ot(O,k,C,_._result)})}else Qe(_,k,d,g);return k}function V(d){var g=this;if(d&&typeof d=="object"&&d.constructor===g)return d;var _=new g(fe);return ie(_,d),_}var oe=Math.random().toString(36).substring(2);function fe(){}var M=void 0,ve=1,ne=2;function h(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function q(d,g,_,k){try{d.call(g,_,k)}catch(O){return O}}function I(d,g,_){a(function(k){var O=!1,C=q(_,g,function(H){O||(O=!0,g!==H?ie(k,H):L(k,H))},function(H){O||(O=!0,U(k,H))},"Settle: "+(k._label||" unknown promise"));!O&&C&&(O=!0,U(k,C))},d)}function P(d,g){g._state===ve?L(d,g._result):g._state===ne?U(d,g._result):Qe(g,void 0,function(_){return ie(d,_)},function(_){return U(d,_)})}function B(d,g,_){g.constructor===d.constructor&&_===le&&g.constructor.resolve===V?P(d,g):_===void 0?L(d,g):e(_)?I(d,g,_):L(d,g)}function ie(d,g){if(d===g)U(d,h());else if(i(g)){var _=void 0;try{_=g.then}catch(k){U(d,k);return}B(d,g,_)}else L(d,g)}function Ve(d){d._onerror&&d._onerror(d._result),Xe(d)}function L(d,g){d._state===M&&(d._result=g,d._state=ve,d._subscribers.length!==0&&a(Xe,d))}function U(d,g){d._state===M&&(d._state=ne,d._result=g,a(Ve,d))}function Qe(d,g,_,k){var O=d._subscribers,C=O.length;d._onerror=null,O[C]=g,O[C+ve]=_,O[C+ne]=k,C===0&&d._state&&a(Xe,d)}function Xe(d){var g=d._subscribers,_=d._state;if(g.length!==0){for(var k=void 0,O=void 0,C=d._result,H=0;H<g.length;H+=3)k=g[H],O=g[H+_],k?Ot(_,k,O,C):O(C);d._subscribers.length=0}}function Ot(d,g,_,k){var O=e(_),C=void 0,H=void 0,_e=!0;if(O){try{C=_(k)}catch(je){_e=!1,H=je}if(g===C){U(g,p());return}}else C=k;g._state!==M||(O&&_e?ie(g,C):_e===!1?U(g,H):d===ve?L(g,C):d===ne&&U(g,C))}function Xr(d,g){try{g(function(k){ie(d,k)},function(k){U(d,k)})}catch(_){U(d,_)}}var Ct=0;function Yr(){return Ct++}function At(d){d[oe]=Ct++,d._state=void 0,d._result=void 0,d._subscribers=[]}function $r(){return new Error("Array Methods must be provided an Array")}var Zr=function(){function d(g,_){this._instanceConstructor=g,this.promise=new g(fe),this.promise[oe]||At(this.promise),r(_)?(this.length=_.length,this._remaining=_.length,this._result=new Array(this.length),this.length===0?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(_),this._remaining===0&&L(this.promise,this._result))):U(this.promise,$r())}return d.prototype._enumerate=function(_){for(var k=0;this._state===M&&k<_.length;k++)this._eachEntry(_[k],k)},d.prototype._eachEntry=function(_,k){var O=this._instanceConstructor,C=O.resolve;if(C===V){var H=void 0,_e=void 0,je=!1;try{H=_.then}catch($e){je=!0,_e=$e}if(H===le&&_._state!==M)this._settledAt(_._state,k,_._result);else if(typeof H!="function")this._remaining--,this._result[k]=_;else if(O===Q){var Ye=new O(fe);je?U(Ye,_e):B(Ye,_,H),this._willSettleAt(Ye,k)}else this._willSettleAt(new O(function($e){return $e(_)}),k)}else this._willSettleAt(C(_),k)},d.prototype._settledAt=function(_,k,O){var C=this.promise;C._state===M&&(this._remaining--,_===ne?U(C,O):this._result[k]=O),this._remaining===0&&L(C,this._result)},d.prototype._willSettleAt=function(_,k){var O=this;Qe(_,void 0,function(C){return O._settledAt(ve,k,C)},function(C){return O._settledAt(ne,k,C)})},d}();function en(d){return new Zr(this,d).promise}function tn(d){var g=this;return r(d)?new g(function(_,k){for(var O=d.length,C=0;C<O;C++)g.resolve(d[C]).then(_,k)}):new g(function(_,k){return k(new TypeError("You must pass an array to race."))})}function rn(d){var g=this,_=new g(fe);return U(_,d),_}function nn(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function sn(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Q=function(){function d(g){this[oe]=Yr(),this._result=this._state=void 0,this._subscribers=[],fe!==g&&(typeof g!="function"&&nn(),this instanceof d?Xr(this,g):sn())}return d.prototype.catch=function(_){return this.then(null,_)},d.prototype.finally=function(_){var k=this,O=k.constructor;return e(_)?k.then(function(C){return O.resolve(_()).then(function(){return C})},function(C){return O.resolve(_()).then(function(){throw C})}):k.then(_,_)},d}();Q.prototype.then=le,Q.all=en,Q.race=tn,Q.resolve=V,Q.reject=rn,Q._setScheduler=l,Q._setAsap=u,Q._asap=a;function on(){var d=void 0;if(typeof window!="undefined")d=window;else if(typeof self!="undefined")d=self;else try{d=Function("return this")()}catch(k){throw new Error("polyfill failed because global object is unavailable in this environment")}var g=d.Promise;if(g){var _=null;try{_=Object.prototype.toString.call(g.resolve())}catch(k){}if(_==="[object Promise]"&&!g.cast)return}d.Promise=Q}return Q.polyfill=on,Q.Promise=Q,Q})});var Kt=R(at=>{w();var Jt;(function(i){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof at=="object"?i(at):typeof define=="function"&&define.amd?define(function(){var e={};return i(e),e}):i(Jt={}):i(Jt={})})(function(i){i.version="1.2.0";function e(){for(var a=0,l=new Array(256),u=0;u!=256;++u)a=u,a=a&1?-306674912^a>>>1:a>>>1,a=a&1?-306674912^a>>>1:a>>>1,a=a&1?-306674912^a>>>1:a>>>1,a=a&1?-306674912^a>>>1:a>>>1,a=a&1?-306674912^a>>>1:a>>>1,a=a&1?-306674912^a>>>1:a>>>1,a=a&1?-306674912^a>>>1:a>>>1,a=a&1?-306674912^a>>>1:a>>>1,l[u]=a;return typeof Int32Array!="undefined"?new Int32Array(l):l}var t=e();function r(a,l){for(var u=l^-1,c=a.length-1,f=0;f<c;)u=u>>>8^t[(u^a.charCodeAt(f++))&255],u=u>>>8^t[(u^a.charCodeAt(f++))&255];return f===c&&(u=u>>>8^t[(u^a.charCodeAt(f))&255]),u^-1}function n(a,l){if(a.length>1e4)return o(a,l);for(var u=l^-1,c=a.length-3,f=0;f<c;)u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255];for(;f<c+3;)u=u>>>8^t[(u^a[f++])&255];return u^-1}function o(a,l){for(var u=l^-1,c=a.length-7,f=0;f<c;)u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255],u=u>>>8^t[(u^a[f++])&255];for(;f<c+7;)u=u>>>8^t[(u^a[f++])&255];return u^-1}function s(a,l){for(var u=l^-1,c=0,f=a.length,v,b;c<f;)v=a.charCodeAt(c++),v<128?u=u>>>8^t[(u^v)&255]:v<2048?(u=u>>>8^t[(u^(192|v>>6&31))&255],u=u>>>8^t[(u^(128|v&63))&255]):v>=55296&&v<57344?(v=(v&1023)+64,b=a.charCodeAt(c++)&1023,u=u>>>8^t[(u^(240|v>>8&7))&255],u=u>>>8^t[(u^(128|v>>2&63))&255],u=u>>>8^t[(u^(128|b>>6&15|(v&3)<<4))&255],u=u>>>8^t[(u^(128|b&63))&255]):(u=u>>>8^t[(u^(224|v>>12&15))&255],u=u>>>8^t[(u^(128|v>>6&63))&255],u=u>>>8^t[(u^(128|v&63))&255]);return u^-1}i.table=t,i.bstr=r,i.buf=n,i.str=s})});var Wt=R((Le,Ue)=>{w();(function(i,e){var t={version:"2.12.0",areas:{},apis:{},inherit:function(n,o){for(var s in n)o.hasOwnProperty(s)||Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(n,s));return o},stringify:function(n){return n===void 0||typeof n=="function"?n+"":JSON.stringify(n)},parse:function(n,o){try{return JSON.parse(n,o||t.revive)}catch(s){return n}},fn:function(n,o){t.storeAPI[n]=o;for(var s in t.apis)t.apis[s][n]=o},get:function(n,o){return n.getItem(o)},set:function(n,o,s){n.setItem(o,s)},remove:function(n,o){n.removeItem(o)},key:function(n,o){return n.key(o)},length:function(n){return n.length},clear:function(n){n.clear()},Store:function(n,o,s){var a=t.inherit(t.storeAPI,function(u,c,f){return arguments.length===0?a.getAll():typeof c=="function"?a.transact(u,c,f):c!==void 0?a.set(u,c,f):typeof u=="string"||typeof u=="number"?a.get(u):typeof u=="function"?a.each(u):u?a.setAll(u,c):a.clear()});a._id=n;try{var l="__store2_test";o.setItem(l,"ok"),a._area=o,o.removeItem(l)}catch(u){a._area=t.storage("fake")}return a._ns=s||"",t.areas[n]||(t.areas[n]=a._area),t.apis[a._ns+a._id]||(t.apis[a._ns+a._id]=a),a},storeAPI:{area:function(n,o){var s=this[n];return(!s||!s.area)&&(s=t.Store(n,o,this._ns),this[n]||(this[n]=s)),s},namespace:function(n,o){if(!n)return this._ns?this._ns.substring(0,this._ns.length-1):"";var s=n,a=this[s];if((!a||!a.namespace)&&(a=t.Store(this._id,this._area,this._ns+s+"."),this[s]||(this[s]=a),!o))for(var l in t.areas)a.area(l,t.areas[l]);return a},isFake:function(){return this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(n){return this._area.has?this._area.has(this._in(n)):this._in(n)in this._area},size:function(){return this.keys().length},each:function(n,o){for(var s=0,a=t.length(this._area);s<a;s++){var l=this._out(t.key(this._area,s));if(l!==void 0&&n.call(this,l,this.get(l),o)===!1)break;a>t.length(this._area)&&(a--,s--)}return o||this},keys:function(n){return this.each(function(o,s,a){a.push(o)},n||[])},get:function(n,o){var s=t.get(this._area,this._in(n)),a;return typeof o=="function"&&(a=o,o=null),s!==null?t.parse(s,a):o??s},getAll:function(n){return this.each(function(o,s,a){a[o]=s},n||{})},transact:function(n,o,s){var a=this.get(n,s),l=o(a);return this.set(n,l===void 0?a:l),this},set:function(n,o,s){var a=this.get(n);return a!=null&&s===!1?o:t.set(this._area,this._in(n),t.stringify(o),s)||a},setAll:function(n,o){var s,a;for(var l in n)a=n[l],this.set(l,a,o)!==a&&(s=!0);return s},add:function(n,o){var s=this.get(n);if(s instanceof Array)o=s.concat(o);else if(s!==null){var a=typeof s;if(a===typeof o&&a==="object"){for(var l in o)s[l]=o[l];o=s}else o=s+o}return t.set(this._area,this._in(n),t.stringify(o)),o},remove:function(n,o){var s=this.get(n,o);return t.remove(this._area,this._in(n)),s},clear:function(){return this._ns?this.each(function(n){t.remove(this._area,this._in(n))},1):t.clear(this._area),this},clearAll:function(){var n=this._area;for(var o in t.areas)t.areas.hasOwnProperty(o)&&(this._area=t.areas[o],this.clear());return this._area=n,this},_in:function(n){return typeof n!="string"&&(n=t.stringify(n)),this._ns?this._ns+n:n},_out:function(n){return this._ns?n&&n.indexOf(this._ns)===0?n.substring(this._ns.length):void 0:n}},storage:function(n){return t.inherit(t.storageAPI,{items:{},name:n})},storageAPI:{length:0,has:function(n){return this.items.hasOwnProperty(n)},key:function(n){var o=0;for(var s in this.items)if(this.has(s)&&n===o++)return s},setItem:function(n,o){this.has(n)||this.length++,this.items[n]=o},removeItem:function(n){this.has(n)&&(delete this.items[n],this.length--)},getItem:function(n){return this.has(n)?this.items[n]:null},clear:function(){for(var n in this.items)this.removeItem(n)}}},r=t.Store("local",function(){try{return localStorage}catch(n){}}());r.local=r,r._=t,r.area("session",function(){try{return sessionStorage}catch(n){}}()),r.area("page",t.storage("page")),typeof e=="function"&&e.amd!==void 0?e("store2",[],function(){return r}):typeof Ue!="undefined"&&Ue.exports?Ue.exports=r:(i.store&&(t.conflict=i.store),i.store=r)})(Le,Le&&Le.define)});var Qt=R((Os,Vt)=>{w();"use strict";Vt.exports=function(i,e){var t=e.set,r=e.get,n=e.remove,o=e.key,s=e.length,a=e.clear;e.overflow=function(l,u){var c=l===e.areas.local?"+local+":l===e.areas.session?"+session+":!1;if(c){var f=e.areas[c];return u&&!f?f=i.area(c)._area:u===!1&&(delete e.areas[c],delete i[c]),f}},e.set=function(l,u,c){try{t.apply(this,arguments)}catch(f){if(f.name==="QUOTA_EXCEEDED_ERR"||f.name==="NS_ERROR_DOM_QUOTA_REACHED"||f.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||f.toString().indexOf("QuotaExceededError")!==-1)return e.set(e.overflow(l,!0),u,c);throw f}},e.get=function(l,u){var c=e.overflow(l);return c&&r.call(this,c,u)||r.apply(this,arguments)},e.remove=function(l,u){var c=e.overflow(l);c&&n.call(this,c,u),n.apply(this,arguments)},e.key=function(l,u){var c=e.overflow(l);if(c){var f=s.call(this,l);if(u>=f){u=u-f;for(var v=0,b=s.call(this,c);v<b;v++)if(v===u)return o.call(this,c,v)}}return o.apply(this,arguments)},e.length=function(l){var u=s(l),c=e.overflow(l);return c?u+s(c):u},e.clear=function(l){e.overflow(l,!1),a.apply(this,arguments)}}});var Me=R((Cs,Xt)=>{w();"use strict";var ut=Wt(),Un=Qt();Un(ut,ut._);Xt.exports=ut});var re=R((As,$t)=>{w();"use strict";var Yt=Kt(),ct=Me(),lt="_constructorio_purchase_order_ids",he={trimNonBreakingSpaces:function(e){return e.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];typeof n=="string"?t[r]=he.trimNonBreakingSpaces(n):t[r]=n}),t},throwHttpErrorFromResponse:function(e,t){return t.json().then(function(r){throw e.message=r.message,e.status=t.status,e.statusText=t.statusText,e.url=t.url,e.headers=t.headers,e})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(e,t,r){he.canUseDOM()&&window.addEventListener(e,t,r)},removeEventListener:function(e,t,r){he.canUseDOM()&&window.removeEventListener(e,t,r)},getNavigator:function(){return he.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(e){return e==null},getWindowLocation:function(){return he.canUseDOM()?window.location:{}},dispatchEvent:function(e){he.canUseDOM()&&window.dispatchEvent(e)},createCustomEvent:function(e,t){if(he.canUseDOM())try{return new window.CustomEvent(e,{detail:t})}catch(n){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!1,t),r}return null},hasOrderIdRecord:function(e){var t=Yt.str(e.toString()),r=ct.local.get(lt);return typeof r=="string"&&(r=JSON.parse(r)),r&&r.includes(t)?!0:null},addOrderIdRecord:function(e){var t=Yt.str(e.toString()),r=ct.local.get(lt);if(typeof r=="string"&&(r=JSON.parse(r)),r){if(r.includes(t))return;r.length>=10&&(r=r.slice(-9)),r.push(t)}else r=[t];ct.local.set(lt,r)},applyNetworkTimeout:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=e&&e.networkParameters&&e.networkParameters.timeout,o=t&&t.timeout,s=n||o;typeof s=="number"&&r&&setTimeout(function(){return r.abort()},s)}};$t.exports=he});var ye=R((Ss,er)=>{w();"use strict";var Zt=Z(),Mn=Zt(ee()),Hn=Zt(te()),He=re(),zn=function(){function i(e){var t=this;(0,Mn.default)(this,i),this.events=[],this.enabled=!(e&&e.enabled===!1),this.waitForBeacon=!(e&&e.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,He.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),He.addEventListener("cio.beacon.loaded",function(){t.enabled&&(t.active=!0,t.dispatchEvents())}))}return(0,Hn.default)(i,[{key:"queue",value:function(t,r){this.events.push({name:t,data:r}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var t=this.events.shift(),r=t.name,n=t.data,o="cio.client.".concat(r);He.dispatchEvent(He.createCustomEvent(o,n))}}}]),i}();er.exports=zn});var ir=R((xs,nr)=>{w();"use strict";var tr=Z(),Gn=tr(ee()),Jn=tr(te()),Kn=pe(),Wn=ge(),rr=me(),Vn=ye(),de=re();function Qn(i,e,t){var r=t.apiKey,n=t.version,o=t.serviceUrl,s=t.sessionId,a=t.clientId,l=t.userId,u=t.segments,c=t.testCells,f={c:n};if(f.key=r,f.i=a,f.s=s,!i||typeof i!="string")throw new Error("query is a required parameter of type string");if(c&&Object.keys(c).forEach(function(oe){f["ef-".concat(oe)]=c[oe]}),u&&u.length&&(f.us=u),l&&(f.ui=l),e){var v=e.offset,b=e.page,y=e.resultsPerPage,m=e.filters,E=e.sortBy,x=e.sortOrder,D=e.section,S=e.fmtOptions,T=e.hiddenFields,N=e.hiddenFacets,Y=e.variationsMap,W=e.qsParam,le=e.preFilterExpression;de.isNil(v)||(f.offset=v),de.isNil(b)||(f.page=b),de.isNil(y)||(f.num_results_per_page=y),m&&(f.filters=m),E&&(f.sort_by=E),x&&(f.sort_order=x),D&&(f.section=D),S&&(f.fmt_options=S),T&&(f.fmt_options?f.fmt_options.hidden_fields=T:f.fmt_options={hidden_fields:T}),N&&(f.fmt_options?f.fmt_options.hidden_facets=N:f.fmt_options={hidden_facets:N}),Y&&(f.variations_map=JSON.stringify(Y)),le&&(f.pre_filter_expression=JSON.stringify(le)),W&&(f.qs=JSON.stringify(W))}f._dt=Date.now(),f=de.cleanParams(f);var V=Kn.stringify(f,{indices:!1});return"".concat(o,"/search/").concat(de.encodeURIComponentRFC3986(de.trimNonBreakingSpaces(i)),"?").concat(V)}var Xn=function(){function i(e){(0,Gn.default)(this,i),this.options=e||{},this.eventDispatcher=new Vn(e.eventDispatcher)}return(0,Jn.default)(i,[{key:"getSearchResults",value:function(t,r){var n=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a=this.options&&this.options.fetch||Wn({Promise:rr}).fetch,l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,de.applyNetworkTimeout(this.options,o,u)}try{s=Qn(t,r,this.options)}catch(c){return rr.reject(c)}return a(s,{signal:l}).then(function(c){return c.ok?c.json():de.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.response&&c.response.results)return c.result_id&&c.response.results.forEach(function(f){f.result_id=c.result_id}),n.eventDispatcher.queue("search.getSearchResults.completed",c),c;if(c.response&&c.response.redirect)return n.eventDispatcher.queue("search.getSearchResults.completed",c),c;throw new Error("getSearchResults response data is malformed")})}}]),i}();nr.exports=Xn});var ft=R((Bs,Be)=>{w();function Yn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}Be.exports=Yn,Be.exports.__esModule=!0,Be.exports.default=Be.exports});var ar=R((Rs,or)=>{w();"use strict";var ht=Z(),$n=ht(ee()),Zn=ht(te()),ei=ht(ft());function sr(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function ze(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sr(Object(t),!0).forEach(function(r){(0,ei.default)(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):sr(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Re=pe(),De=ge(),ae=me(),ti=ye(),z=re();function Fe(i,e){var t=e.apiKey,r=e.version,n=e.sessionId,o=e.clientId,s=e.userId,a=e.segments,l=e.testCells,u={c:r};if(u.key=t,u.i=o,u.s=n,l&&Object.keys(l).forEach(function(W){u["ef-".concat(W)]=l[W]}),a&&a.length&&(u.us=a),s&&(u.ui=s),i){var c=i.page,f=i.offset,v=i.resultsPerPage,b=i.filters,y=i.sortBy,m=i.sortOrder,E=i.section,x=i.fmtOptions,D=i.hiddenFields,S=i.hiddenFacets,T=i.variationsMap,N=i.qsParam,Y=i.preFilterExpression;z.isNil(c)||(u.page=c),z.isNil(f)||(u.offset=f),z.isNil(v)||(u.num_results_per_page=v),b&&(u.filters=b),y&&(u.sort_by=y),m&&(u.sort_order=m),E&&(u.section=E),x&&(u.fmt_options=x),D&&(u.fmt_options?u.fmt_options.hidden_fields=D:u.fmt_options={hidden_fields:D}),S&&(u.fmt_options?u.fmt_options.hidden_facets=S:u.fmt_options={hidden_facets:S}),T&&(u.variations_map=JSON.stringify(T)),Y&&(u.pre_filter_expression=JSON.stringify(Y)),N&&(u.qs=JSON.stringify(N))}return u._dt=Date.now(),u=z.cleanParams(u),u}function ri(i,e,t,r){var n=r.serviceUrl;if(!i||typeof i!="string")throw new Error("filterName is a required parameter of type string");if(!e||typeof e!="string")throw new Error("filterValue is a required parameter of type string");var o=Fe(t,r),s=Re.stringify(o,{indices:!1});return"".concat(n,"/browse/").concat(z.encodeURIComponentRFC3986(z.trimNonBreakingSpaces(i)),"/").concat(z.encodeURIComponentRFC3986(z.trimNonBreakingSpaces(e)),"?").concat(s)}function ni(i,e,t){var r=t.serviceUrl;if(!i||!Array.isArray(i)||!i.length)throw new Error("ids is a required parameter of type array");var n=ze(ze({},Fe(e,t)),{},{ids:i}),o=Re.stringify(n,{indices:!1});return"".concat(r,"/browse/items?").concat(o)}function ii(i,e){var t=e.serviceUrl,r=ze({},Fe(i,e));delete r._dt;var n=Re.stringify(r,{indices:!1});return"".concat(t,"/browse/facets?").concat(n)}function si(i,e,t){var r=t.serviceUrl;if(!i||typeof i!="string")throw new Error("facetName is a required parameter of type string");var n=ze({},Fe(e,t));n.facet_name=i,delete n._dt;var o=Re.stringify(n,{indices:!1});return"".concat(r,"/browse/facet_options?").concat(o)}var oi=function(){function i(e){(0,$n.default)(this,i),this.options=e||{},this.eventDispatcher=new ti(e.eventDispatcher)}return(0,Zn.default)(i,[{key:"getBrowseResults",value:function(t,r,n){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a,l=this.options&&this.options.fetch||De({Promise:ae}).fetch,u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,z.applyNetworkTimeout(this.options,s,c)}try{a=ri(t,r,n,this.options)}catch(f){return ae.reject(f)}return l(a,{signal:u}).then(function(f){return f.ok?f.json():z.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(v){v.result_id=f.result_id}),o.eventDispatcher.queue("browse.getBrowseResults.completed",f),f;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(t,r){var n=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a=this.options&&this.options.fetch||De({Promise:ae}).fetch,l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,z.applyNetworkTimeout(this.options,o,u)}try{s=ni(t,r,this.options)}catch(c){return ae.reject(c)}return a(s,{signal:l}).then(function(c){return c.ok?c.json():z.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.response&&c.response.results)return c.result_id&&c.response.results.forEach(function(f){f.result_id=c.result_id}),n.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",c),c;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.options&&this.options.fetch||De({Promise:ae}).fetch,s=this.options.serviceUrl,a=Fe(t,this.options),l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,z.applyNetworkTimeout(this.options,n,u)}delete a._dt;var c=Re.stringify(a,{indices:!1}),f="".concat(s,"/browse/groups?").concat(c);return o(f,{signal:l}).then(function(v){return v.ok?v.json():z.throwHttpErrorFromResponse(new Error,v)}).then(function(v){if(v.response&&v.response.groups)return r.eventDispatcher.queue("browse.getBrowseGroups.completed",v),v;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(t,r){var n=this,o,s=this.options&&this.options.fetch||De({Promise:ae}).fetch,a;if(typeof AbortController=="function"){var l=new AbortController;a=l&&l.signal,z.applyNetworkTimeout(this.options,r,l)}try{o=ii(t,this.options)}catch(u){return ae.reject(u)}return s(o,{signal:a}).then(function(u){return u.ok?u.json():z.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.facets)return n.eventDispatcher.queue("browse.getBrowseFacets.completed",u),u;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a=this.options&&this.options.fetch||De({Promise:ae}).fetch,l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,z.applyNetworkTimeout(this.options,o,u)}try{s=si(t,n,this.options)}catch(c){return ae.reject(c)}return a(s,{signal:l}).then(function(c){return c.ok?c.json():z.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.response&&c.response.facets)return r.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",c),c;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),i}();or.exports=oi});var fr=R((Ds,lr)=>{w();"use strict";var ur=Z(),ai=ur(ee()),ui=ur(te()),ci=pe(),li=ge(),cr=me(),fi=ye(),Te=re(),hi=Te.throwHttpErrorFromResponse,di=Te.cleanParams,vi=Te.applyNetworkTimeout,pi=Te.trimNonBreakingSpaces,gi=Te.encodeURIComponentRFC3986;function mi(i,e,t){var r=t.apiKey,n=t.version,o=t.serviceUrl,s=t.sessionId,a=t.clientId,l=t.userId,u=t.segments,c=t.testCells,f={c:n};if(f.key=r,f.i=a,f.s=s,!i||typeof i!="string")throw new Error("query is a required parameter of type string");if(c&&Object.keys(c).forEach(function(S){f["ef-".concat(S)]=c[S]}),u&&u.length&&(f.us=u),l&&(f.ui=l),e){var v=e.numResults,b=e.resultsPerSection,y=e.filters,m=e.hiddenFields,E=e.variationsMap;v&&(f.num_results=v),b&&Object.keys(b).forEach(function(S){f["num_results_".concat(S)]=b[S]}),y&&(f.filters=y),m&&(f.fmt_options?f.fmt_options.hidden_fields=m:f.fmt_options={hidden_fields:m}),E&&(f.variations_map=JSON.stringify(E))}f._dt=Date.now(),f=di(f);var x=ci.stringify(f,{indices:!1}),D=i.replace(/^\//,"|");return"".concat(o,"/autocomplete/").concat(gi(pi(D)),"?").concat(x)}var yi=function(){function i(e){(0,ai.default)(this,i),this.options=e||{},this.eventDispatcher=new fi(e.eventDispatcher)}return(0,ui.default)(i,[{key:"getAutocompleteResults",value:function(t,r){var n=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a=this.options&&this.options.fetch||li({Promise:cr}).fetch,l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,vi(this.options,o,u)}try{s=mi(t,r,this.options)}catch(c){return cr.reject(c)}return a(s,{signal:l}).then(function(c){return c.ok?c.json():hi(new Error,c)}).then(function(c){if(c.sections){if(c.result_id){var f=Object.keys(c.sections);f.forEach(function(v){var b=c.sections[v];b.length&&b.forEach(function(y){y.result_id=c.result_id})})}return n.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",c),c}throw new Error("getAutocompleteResults response data is malformed")})}}]),i}();lr.exports=yi});var pr=R((Fs,vr)=>{w();"use strict";var hr=Z(),_i=hr(ee()),bi=hr(te()),wi=pe(),ki=ge(),dr=me(),Ei=ye(),ke=re();function qi(i,e,t){var r=t.apiKey,n=t.version,o=t.serviceUrl,s=t.sessionId,a=t.userId,l=t.clientId,u=t.segments,c={c:n};if(c.key=r,c.i=l,c.s=s,!i||typeof i!="string")throw new Error("podId is a required parameter of type string");if(u&&u.length&&(c.us=u),a&&(c.ui=a),e){var f=e.numResults,v=e.itemIds,b=e.section,y=e.term,m=e.filters,E=e.variationsMap;ke.isNil(f)||(c.num_results=f),v&&(c.item_id=v),b&&(c.section=b),y&&(c.term=y),m&&(c.filters=m),E&&(c.variations_map=JSON.stringify(E))}c=ke.cleanParams(c);var x=wi.stringify(c,{indices:!1});return"".concat(o,"/recommendations/v1/pods/").concat(ke.encodeURIComponentRFC3986(ke.trimNonBreakingSpaces(i)),"?").concat(x)}var Oi=function(){function i(e){(0,_i.default)(this,i),this.options=e||{},this.eventDispatcher=new Ei(e.eventDispatcher)}return(0,bi.default)(i,[{key:"getRecommendations",value:function(t,r){var n=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a=this.options&&this.options.fetch||ki({Promise:dr}).fetch,l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,ke.applyNetworkTimeout(this.options,o,u)}r=r||{};try{s=qi(t,r,this.options)}catch(c){return dr.reject(c)}return a(s,{signal:l}).then(function(c){return c.ok?c.json():ke.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.response&&c.response.results)return c.result_id&&c.response.results.forEach(function(f){f.result_id=c.result_id}),n.eventDispatcher.queue("recommendations.getRecommendations.completed",c),c;throw new Error("getRecommendations response data is malformed")})}}]),i}();vr.exports=Oi});var vt=R((Ts,ue)=>{w();function dt(i){return ue.exports=dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue.exports.__esModule=!0,ue.exports.default=ue.exports,dt(i)}ue.exports=dt,ue.exports.__esModule=!0,ue.exports.default=ue.exports});var Cr=R((Is,pt)=>{w();"use strict";var Ee=typeof Reflect=="object"?Reflect:null,gr=Ee&&typeof Ee.apply=="function"?Ee.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Ge;Ee&&typeof Ee.ownKeys=="function"?Ge=Ee.ownKeys:Object.getOwnPropertySymbols?Ge=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ge=function(e){return Object.getOwnPropertyNames(e)};function Ci(i){console&&console.warn&&console.warn(i)}var mr=Number.isNaN||function(e){return e!==e};function F(){F.init.call(this)}pt.exports=F;pt.exports.once=Bi;F.EventEmitter=F;F.prototype._events=void 0;F.prototype._eventsCount=0;F.prototype._maxListeners=void 0;var yr=10;function Je(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(F,"defaultMaxListeners",{enumerable:!0,get:function(){return yr},set:function(i){if(typeof i!="number"||i<0||mr(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");yr=i}});F.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};F.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||mr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _r(i){return i._maxListeners===void 0?F.defaultMaxListeners:i._maxListeners}F.prototype.getMaxListeners=function(){return _r(this)};F.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")gr(l,this,t);else for(var u=l.length,c=qr(l,u),r=0;r<u;++r)gr(c[r],this,t);return!0};function br(i,e,t,r){var n,o,s;if(Je(t),o=i._events,o===void 0?(o=i._events=Object.create(null),i._eventsCount=0):(o.newListener!==void 0&&(i.emit("newListener",e,t.listener?t.listener:t),o=i._events),s=o[e]),s===void 0)s=o[e]=t,++i._eventsCount;else if(typeof s=="function"?s=o[e]=r?[t,s]:[s,t]:r?s.unshift(t):s.push(t),n=_r(i),n>0&&s.length>n&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=i,a.type=e,a.count=s.length,Ci(a)}return i}F.prototype.addListener=function(e,t){return br(this,e,t,!1)};F.prototype.on=F.prototype.addListener;F.prototype.prependListener=function(e,t){return br(this,e,t,!0)};function Ai(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function wr(i,e,t){var r={fired:!1,wrapFn:void 0,target:i,type:e,listener:t},n=Ai.bind(r);return n.listener=t,r.wrapFn=n,n}F.prototype.once=function(e,t){return Je(t),this.on(e,wr(this,e,t)),this};F.prototype.prependOnceListener=function(e,t){return Je(t),this.prependListener(e,wr(this,e,t)),this};F.prototype.removeListener=function(e,t){var r,n,o,s,a;if(Je(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():Si(r,o),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(n=0;n<o.length;++n)s=o[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function kr(i,e,t){var r=i._events;if(r===void 0)return[];var n=r[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?xi(n):qr(n,n.length)}F.prototype.listeners=function(e){return kr(this,e,!0)};F.prototype.rawListeners=function(e){return kr(this,e,!1)};F.listenerCount=function(i,e){return typeof i.listenerCount=="function"?i.listenerCount(e):Er.call(i,e)};F.prototype.listenerCount=Er;function Er(i){var e=this._events;if(e!==void 0){var t=e[i];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}F.prototype.eventNames=function(){return this._eventsCount>0?Ge(this._events):[]};function qr(i,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=i[r];return t}function Si(i,e){for(;e+1<i.length;e++)i[e]=i[e+1];i.pop()}function xi(i){for(var e=new Array(i.length),t=0;t<e.length;++t)e[t]=i[t].listener||i[t];return e}function Bi(i,e){return new Promise(function(t,r){function n(s){i.removeListener(e,o),r(s)}function o(){typeof i.removeListener=="function"&&i.removeListener("error",n),t([].slice.call(arguments))}Or(i,e,o,{once:!0}),e!=="error"&&Ri(i,n,{once:!0})})}function Ri(i,e,t){typeof i.on=="function"&&Or(i,"error",e,t)}function Or(i,e,t,r){if(typeof i.on=="function")r.once?i.once(e,t):i.on(e,t);else if(typeof i.addEventListener=="function")i.addEventListener(e,function n(o){r.once&&i.removeEventListener(e,n),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}});var Sr=R((js,Ar)=>{w();"use strict";Ar.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot"]});var Dr=R((Ps,Rr)=>{w();"use strict";var xr=Z(),Di=xr(ee()),Fi=xr(te()),gt=Me(),Ti=Sr(),mt=re(),yt="_constructorio_is_human",Br=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],Ii=function(){function i(){var e=this;(0,Di.default)(this,i),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var t=function r(){e.isHumanBoolean=!0,gt.session.set(yt,!0),Br.forEach(function(n){mt.removeEventListener(n,r,!0)})};this.isHumanBoolean||Br.forEach(function(r){mt.addEventListener(r,t,!0)})}return(0,Fi.default)(i,[{key:"getIsHumanFromSessionStorage",value:function(){return!!gt.session.get(yt)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!gt.session.get(yt)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var t=mt.getNavigator(),r=t.userAgent,n=t.webdriver,o=new RegExp("(".concat(Ti.join("|"),")"));return Boolean(r.match(o))||Boolean(n)}}]),i}();Rr.exports=Ii});var Ir=R((Ns,Tr)=>{w();"use strict";var Fr=Z(),ji=Fr(ee()),Pi=Fr(te()),Ni=ge(),Li=me(),_t=Me(),Ui=Dr(),bt=re(),wt="_constructorio_requests",Mi=18e4,Hi=function(){function i(e,t){var r=this;(0,ji.default)(this,i),this.options=e,this.eventemitter=t,this.humanity=new Ui,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(e&&e.sendTrackingEvents===!0),bt.addEventListener("beforeunload",function(){r.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,Pi.default)(i,[{key:"queue",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var s=i.get();s.push({url:t,method:r,body:n,networkParameters:o}),i.set(s)}}},{key:"sendEvents",value:function(){var t=this,r=this.options&&this.options.fetch||Ni({Promise:Li}).fetch,n=i.get();if((!bt.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&n.length){var o,s=n.shift(),a=s,l=a.networkParameters,u,c=this;if(i.set(n),l&&typeof AbortController=="function"){var f=new AbortController;u=f.signal,bt.applyNetworkTimeout(this.options,l,f)}if(typeof s=="string"&&(s={url:s,method:"GET"}),s.url){var v=s.url.match(/\?.*_dt=([^&]+)/),b=parseInt(v&&v[1],10),y=+new Date;if(b&&Number.isInteger(b)&&y-b>Mi){this.sendTrackingEvents=!1,i.remove();return}}s.method==="GET"&&(o=r(s.url,{signal:u})),s.method==="POST"&&(o=r(s.url,{method:s.method,body:JSON.stringify(s.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:u})),o&&(this.requestPending=!0,o.then(function(m){m.ok?c.eventemitter&&c.eventemitter.emit("success",{url:s.url,method:s.method,message:"ok"}):m.json().then(function(E){c.eventemitter&&c.eventemitter.emit("error",{url:s.url,method:s.method,message:E&&E.message})}).catch(function(E){c.eventemitter&&c.eventemitter.emit("error",{url:s.url,method:s.method,message:E.type})})}).catch(function(m){c.eventemitter&&c.eventemitter.emit("error",{url:s.url,method:s.method,message:m.toString()})}).finally(function(){t.requestPending=!1,t.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return _t.local.get(wt)||[]}},{key:"set",value:function(t){!t||Array.isArray(t)&&t.length===0?i.remove():_t.local.set(wt,t);var r=i.get();Array.isArray(r)&&r.length!==t.length&&(this.sendTrackingEvents=!1,i.remove())}},{key:"remove",value:function(){_t.local.remove(wt)}}]),i}();Tr.exports=Hi});var Ur=R((Ls,Lr)=>{w();"use strict";var Ke=Z(),zi=Ke(ft()),$=Ke(vt()),Gi=Ke(ee()),Ji=Ke(te());function jr(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function K(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jr(Object(t),!0).forEach(function(r){(0,zi.default)(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):jr(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Ki=pe(),Wi=Cr(),j=re(),Pr=Ir();function ce(i,e){var t=e.apiKey,r=e.version,n=e.sessionId,o=e.clientId,s=e.userId,a=e.segments,l=e.testCells,u=e.requestMethod,c=e.beaconMode,f=j.getWindowLocation(),v=f.host,b=f.pathname,y=e.sendReferrerWithTrackingEvents!==!1,m=Object.assign(i);return r&&(m.c=r),o&&(m.i=o),n&&(m.s=n),s&&(m.ui=s),a&&a.length&&(m.us=a),t&&(m.key=t),l&&Object.keys(l).forEach(function(E){m["ef-".concat(E)]=l[E]}),c&&u&&u.match(/POST/i)&&(m.beacon=!0),y&&v&&(m.origin_referrer=v,b&&(m.origin_referrer+=b)),m._dt=Date.now(),m=j.cleanParams(m),m}function X(i,e){return Ki.stringify(ce(i,e),{indices:!1})}var Nr=function(){function i(e){(0,Gi.default)(this,i),this.options=e||{},this.eventemitter=new Wi,this.requests=new Pr(e,this.eventemitter)}return(0,Ji.default)(i,[{key:"trackSessionStart",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),n={action:"session_start"};return this.requests.queue("".concat(r).concat(X(n,this.options)),void 0,void 0,t),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),n={action:"focus"};return this.requests.queue("".concat(r).concat(X(n,this.options)),void 0,void 0,t),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,$.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),o={},s={},a=t.item_name,l=t.name,u=t.item_id,c=t.customer_id,f=t.variation_id,v=t.url;a?s.item_name=a:l&&(s.item_name=l),u?s.item_id=u:c&&(s.item_id=c),f&&(s.variation_id=f),v&&(s.url=v);var b="".concat(n).concat(X(o,this.options)),y="POST",m=ce(s,K(K({},this.options),{},{requestMethod:y}));return this.requests.queue(b,y,m,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelect",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,$.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/autocomplete/").concat(j.encodeURIComponentRFC3986(j.trimNonBreakingSpaces(t)),"/select?"),s={},a=r.original_query,l=r.section,u=r.original_section,c=r.tr,f=r.group_id,v=r.display_name;return a&&(s.original_query=a),c&&(s.tr=c),(u||l)&&(s.section=u||l),f&&(s.group={group_id:f,display_name:v}),this.requests.queue("".concat(o).concat(X(s,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,$.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/autocomplete/").concat(j.encodeURIComponentRFC3986(j.trimNonBreakingSpaces(t)),"/search?"),s={},a=r.original_query,l=r.group_id,u=r.display_name;return a&&(s.original_query=a),l&&(s.group={group_id:l,display_name:u}),this.requests.queue("".concat(o).concat(X(s,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,$.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/behavior?"),s={action:"search-results",term:t},a=r.num_results,l=r.customer_ids,u=r.item_ids,c;return j.isNil(a)||(s.num_results=a),u&&Array.isArray(u)&&u.length?c=u:l&&Array.isArray(l)&&l.length&&(c=l),c&&c.length&&(s.customer_ids=c.slice(0,100).join(",")),this.requests.queue("".concat(o).concat(X(s,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,$.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/autocomplete/").concat(j.encodeURIComponentRFC3986(j.trimNonBreakingSpaces(t)),"/click_through?"),s={},a=r.item_name,l=r.name,u=r.item_id,c=r.customer_id,f=r.variation_id,v=r.result_id,b=r.item_is_convertible;return a?s.name=a:l&&(s.name=l),u?s.customer_id=u:c&&(s.customer_id=c),f&&(s.variation_id=f),v&&(s.result_id=v),typeof b=="boolean"&&(s.item_is_convertible=b),this.requests.queue("".concat(o).concat(X(s,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r&&(0,$.default)(r)==="object"&&!Array.isArray(r)){var o=t||"TERM_UNKNOWN",s="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},l={},u=r.name,c=r.item_name,f=r.item_id,v=r.customer_id,b=r.variation_id,y=r.revenue,m=r.section,E=m===void 0?"Products":m,x=r.display_name,D=r.type,S=r.is_custom_type;f?l.item_id=f:v&&(l.item_id=v),c?l.item_name=c:u&&(l.item_name=u),b&&(l.variation_id=b),y&&(l.revenue=y.toString()),E&&(a.section=E,l.section=E),o&&(l.search_term=o),D&&(l.type=D),S&&(l.is_custom_type=S),x&&(l.display_name=x);var T="".concat(s).concat(X(a,this.options)),N="POST",Y=ce(l,K(K({},this.options),{},{requestMethod:N}));return this.requests.queue(T,N,Y,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,$.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),o={},s={},a=t.items,l=t.revenue,u=t.order_id,c=t.section;if(u){if(j.hasOrderIdRecord(u))return!1;j.addOrderIdRecord(u),s.order_id=u}a&&Array.isArray(a)&&(s.items=a.slice(0,100)),l&&(s.revenue=l),c?o.section=c:o.section="Products";var f="".concat(n).concat(X(o,this.options)),v="POST",b=ce(s,K(K({},this.options),{},{requestMethod:v}));return this.requests.queue(f,v,b,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,$.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),o={},s=t.result_count,a=t.result_page,l=t.result_id,u=t.section,c=t.url,f=t.pod_id,v=t.num_results_viewed,b=t.items;j.isNil(s)||(o.result_count=s),j.isNil(a)||(o.result_page=a),l&&(o.result_id=l),u?o.section=u:o.section="Products",c&&(o.url=c),f&&(o.pod_id=f),j.isNil(v)||(o.num_results_viewed=v),b&&Array.isArray(b)&&(o.items=b.slice(0,100));var y="".concat(n).concat(X({},this.options)),m="POST",E=ce(o,K(K({},this.options),{},{requestMethod:m}));return this.requests.queue(y,m,E,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,$.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),o={},s=t.variation_id,a=t.section,l=t.result_id,u=t.result_count,c=t.result_page,f=t.result_position_on_page,v=t.num_results_per_page,b=t.pod_id,y=t.strategy_id,m=t.item_id,E=t.item_name;s&&(o.variation_id=s),a?o.section=a:o.section="Products",l&&(o.result_id=l),j.isNil(u)||(o.result_count=u),j.isNil(c)||(o.result_page=c),j.isNil(f)||(o.result_position_on_page=f),j.isNil(v)||(o.num_results_per_page=v),b&&(o.pod_id=b),y&&(o.strategy_id=y),m&&(o.item_id=m),E&&(o.item_name=E);var x="".concat(n).concat(X({},this.options)),D="POST",S=ce(o,K(K({},this.options),{},{requestMethod:D}));return this.requests.queue(x,D,S,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,$.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),o={},s=t.section,a=t.result_count,l=t.result_page,u=t.result_id,c=t.selected_filters,f=t.url,v=t.sort_order,b=t.sort_by,y=t.filter_name,m=t.filter_value,E=t.items;s?o.section=s:o.section="Products",j.isNil(a)||(o.result_count=a),j.isNil(l)||(o.result_page=l),u&&(o.result_id=u),c&&(o.selected_filters=c),f&&(o.url=f),v&&(o.sort_order=v),b&&(o.sort_by=b),y&&(o.filter_name=y),m&&(o.filter_value=m),E&&Array.isArray(E)&&(o.items=E.slice(0,100));var x="".concat(n).concat(X({},this.options)),D="POST",S=ce(o,K(K({},this.options),{},{requestMethod:D}));return this.requests.queue(x,D,S,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,$.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),o={},s=t.section,a=t.variation_id,l=t.result_id,u=t.result_count,c=t.result_page,f=t.result_position_on_page,v=t.num_results_per_page,b=t.selected_filters,y=t.filter_name,m=t.filter_value,E=t.item_id;s?o.section=s:o.section="Products",a&&(o.variation_id=a),l&&(o.result_id=l),j.isNil(u)||(o.result_count=u),j.isNil(c)||(o.result_page=c),j.isNil(f)||(o.result_position_on_page=f),j.isNil(v)||(o.num_results_per_page=v),b&&(o.selected_filters=b),y&&(o.filter_name=y),m&&(o.filter_value=m),E&&(o.item_id=E);var x="".concat(n).concat(X({},this.options)),D="POST",S=ce(o,K(K({},this.options),{},{requestMethod:D}));return this.requests.queue(x,D,S,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,$.default)(t)==="object"&&!!t.item_id){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),o={},s=t.item_id,a=t.item_name,l=t.variation_id,u=t.section;o.section=u||"Products",o.item_id=s,a&&(o.item_name=a),l&&(o.variation_id=l);var c="".concat(n).concat(X({},this.options)),f="POST",v=ce(o,K(K({},this.options),{},{requestMethod:f}));return this.requests.queue(c,f,v,r),this.requests.send(),!0}return this.requests.send(),new Error('A parameters object with an "item_id" property is required.')}},{key:"on",value:function(t,r){return t!=="success"&&t!=="error"?new Error('messageType must be a string of value "success" or "error"'):!r||typeof r!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(t,r),!0)}}]),i}();Nr.RequestQueue=Pr;Lr.exports=Nr});var Mr=R((Us,Vi)=>{Vi.exports={name:"@constructor-io/constructorio-client-javascript",version:"2.30.0",description:"Constructor.io JavaScript client",main:"lib/constructorio.js",scripts:{clean:"sudo rm -rf node_modules package-lock.json",version:"chmod +x ./scripts/verify-node-version.sh && ./scripts/verify-node-version.sh && npm run docs && git add ./docs/* && npm run bundle && git add -A ./dist","check-lisc":"license-checker --production --onlyAllow 'Apache-2.0;BSD-3-Clause;MIT'",lint:"eslint 'src/**/*.js' 'spec/**/*.js'",test:"npm run compile && mkdir -p test && cp -rf lib/* test && mocha ./spec/*","test:src":"mkdir -p test && cp -rf src/* test && mocha ./spec/*","test:bundled":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha ./spec/*","test:all":"npm run test && npm run test:bundled",precoverage:"rm -rf ./coverage && rm -rf ./.nyc_output",coverage:"nyc --all --reporter=html npm run test:src",postcoverage:"serve --listen 8080 --config ./serve.json && rm -rf test",docs:"jsdoc --configure ./.jsdoc.json ./README.md --recurse ./src --destination ./docs",compile:"babel src/ -d lib/",prepublish:"npm run compile",bundle:"rm -rf ./dist/* && npm run compile && node bundle.js",prepare:"husky install"},repository:{type:"git",url:"git+https://github.com/Constructor-io/constructorio-client-javascript.git"},author:"constructor.io",license:"MIT",bugs:{url:"https://github.com/Constructor-io/constructorio-client-javascript/issues"},homepage:"https://github.com/Constructor-io/constructorio-client-javascript#readme",files:["lib/**/*"],devDependencies:{"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/plugin-transform-runtime":"^7.16.4","@babel/preset-env":"^7.15.8","@babel/register":"^7.15.3","@cspell/eslint-plugin":"^6.8.2",chai:"^4.2.0","chai-as-promised":"^7.1.1",dotenv:"^8.6.0",esbuild:"^0.12.28",eslint:"^8.17.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2",husky:"^7.0.4",jsdoc:"^3.6.7",jsdom:"^16.5.0","license-checker":"^25.0.1","lodash.clonedeep":"^4.5.0",minami:"^1.2.3",mocha:"^9.1.3",nyc:"^15.1.0",serve:"^13.0.2",sinon:"^7.5.0","sinon-chai":"^3.7.0"},dependencies:{"@constructor-io/constructorio-id":"^2.4.10","crc-32":"^1.2.0","es6-promise":"^4.2.8",events:"^3.0.0","fetch-ponyfill":"^7.1.0",qs:"6.7.2",store2:"^2.9.0"},peerDependencies:{"@babel/runtime":"^7.19.0"}}});var Kr=R((Ms,Jr)=>{w();"use strict";var kt=Z(),Qi=kt(ee()),Xi=kt(te()),Yi=kt(vt()),Hr=pe(),zr=ge(),We=me(),$i=ye(),Ie=re();function Gr(i,e,t,r){var n=t.apiKey,o=t.clientId,s=t.sessionId,a=t.segments,l=t.userId,u=t.version,c="https://quizzes.cnstrc.com",f={c:u},v="";if(f.key=n,f.i=o,f.s=s,a&&a.length&&(f.us=a),l&&(f.ui=l),!i||typeof i!="string")throw new Error("quizId is a required parameter of type string");if(r==="finalize"&&((0,Yi.default)(e.a)!=="object"||!Array.isArray(e.a)||e.a.length===0))throw new Error("a is a required parameter of type array");if(e){var b=e.section,y=e.a,m=e.versionId;b&&(f.section=b),m&&(f.version_id=m),y&&y.forEach(function(x){v+="&".concat(Hr.stringify({a:x},{arrayFormat:"comma"}))})}f._dt=Date.now(),f=Ie.cleanParams(f);var E=Hr.stringify(f,{indices:!1});return"".concat(c,"/v1/quizzes/").concat(encodeURIComponent(i),"/").concat(encodeURIComponent(r),"/?").concat(E).concat(v)}var Zi=function(){function i(e){(0,Qi.default)(this,i),this.options=e||{},this.eventDispatcher=new $i(e.eventDispatcher)}return(0,Xi.default)(i,[{key:"getNextQuestion",value:function(t,r){var n=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a=this.options&&this.options.fetch||zr({Promise:We}).fetch,l=new AbortController,u=l.signal;try{s=Gr(t,r,this.options,"next")}catch(c){return We.reject(c)}return Ie.applyNetworkTimeout(this.options,o,l),a(s,{signal:u}).then(function(c){return c.ok?c.json():Ie.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.version_id)return n.eventDispatcher.queue("quizzes.getNextQuiz.completed",c),c;throw new Error("getNextQuiz response data is malformed")})}},{key:"getQuizResults",value:function(t,r){var n=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a=this.options&&this.options.fetch||zr({Promise:We}).fetch,l=new AbortController,u=l.signal;try{s=Gr(t,r,this.options,"finalize")}catch(c){return We.reject(c)}return Ie.applyNetworkTimeout(this.options,o,l),a(s,{signal:u}).then(function(c){return c.ok?c.json():Ie.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.version_id)return n.eventDispatcher.queue("quizzes.getQuizResults.completed",c),c;throw new Error("getQuizResults response data is malformed")})}}]),i}();Jr.exports=Zi});var hs=R((Hs,Qr)=>{w();"use strict";var Wr=Z(),es=Wr(ee()),ts=Wr(te()),rs=Bt(),ns=ir(),is=ar(),ss=fr(),os=pr(),Vr=Ur(),as=ye(),Et=re(),us=Mr(),cs=us.version,ls=Kr(),fs=function(){var e="ciojs-client-",t=[];return Et.canUseDOM()||t.push("domless"),typeof A!="undefined"&&typeof A.env!="undefined"&&A.env.BUNDLED&&t.push("bundled"),"".concat(e).concat(t.join("-")).concat(t.length?"-":"").concat(cs)},qt=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,es.default)(this,i);var t=e.apiKey,r=e.version,n=e.serviceUrl,o=e.segments,s=e.testCells,a=e.clientId,l=e.sessionId,u=e.userId,c=e.fetch,f=e.trackingSendDelay,v=e.sendReferrerWithTrackingEvents,b=e.sendTrackingEvents,y=e.eventDispatcher,m=e.idOptions,E=e.beaconMode,x=e.networkParameters;if(!t||typeof t!="string")throw new Error("API key is a required parameter of type string");var D,S,T=typeof window!="undefined"&&window.CLIENT_VERSION;if(Et.canUseDOM()){var N=new rs(m||{});D=N.session_id,S=N.client_id}else{if(!l||typeof l!="number")throw new Error("sessionId is a required user parameter of type number");if(!a||typeof a!="string")throw new Error("clientId is a required user parameter of type string")}this.options={apiKey:t,version:r||T||fs(),serviceUrl:n&&n.replace(/\/$/,"")||"https://ac.cnstrc.com",sessionId:l||D,clientId:a||S,userId:u,segments:o,testCells:s,fetch:c,trackingSendDelay:f,sendTrackingEvents:b,sendReferrerWithTrackingEvents:v,eventDispatcher:y,beaconMode:E!==!1,networkParameters:x||{}},this.search=new ns(this.options),this.browse=new is(this.options),this.autocomplete=new ss(this.options),this.recommendations=new os(this.options),this.tracker=new Vr(this.options),this.quizzes=new ls(this.options),new as(e.eventDispatcher).queue("instantiated",this.options)}return(0,ts.default)(i,[{key:"setClientOptions",value:function(t){if(Object.keys(t).length){var r=t.apiKey,n=t.segments,o=t.testCells,s=t.userId;r&&(this.options.apiKey=r),n&&(this.options.segments=n),o&&(this.options.testCells=o),s&&(this.options.userId=s)}}}]),i}();qt.Tracker=Vr;Et.canUseDOM()&&(window.ConstructorioClient=qt);Qr.exports=qt});hs();})();
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
/*! store2 - v2.12.0 - 2020-08-12
* Copyright (c) 2020 Nathan Bubna; Licensed (MIT OR GPL-3.0) */

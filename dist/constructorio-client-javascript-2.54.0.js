/*!
 *
 * Constructor.io JavaScript Client, version 2.54.0
 * (c) 2015-2024 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 * ---
 * Includes code from the 'browserify/events' library, licensed under the MIT License.
 * For full license details, see the library documentation.
 *
 */
(()=>{var rt=typeof require!="undefined"?require:r=>{throw new Error('Dynamic require of "'+r+'" is not supported')};var pi=(r,t)=>()=>(r&&(t=r(r=0)),t);var N=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var yi,U,E=pi(()=>{yi={BUNDLED:"true"},U={env:yi}});var X=N((_n,le)=>{E();function wi(r){return r&&r.__esModule?r:{default:r}}le.exports=wi,le.exports.__esModule=!0,le.exports.default=le.exports});var $=N((pn,fe)=>{E();function bi(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}fe.exports=bi,fe.exports.__esModule=!0,fe.exports.default=fe.exports});var ee=N((yn,de)=>{E();function ot(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function ki(r,t,e){return t&&ot(r.prototype,t),e&&ot(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}de.exports=ki,de.exports.__esModule=!0,de.exports.default=de.exports});var st=N((wn,De)=>{E();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){"use strict";if(t==null)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null){o=Object(o);for(var s=Object.keys(Object(o)),n=0,c=s.length;c>n;n++){var f=s[n],a=Object.getOwnPropertyDescriptor(o,f);a!==void 0&&a.enumerable&&(e[f]=o[f])}}}return e}});var r=function(t){var e={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_secure:null,cookie_samesite:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,new_to_beacon:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,e,t),!this.client_id)if(!this.on_node&&this.persist){var i;this.client_id_storage_location==="cookie"&&(i=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(i=this.get_local_object(this.local_name_client_id)),this.client_id=i||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};r.prototype.set_cookie=function(t,e){if(!this.on_node&&this.persist){var i=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),o=t+"="+e+"; expires="+i.toUTCString()+"; path=/";return this.cookie_domain&&(o+="; domain="+this.cookie_domain),this.cookie_secure&&(o+="; secure"),this.cookie_samesite&&(o+="; samesite="+this.cookie_samesite),document.cookie=o,o}return null},r.prototype.get_cookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){var s=i[o];try{for(var n=decodeURIComponent(s);n.charAt(0)===" ";)n=n.substring(1);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}catch(c){}}},r.prototype.delete_cookie=function(t){document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},r.prototype.generate_client_id=function(){var t;if(!this.on_node){var e=this.get_cookie(this.cookie_name_client_id),i=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&i&&(t=i,this.set_cookie(this.cookie_name_client_id,t),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&e&&(t=e,this.set_local_object(this.local_name_client_id,t),this.delete_cookie(this.cookie_name_client_id))}return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,n=o==="x"?s:s&3|8;return n.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,t),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,t)),t},r.prototype.get_local_object=function(t){var e,i=window&&window.localStorage;if(i&&typeof t=="string")try{e=JSON.parse(i.getItem(t))}catch(o){e=i.getItem(t)}return e},r.prototype.set_local_object=function(t,e){var i=window&&window.localStorage;if(i&&typeof t=="string"){if(typeof e=="object")try{i.setItem(t,JSON.stringify(e))}catch(o){}if(typeof e=="string"||typeof e=="number")try{i.setItem(t,e)}catch(o){}}},r.prototype.delete_local_object=function(t){var e=window&&window.localStorage;if(e&&typeof t=="string")try{e.removeItem(t)}catch(i){}},r.prototype.generate_session_id=function(){var t=this.get_cookie(this.cookie_name_session_data),e=this.get_local_object(this.local_name_session_data),i=Date.now(),o=1e3*60*30,s;if(this.session_id_storage_location==="local"&&(s=this.get_local_object(this.local_name_session_data),!s&&t&&(s=t,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){s=this.get_cookie(this.cookie_name_session_data);try{s=JSON.parse(s)}catch(a){}!s&&e&&(s=e,this.delete_local_object(this.local_name_session_data))}var n=1,c=1;s&&typeof s=="object"&&(c=parseInt(s.sessionId,10)||1,s.lastTime>i-o?n=c:n=c+1),this.session_id=n,this.session_is_new=!(s&&c===n),s&&s.newToBeacon&&(this.new_to_beacon=!0);let f={sessionId:n,lastTime:i};return this.session_is_new&&(f.newToBeacon=!0),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,n),this.set_local_object(this.local_name_session_data,f)),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,n),this.set_cookie(this.cookie_name_session_data,JSON.stringify(f))),n},typeof De!="undefined"&&typeof rt!="undefined"&&(De.exports=r)})()});var ve=N((bn,ne)=>{E();function Le(r){return ne.exports=Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne.exports.__esModule=!0,ne.exports.default=ne.exports,Le(r)}ne.exports=Le,ne.exports.__esModule=!0,ne.exports.default=ne.exports});var at=N(Be=>{E();var ut;(function(r){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof Be=="object"?r(Be):typeof define=="function"&&define.amd?define(function(){var t={};return r(t),t}):r(ut={}):r(ut={})})(function(r){r.version="1.2.2";function t(){for(var v=0,A=new Array(256),g=0;g!=256;++g)v=g,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,A[g]=v;return typeof Int32Array!="undefined"?new Int32Array(A):A}var e=t();function i(v){var A=0,g=0,k=0,C=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)C[k]=v[k];for(k=0;k!=256;++k)for(g=v[k],A=256+k;A<4096;A+=256)g=C[A]=g>>>8^v[g&255];var m=[];for(k=1;k!=16;++k)m[k-1]=typeof Int32Array!="undefined"?C.subarray(k*256,k*256+256):C.slice(k*256,k*256+256);return m}var o=i(e),s=o[0],n=o[1],c=o[2],f=o[3],a=o[4],u=o[5],l=o[6],d=o[7],_=o[8],y=o[9],h=o[10],p=o[11],S=o[12],b=o[13],w=o[14];function O(v,A){for(var g=A^-1,k=0,C=v.length;k<C;)g=g>>>8^e[(g^v.charCodeAt(k++))&255];return~g}function R(v,A){for(var g=A^-1,k=v.length-15,C=0;C<k;)g=w[v[C++]^g&255]^b[v[C++]^g>>8&255]^S[v[C++]^g>>16&255]^p[v[C++]^g>>>24]^h[v[C++]]^y[v[C++]]^_[v[C++]]^d[v[C++]]^l[v[C++]]^u[v[C++]]^a[v[C++]]^f[v[C++]]^c[v[C++]]^n[v[C++]]^s[v[C++]]^e[v[C++]];for(k+=15;C<k;)g=g>>>8^e[(g^v[C++])&255];return~g}function q(v,A){for(var g=A^-1,k=0,C=v.length,m=0,B=0;k<C;)m=v.charCodeAt(k++),m<128?g=g>>>8^e[(g^m)&255]:m<2048?(g=g>>>8^e[(g^(192|m>>6&31))&255],g=g>>>8^e[(g^(128|m&63))&255]):m>=55296&&m<57344?(m=(m&1023)+64,B=v.charCodeAt(k++)&1023,g=g>>>8^e[(g^(240|m>>8&7))&255],g=g>>>8^e[(g^(128|m>>2&63))&255],g=g>>>8^e[(g^(128|B>>6&15|(m&3)<<4))&255],g=g>>>8^e[(g^(128|B&63))&255]):(g=g>>>8^e[(g^(224|m>>12&15))&255],g=g>>>8^e[(g^(128|m>>6&63))&255],g=g>>>8^e[(g^(128|m&63))&255]);return~g}r.table=e,r.bstr=O,r.buf=R,r.str=q})});var me=N((qn,ct)=>{E();"use strict";var qi={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(typeof sessionStorage=="undefined")return null;var i=sessionStorage.getItem(t);if(i)try{return JSON.parse(i)}catch(o){return i}return null},set:function(t,e){try{sessionStorage.setItem(t,JSON.stringify(e))}catch(i){this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],typeof sessionStorage!="undefined"&&sessionStorage.removeItem(t)},key:function(t){var e,i;if(typeof sessionStorage=="undefined"){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[t]}var s=(e=sessionStorage)===null||e===void 0?void 0:e.key(t),n=((i=sessionStorage)===null||i===void 0?void 0:i.length)||0;if(t>=n){var c,f=t-n;return(c=Object.keys(this.overflow))===null||c===void 0?void 0:c[f]}return s},length:function(){var t=Object.keys(this.overflow).length;return typeof sessionStorage=="undefined"?t:sessionStorage.length+t},clear:function(){this.overflow={},typeof sessionStorage!="undefined"&&sessionStorage.clear()}},mi={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(typeof localStorage=="undefined")return null;var i=localStorage.getItem(t);if(i)try{return JSON.parse(i)}catch(o){return i}return null},set:function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(i){this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],typeof localStorage!="undefined"&&localStorage.removeItem(t)},key:function(t){var e,i;if(typeof localStorage=="undefined"){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[t]}var s=(e=localStorage)===null||e===void 0?void 0:e.key(t),n=((i=localStorage)===null||i===void 0?void 0:i.length)||0;if(t>=n){var c,f=t-n;return(c=Object.keys(this.overflow))===null||c===void 0?void 0:c[f]}return s},length:function(){var t=Object.keys(this.overflow).length;return typeof localStorage=="undefined"?t:localStorage.length+t},clear:function(){this.overflow={},typeof localStorage!="undefined"&&localStorage.clear()}},Si={local:mi,session:qi};ct.exports=Si});var Z=N((mn,dt)=>{E();"use strict";var Ei=X(),lt=Ei(ve()),ft=at(),Fe=me(),ze="_constructorio_purchase_order_ids",Ci=[{pattern:/[\w\-+\\.]+@([\w-]+\.)+[\w-]{2,4}/,replaceWith:"<email_omitted>"},{pattern:/^(?:\+\d{11,12}|\+\d{1,3}\s\d{3}\s\d{3}\s\d{3,4}|\(\d{3}\)\d{7}|\(\d{3}\)\s\d{3}\s\d{4}|\(\d{3}\)\d{3}-\d{4}|\(\d{3}\)\s\d{3}-\d{4})$/,replaceWith:"<phone_omitted>"},{pattern:/^(?:4[0-9]{15}|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$/,replaceWith:"<credit_omitted>"}],W={trimNonBreakingSpaces:function(t){return t.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(t){var e={};return Object.keys(t).forEach(function(i){var o=t[i];typeof o=="string"?e[i]=W.trimNonBreakingSpaces(o):e[i]=o}),e},throwHttpErrorFromResponse:function(t,e){return e.json().then(function(i){throw t.message=i.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,t.headers=e.headers,t})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(t,e,i){W.canUseDOM()&&window.addEventListener(t,e,i)},removeEventListener:function(t,e,i){W.canUseDOM()&&window.removeEventListener(t,e,i)},getNavigator:function(){return W.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(t){return t==null},getWindowLocation:function(){return W.canUseDOM()?window.location:{}},dispatchEvent:function(t){W.canUseDOM()&&window.dispatchEvent(t)},createCustomEvent:function(t,e){if(W.canUseDOM())try{return new window.CustomEvent(t,{detail:e})}catch(o){var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!1,e),i}return null},hasOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,o=e;i&&(o="".concat(i,"-").concat(e));var s=ft.str(o.toString()),n=Fe.local.get(ze);return typeof n=="string"&&(n=JSON.parse(n)),n&&n.includes(s)?!0:null},addOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,o=e;i&&(o="".concat(i,"-").concat(e));var s=ft.str(o.toString()),n=Fe.local.get(ze);if(typeof n=="string"&&(n=JSON.parse(n)),n){if(n.includes(s))return;n.length>=10&&(n=n.slice(-9)),n.push(s)}else n=[s];Fe.local.set(ze,n)},applyNetworkTimeout:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=t&&t.networkParameters&&t.networkParameters.timeout,s=e&&e.timeout,n=s||o;typeof n=="number"&&i&&setTimeout(function(){return i.abort()},n)},stringify:function(t,e,i){if(!t)return"";var o=[];return Object.keys(t).forEach(function(s){var n=t[s],c=W.encodeURIComponentRFC3986(s),f;if(n!=null){var a=e?"".concat(e,"%5B").concat(c,"%5D"):c;Array.isArray(n)?f=W.stringify(n,a,"array"):(0,lt.default)(n)==="object"?f=W.stringify(n,a,"object"):i==="object"?f="".concat(a,"=").concat(W.encodeURIComponentRFC3986(n)):f="".concat(e||c,"=").concat(W.encodeURIComponentRFC3986(n)),o.push(f)}}),o.join("&")},toSnakeCase:function(t){return t.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={};return Object.keys(t).forEach(function(o){var s=W.toSnakeCase(o);i[s]=e&&(0,lt.default)(t[o])==="object"&&!Array.isArray(t[o])?W.toSnakeCaseKeys(t[o],e):t[o]}),i},containsPii:function(t,e){var i=t.toLowerCase();return e.test(i)},obfuscatePiiRequest:function(t){var e=t;try{var i,o,s,n=new URL(t),c=n==null||(i=n.pathname)===null||i===void 0?void 0:i.split("/"),f=n==null||(o=n.search)===null||o===void 0||(s=o.split("&"))===null||s===void 0?void 0:s.map(function(a){var u;return(u=a.split("="))===null||u===void 0?void 0:u[1]});Ci.forEach(function(a){var u=a.pattern,l=a.replaceWith;c.forEach(function(d){var _=decodeURIComponent(d);W.containsPii(_,u)&&(e=e.replaceAll(d,l))}),f.forEach(function(d){var _=decodeURIComponent(d);W.containsPii(_,u)&&(e=e.replaceAll(_,l))})})}catch(a){}return e},convertResponseToJson:function(t){return t.ok?t.json().catch(function(){return t.text().then(function(e){throw new Error("Server responded with an invalid JSON object. Response code: ".concat(t.code,", Response: ").concat(e))})}):W.throwHttpErrorFromResponse(new Error,t)},addHTTPSToString:function(t){if(typeof t!="string")return null;var e=t.startsWith("https://"),i=t.startsWith("http://");if(!e&&i)return t.replace("http","https");if(!i&&!e){var o="https://".concat(t);return o}return t}};dt.exports=W});var se=N((Sn,ht)=>{E();"use strict";var vt=X(),Ri=vt($()),Ai=vt(ee()),Se=Z(),Oi=function(){function r(t){var e=this;(0,Ri.default)(this,r),this.events=[],this.enabled=!(t&&t.enabled===!1),this.waitForBeacon=!(t&&t.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,Se.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),Se.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,Ai.default)(r,[{key:"queue",value:function(e,i){this.events.push({name:e,data:i}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),i=e.name,o=e.data,s="cio.client.".concat(i);Se.dispatchEvent(Se.createCustomEvent(s,o))}}}]),r}();ht.exports=Oi});var yt=N((En,pt)=>{E();"use strict";var gt=X(),Ti=gt($()),xi=gt(ee()),Ii=se(),te=Z();function _t(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e.apiKey,s=e.version,n=e.serviceUrl,c=e.sessionId,f=e.clientId,a=e.userId,u=e.segments,l=e.testCells,d={c:s};if(d.key=o,d.i=f,d.s=c,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(l&&Object.keys(l).forEach(function(m){d["ef-".concat(m)]=l[m]}),u&&u.length&&(d.us=u),a&&(d.ui=String(a)),t){var _=t.offset,y=t.page,h=t.resultsPerPage,p=t.filters,S=t.sortBy,b=t.sortOrder,w=t.section,O=t.fmtOptions,R=t.hiddenFields,q=t.hiddenFacets,v=t.variationsMap,A=t.qsParam,g=t.preFilterExpression;te.isNil(_)||(d.offset=_),te.isNil(y)||(d.page=y),te.isNil(h)||(d.num_results_per_page=h),p&&(d.filters=p),S&&(d.sort_by=S),b&&(d.sort_order=b),w&&(d.section=w),O&&(d.fmt_options=O),R&&(d.fmt_options?d.fmt_options.hidden_fields=R:d.fmt_options={hidden_fields:R}),q&&(d.fmt_options?d.fmt_options.hidden_facets=q:d.fmt_options={hidden_facets:q}),v&&(d.variations_map=JSON.stringify(v)),g&&(d.pre_filter_expression=JSON.stringify(g)),A&&(d.qs=JSON.stringify(A))}d._dt=Date.now(),d=te.cleanParams(d);var k=te.stringify(d),C=i?"search/natural_language":"search";return"".concat(n,"/").concat(C,"/").concat(te.encodeURIComponentRFC3986(te.trimNonBreakingSpaces(r)),"?").concat(k)}var Ui=function(){function r(t){(0,Ti.default)(this,r),this.options=t||{},this.eventDispatcher=new Ii(t.eventDispatcher)}return(0,xi.default)(r,[{key:"getSearchResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f;if(typeof AbortController=="function"){var a=new AbortController;f=a&&a.signal,te.applyNetworkTimeout(this.options,s,a)}try{n=_t(e,i,this.options)}catch(u){return Promise.reject(u)}return c(n,{signal:f}).then(te.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return o.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f;if(typeof AbortController=="function"){var a=new AbortController;f=a&&a.signal,te.applyNetworkTimeout(this.options,s,a)}try{var u=!0;n=_t(e,i,this.options,u)}catch(l){return Promise.reject(l)}return c(n,{signal:f}).then(te.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(d){d.result_id=l.result_id}),o.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;if(l.response&&l.response.redirect)return o.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;throw new Error("getVoiceSearchResults response data is malformed")})}}]),r}();pt.exports=Ui});var Ee=N((Cn,he)=>{E();function Ni(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}he.exports=Ni,he.exports.__esModule=!0,he.exports.default=he.exports});var kt=N((Rn,bt)=>{E();"use strict";var je=X(),Di=je($()),Li=je(ee()),Bi=je(Ee());function wt(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function Ce(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wt(Object(e),!0).forEach(function(i){(0,Bi.default)(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):wt(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}var Fi=se(),P=Z();function ge(r,t){var e=t.apiKey,i=t.version,o=t.sessionId,s=t.clientId,n=t.userId,c=t.segments,f=t.testCells,a={c:i};if(a.key=e,a.i=s,a.s=o,f&&Object.keys(f).forEach(function(v){a["ef-".concat(v)]=f[v]}),c&&c.length&&(a.us=c),n&&(a.ui=String(n)),r){var u=r.page,l=r.offset,d=r.resultsPerPage,_=r.filters,y=r.sortBy,h=r.sortOrder,p=r.section,S=r.fmtOptions,b=r.hiddenFields,w=r.hiddenFacets,O=r.variationsMap,R=r.qsParam,q=r.preFilterExpression;P.isNil(u)||(a.page=u),P.isNil(l)||(a.offset=l),P.isNil(d)||(a.num_results_per_page=d),_&&(a.filters=_),y&&(a.sort_by=y),h&&(a.sort_order=h),p&&(a.section=p),S&&(a.fmt_options=S),b&&(a.fmt_options?a.fmt_options.hidden_fields=b:a.fmt_options={hidden_fields:b}),w&&(a.fmt_options?a.fmt_options.hidden_facets=w:a.fmt_options={hidden_facets:w}),O&&(a.variations_map=JSON.stringify(O)),q&&(a.pre_filter_expression=JSON.stringify(q)),R&&(a.qs=JSON.stringify(R))}return a._dt=Date.now(),a=P.cleanParams(a),a}function zi(r,t,e,i){var o=i.serviceUrl;if(!r||typeof r!="string")throw new Error("filterName is a required parameter of type string");if(!t||typeof t!="string")throw new Error("filterValue is a required parameter of type string");var s=ge(e,i),n=P.stringify(s);return"".concat(o,"/browse/").concat(P.encodeURIComponentRFC3986(P.trimNonBreakingSpaces(r)),"/").concat(P.encodeURIComponentRFC3986(P.trimNonBreakingSpaces(t)),"?").concat(n)}function ji(r,t,e){var i=e.serviceUrl;if(!r||!Array.isArray(r)||!r.length)throw new Error("ids is a required parameter of type array");var o=Ce(Ce({},ge(t,e)),{},{ids:r}),s=P.stringify(o);return"".concat(i,"/browse/items?").concat(s)}function Pi(r,t){var e=t.serviceUrl,i=Ce({},ge(r,t));delete i._dt;var o=P.stringify(i);return"".concat(e,"/browse/facets?").concat(o)}function Mi(r,t,e){var i=e.serviceUrl;if(!r||typeof r!="string")throw new Error("facetName is a required parameter of type string");var o=Ce({},ge(t,e));o.facet_name=r,delete o._dt;var s=P.stringify(o);return"".concat(i,"/browse/facet_options?").concat(s)}var Ji=function(){function r(t){(0,Di.default)(this,r),this.options=t||{},this.eventDispatcher=new Fi(t.eventDispatcher)}return(0,Li.default)(r,[{key:"getBrowseResults",value:function(e,i,o){var s=this,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c,f=this.options.fetch,a;if(typeof AbortController=="function"){var u=new AbortController;a=u&&u.signal,P.applyNetworkTimeout(this.options,n,u)}try{c=zi(e,i,o,this.options)}catch(l){return Promise.reject(l)}return f(c,{signal:a}).then(P.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(d){d.result_id=l.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",l),l;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f;if(typeof AbortController=="function"){var a=new AbortController;f=a&&a.signal,P.applyNetworkTimeout(this.options,s,a)}try{n=ji(e,i,this.options)}catch(u){return Promise.reject(u)}return c(n,{signal:f}).then(P.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options.fetch,n=this.options.serviceUrl,c=ge(e,this.options),f;if(typeof AbortController=="function"){var a=new AbortController;f=a&&a.signal,P.applyNetworkTimeout(this.options,o,a)}delete c._dt;var u=P.stringify(c),l="".concat(n,"/browse/groups?").concat(u);return s(l,{signal:f}).then(P.convertResponseToJson).then(function(d){if(d.response&&d.response.groups)return i.eventDispatcher.queue("browse.getBrowseGroups.completed",d),d;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,i){var o=this,s,n=this.options.fetch,c;if(typeof AbortController=="function"){var f=new AbortController;c=f&&f.signal,P.applyNetworkTimeout(this.options,i,f)}try{s=Pi(e,this.options)}catch(a){return Promise.reject(a)}return n(s,{signal:c}).then(P.convertResponseToJson).then(function(a){if(a.response&&a.response.facets)return o.eventDispatcher.queue("browse.getBrowseFacets.completed",a),a;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f;if(typeof AbortController=="function"){var a=new AbortController;f=a&&a.signal,P.applyNetworkTimeout(this.options,s,a)}try{n=Mi(e,o,this.options)}catch(u){return Promise.reject(u)}return c(n,{signal:f}).then(P.convertResponseToJson).then(function(u){if(u.response&&u.response.facets)return i.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),r}();bt.exports=Ji});var St=N((An,mt)=>{E();"use strict";var qt=X(),Gi=qt($()),Ki=qt(ee()),Hi=se(),ae=Z(),Wi=ae.convertResponseToJson,Vi=ae.cleanParams,Qi=ae.applyNetworkTimeout,Yi=ae.trimNonBreakingSpaces,Xi=ae.encodeURIComponentRFC3986,Zi=ae.stringify;function $i(r,t,e){var i=e.apiKey,o=e.version,s=e.serviceUrl,n=e.sessionId,c=e.clientId,f=e.userId,a=e.segments,u=e.testCells,l={c:o};if(l.key=i,l.i=c,l.s=n,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(q){l["ef-".concat(q)]=u[q]}),a&&a.length&&(l.us=a),f&&(l.ui=String(f)),t){var d=t.numResults,_=t.resultsPerSection,y=t.filters,h=t.filtersPerSection,p=t.hiddenFields,S=t.variationsMap,b=t.preFilterExpression,w=t.qsParam;d&&(l.num_results=d),_&&Object.keys(_).forEach(function(q){l["num_results_".concat(q)]=_[q]}),y&&(l.filters=y),h&&Object.keys(h).forEach(function(q){l["filters[".concat(q,"]")]=h[q]}),b&&(l.pre_filter_expression=JSON.stringify(b)),p&&(l.fmt_options?l.fmt_options.hidden_fields=p:l.fmt_options={hidden_fields:p}),S&&(l.variations_map=JSON.stringify(S)),w&&(l.qs=JSON.stringify(w))}l._dt=Date.now(),l=Vi(l);var O=Zi(l),R=r.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(Xi(Yi(R)),"?").concat(O)}var er=function(){function r(t){(0,Gi.default)(this,r),this.options=t||{},this.eventDispatcher=new Hi(t.eventDispatcher)}return(0,Ki.default)(r,[{key:"getAutocompleteResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f;if(typeof AbortController=="function"){var a=new AbortController;f=a&&a.signal,Qi(this.options,s,a)}try{n=$i(e,i,this.options)}catch(u){return Promise.reject(u)}return c(n,{signal:f}).then(Wi).then(function(u){if(u.sections){if(u.result_id){var l=Object.keys(u.sections);l.forEach(function(d){var _=u.sections[d];_.length&&_.forEach(function(y){y.result_id=u.result_id})})}return o.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),r}();mt.exports=er});var Rt=N((On,Ct)=>{E();"use strict";var Et=X(),tr=Et($()),ir=Et(ee()),rr=se(),ue=Z();function nr(r,t,e){var i=e.apiKey,o=e.version,s=e.serviceUrl,n=e.sessionId,c=e.userId,f=e.clientId,a=e.segments,u={c:o};if(u.key=i,u.i=f,u.s=n,!r||typeof r!="string")throw new Error("podId is a required parameter of type string");if(a&&a.length&&(u.us=a),c&&(u.ui=String(c)),t){var l=t.numResults,d=t.itemIds,_=t.section,y=t.term,h=t.filters,p=t.variationsMap,S=t.hiddenFields,b=t.preFilterExpression;ue.isNil(l)||(u.num_results=l),d&&(u.item_id=d),_&&(u.section=_),y&&(u.term=y),h&&(u.filters=h),S&&(u.fmt_options?u.fmt_options.hidden_fields=S:u.fmt_options={hidden_fields:S}),p&&(u.variations_map=JSON.stringify(p)),b&&(u.pre_filter_expression=JSON.stringify(b))}u=ue.cleanParams(u);var w=ue.stringify(u);return"".concat(s,"/recommendations/v1/pods/").concat(ue.encodeURIComponentRFC3986(ue.trimNonBreakingSpaces(r)),"?").concat(w)}var or=function(){function r(t){(0,tr.default)(this,r),this.options=t||{},this.eventDispatcher=new rr(t.eventDispatcher)}return(0,ir.default)(r,[{key:"getRecommendations",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f;if(typeof AbortController=="function"){var a=new AbortController;f=a&&a.signal,ue.applyNetworkTimeout(this.options,s,a)}try{n=nr(e,i,this.options)}catch(u){return Promise.reject(u)}return c(n,{signal:f}).then(ue.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),r}();Ct.exports=or});var Ft=N((Tn,Me)=>{E();"use strict";var sr=X(),Pe=sr(ve()),ce=(typeof Reflect=="undefined"?"undefined":(0,Pe.default)(Reflect))==="object"?Reflect:null,At=ce&&typeof ce.apply=="function"?ce.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)},Re;ce&&typeof ce.ownKeys=="function"?Re=ce.ownKeys:Object.getOwnPropertySymbols?Re=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Re=function(t){return Object.getOwnPropertyNames(t)};function ur(r){console&&console.warn&&console.warn(r)}var Ot=Number.isNaN||function(t){return t!==t};function L(){L.init.call(this)}Me.exports=L;Me.exports.once=fr;L.EventEmitter=L;L.prototype._events=void 0;L.prototype._eventsCount=0;L.prototype._maxListeners=void 0;var Tt=10;function Ae(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,Pe.default)(r))}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return Tt},set:function(t){if(typeof t!="number"||t<0||Ot(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Tt=t}});L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};L.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ot(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function xt(r){return r._maxListeners===void 0?L.defaultMaxListeners:r._maxListeners}L.prototype.getMaxListeners=function(){return xt(this)};L.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var n;if(e.length>0&&(n=e[0]),n instanceof Error)throw n;var c=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw c.context=n,c}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")At(f,this,e);else for(var a=f.length,u=Lt(f,a),i=0;i<a;++i)At(u[i],this,e);return!0};function It(r,t,e,i){var o,s,n;if(Ae(e),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),s=r._events),n=s[t]),n===void 0)n=s[t]=e,++r._eventsCount;else if(typeof n=="function"?n=s[t]=i?[e,n]:[n,e]:i?n.unshift(e):n.push(e),o=xt(r),o>0&&n.length>o&&!n.warned){n.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=r,c.type=t,c.count=n.length,ur(c)}return r}L.prototype.addListener=function(t,e){return It(this,t,e,!1)};L.prototype.on=L.prototype.addListener;L.prototype.prependListener=function(t,e){return It(this,t,e,!0)};function ar(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ut(r,t,e){var i={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},o=ar.bind(i);return o.listener=e,i.wrapFn=o,o}L.prototype.once=function(t,e){return Ae(e),this.on(t,Ut(this,t,e)),this};L.prototype.prependOnceListener=function(t,e){return Ae(e),this.prependListener(t,Ut(this,t,e)),this};L.prototype.removeListener=function(t,e){var i,o,s,n,c;if(Ae(e),o=this._events,o===void 0)return this;if(i=o[t],i===void 0)return this;if(i===e||i.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,i.listener||e));else if(typeof i!="function"){for(s=-1,n=i.length-1;n>=0;n--)if(i[n]===e||i[n].listener===e){c=i[n].listener,s=n;break}if(s<0)return this;s===0?i.shift():cr(i,s),i.length===1&&(o[t]=i[0]),o.removeListener!==void 0&&this.emit("removeListener",t,c||e)}return this};L.prototype.off=L.prototype.removeListener;L.prototype.removeAllListeners=function(t){var e,i,o;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var s=Object.keys(i),n;for(o=0;o<s.length;++o)n=s[o],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=i[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this};function Nt(r,t,e){var i=r._events;if(i===void 0)return[];var o=i[t];return o===void 0?[]:typeof o=="function"?e?[o.listener||o]:[o]:e?lr(o):Lt(o,o.length)}L.prototype.listeners=function(t){return Nt(this,t,!0)};L.prototype.rawListeners=function(t){return Nt(this,t,!1)};L.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):Dt.call(r,t)};L.prototype.listenerCount=Dt;function Dt(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?Re(this._events):[]};function Lt(r,t){for(var e=new Array(t),i=0;i<t;++i)e[i]=r[i];return e}function cr(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function lr(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function fr(r,t){return new Promise(function(e,i){function o(n){r.removeListener(t,s),i(n)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",o),e([].slice.call(arguments))}Bt(r,t,s,{once:!0}),t!=="error"&&dr(r,o,{once:!0})})}function dr(r,t,e){typeof r.on=="function"&&Bt(r,"error",t,e)}function Bt(r,t,e,i){if(typeof r.on=="function")i.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function o(s){i.once&&r.removeEventListener(t,o),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,Pe.default)(r))}});var jt=N((xn,zt)=>{E();"use strict";zt.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot","Bytespider"]});var Gt=N((In,Jt)=>{E();"use strict";var Pt=X(),vr=Pt($()),hr=Pt(ee()),Je=me(),gr=jt(),Ge=Z(),Ke="_constructorio_is_human",Mt=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],_r=function(){function r(){var t=this;(0,vr.default)(this,r),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var e=function i(){t.isHumanBoolean=!0,Je.session.set(Ke,!0),Mt.forEach(function(o){Ge.removeEventListener(o,i,!0)})};this.isHumanBoolean||Mt.forEach(function(i){Ge.addEventListener(i,e,!0)})}return(0,hr.default)(r,[{key:"getIsHumanFromSessionStorage",value:function(){return!!Je.session.get(Ke)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!Je.session.get(Ke)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var e=Ge.getNavigator(),i=e.userAgent,o=e.webdriver,s=new RegExp("(".concat(gr.join("|"),")"));return Boolean(i.match(s))||Boolean(o)}}]),r}();Jt.exports=_r});var Wt=N((Un,Ht)=>{E();"use strict";var Kt=X(),pr=Kt($()),yr=Kt(ee()),He=me(),wr=Gt(),We=Z(),br=Z(),kr=br.obfuscatePiiRequest,Ve="_constructorio_requests",qr=18e4,mr=function(){function r(t,e){var i=this;(0,pr.default)(this,r),this.options=t,this.eventemitter=e,this.humanity=new wr,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(t&&t.sendTrackingEvents===!0),We.addEventListener("beforeunload",function(){i.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,yr.default)(r,[{key:"queue",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var n=r.get(),c=kr(e);n.push({url:c,method:i,body:o,networkParameters:s}),r.set(n)}}},{key:"sendEvents",value:function(){var e=this,i=this.options.fetch,o=r.get();if((!We.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&o.length){var s,n=o.shift(),c=n,f=c.networkParameters,a,u=this;if(r.set(o),f&&typeof AbortController=="function"){var l=new AbortController;a=l.signal,We.applyNetworkTimeout(this.options,f,l)}if(typeof n=="string"&&(n={url:n,method:"GET"}),n.url){var d=n.url.match(/\?.*_dt=([^&]+)/),_=parseInt(d&&d[1],10),y=+new Date;if(_&&Number.isInteger(_)&&y-_>qr){this.sendTrackingEvents=!1,r.remove();return}}n.method==="GET"&&(s=i(n.url,{signal:a})),n.method==="POST"&&(s=i(n.url,{method:n.method,body:JSON.stringify(n.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:a})),s&&(this.requestPending=!0,s.then(function(h){h.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:n.url,method:n.method,message:"ok"}),e.requestPending=!1,e.send()):h.json().then(function(p){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:p&&p.message}),e.requestPending=!1,e.send()}).catch(function(p){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:p.type}),e.requestPending=!1,e.send()})}).catch(function(h){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:h&&h.toString&&h.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return He.local.get(Ve)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?r.remove():He.local.set(Ve,e);var i=r.get();Array.isArray(i)&&i.length!==e.length&&(this.sendTrackingEvents=!1,r.remove())}},{key:"remove",value:function(){He.local.remove(Ve)}}]),r}();Ht.exports=mr});var Zt=N((Nn,Xt)=>{E();"use strict";var Oe=X(),z=Oe(ve()),Sr=Oe(Ee()),Er=Oe($()),Cr=Oe(ee());function Vt(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function x(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Vt(Object(e),!0).forEach(function(i){(0,Sr.default)(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Vt(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}var Rr=Ft(),T=Z(),Qt=Wt();function M(r,t){var e=t.apiKey,i=t.version,o=t.sessionId,s=t.clientId,n=t.userId,c=t.segments,f=t.testCells,a=t.requestMethod,u=t.beaconMode,l=T.getWindowLocation(),d=l.host,_=l.pathname,y=t.sendReferrerWithTrackingEvents!==!1,h=Object.assign(r);return i&&(h.c=i),s&&(h.i=s),o&&(h.s=o),n&&(h.ui=String(n)),c&&c.length&&(h.us=c),e&&(h.key=e),f&&Object.keys(f).forEach(function(p){h["ef-".concat(p)]=f[p]}),u&&a&&a.match(/POST/i)&&(h.beacon=!0),y&&d&&(h.origin_referrer=d,_&&(h.origin_referrer+=_)),h._dt=Date.now(),h=T.cleanParams(h),h}function D(r,t){return T.stringify(M(r,t))}var Yt=function(){function r(t){(0,Er.default)(this,r),this.options=t||{},this.eventemitter=new Rr,this.requests=new Qt(t,this.eventemitter)}return(0,Cr.default)(r,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/v2/behavioral_action/session_start?");return this.requests.queue("".concat(i).concat(D({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),o={action:"session_start"};return this.requests.queue("".concat(i).concat(D(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s="".concat(this.options.serviceUrl,"/v2/behavioral_action/focus?"),n={},c=i.analyticsTags,f=c===void 0?null:c;f&&(n.analytics_tags=f),n.user_input=e;var a="POST",u=M(n,x(x({},this.options),{},{requestMethod:a}));return this.requests.queue("".concat(s).concat(D({},this.options)),a,u,o),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),o={action:"focus"};return this.requests.queue("".concat(i).concat(D(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},n={},c=e.item_name,f=e.name,a=e.item_id,u=e.customer_id,l=e.customerId,d=l===void 0?u:l,_=e.variation_id,y=e.itemName,h=y===void 0?c||f:y,p=e.itemId,S=p===void 0?a||d:p,b=e.variationId,w=b===void 0?_:b,O=e.url,R=e.analyticsTags;h&&(n.item_name=h),S&&(n.item_id=S),w&&(n.variation_id=w),R&&(n.analytics_tags=R),O&&(n.url=O);var q="".concat(o).concat(D(s,this.options)),v="POST",A=M(n,x(x({},this.options),{},{requestMethod:v}));return this.requests.queue(q,v,A,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/autocomplete_select?"),n=i.original_query,c=i.originalQuery,f=c===void 0?n:c,a=i.user_input,u=i.userInput,l=u===void 0?f||a:u,d=i.original_section,_=i.section,y=_===void 0?d:_,h=i.tr,p=i.group_id,S=i.groupId,b=S===void 0?p:S,w=i.item_id,O=i.itemId,R=O===void 0?w:O,q=i.variation_id,v=i.variationId,A=v===void 0?q:v,g={},k={user_input:l,tr:h,group_id:b,item_id:R,variation_id:A,item_name:e,section:y};y&&(g.section=y);var C="".concat(s).concat(D(g,this.options)),m="POST",B=M(k,x(x({},this.options),{},{requestMethod:m}));return this.requests.queue(C,m,B,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/select?"),n={},c=i.original_query,f=i.originalQuery,a=f===void 0?c:f,u=i.section,l=i.original_section,d=i.originalSection,_=d===void 0?l:d,y=i.tr,h=i.group_id,p=i.groupId,S=p===void 0?h:p,b=i.display_name,w=i.displayName,O=w===void 0?b:w;return a&&(n.original_query=a),y&&(n.tr=y),(_||u)&&(n.section=_||u),S&&(n.group={group_id:S,display_name:O}),this.requests.queue("".concat(s).concat(D(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_submit?"),n=i.original_query,c=i.originalQuery,f=c===void 0?n:c,a=i.user_input,u=i.userInput,l=u===void 0?f||a:u,d=i.group_id,_=i.groupId,y=_===void 0?d:_,h=i.section,p=i.analyticsTags,S=p===void 0?null:p,b={},w={user_input:l,search_term:e,section:h};y&&(w.filters={group_id:y}),h&&(b.section=h),S&&(w.analytics_tags=S);var O="".concat(s).concat(D(b,this.options)),R="POST",q=M(w,x(x({},this.options),{},{requestMethod:R}));return this.requests.queue(O,R,q,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/search?"),n={},c=i.original_query,f=i.originalQuery,a=f===void 0?c:f,u=i.group_id,l=i.groupId,d=l===void 0?u:l,_=i.display_name,y=i.displayName,h=y===void 0?_:y;return a&&(n.original_query=a),d&&(n.group={group_id:d,display_name:h}),this.requests.queue("".concat(s).concat(D(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoadedV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_load?"),n=i.num_results,c=i.numResults,f=c===void 0?n:c,a=i.result_count,u=i.resultCount,l=u===void 0?f||a:u,d=i.customer_ids,_=i.item_ids,y=i.items,h=y===void 0?d||_:y,p=i.result_page,S=i.resultPage,b=S===void 0?p:S,w=i.result_id,O=i.resultId,R=O===void 0?w:O,q=i.sort_order,v=i.sortOrder,A=v===void 0?q:v,g=i.sort_by,k=i.sortBy,C=k===void 0?g:k,m=i.selected_filters,B=i.selectedFilters,J=B===void 0?m:B,F=i.url,G=i.section,K={},I;h&&Array.isArray(h)&&h.length!==0&&(I=h,typeof h[0]=="string"||typeof h[0]=="number"?I=h.map(function(j){return{item_id:String(j)}}):I=h.map(function(j){return T.toSnakeCaseKeys(j,!1)})),G&&(K.section=G);var Q={search_term:e,result_count:l,items:I,result_page:b,result_id:R,sort_order:A,sort_by:C,selected_filters:J,url:F,section:G},H="".concat(s).concat(D(K,this.options)),V="POST",Y=M(Q,x(x({},this.options),{},{requestMethod:V}));return this.requests.queue(H,V,Y,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/behavior?"),n={action:"search-results",term:e},c=i.num_results,f=i.numResults,a=f===void 0?c:f,u=i.customer_ids,l=i.customerIds,d=l===void 0?u:l,_=i.item_ids,y=i.itemIds,h=y===void 0?_:y,p;return T.isNil(a)||(n.num_results=a),h&&Array.isArray(h)?p=h:d&&Array.isArray(d)&&(p=d),p&&Array.isArray(p)&&p.length&&(n.customer_ids=p.slice(0,100).join(",")),this.requests.queue("".concat(s).concat(D(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_click?"),n=i.num_results,c=i.customer_id,f=i.item_id,a=i.itemId,u=a===void 0?c||f:a,l=i.name,d=i.item_name,_=i.itemName,y=_===void 0?l||d:_,h=i.variation_id,p=i.variationId,S=p===void 0?h:p,b=i.result_id,w=i.resultId,O=w===void 0?b:w,R=i.result_count,q=i.resultCount,v=q===void 0?n||R:q,A=i.result_page,g=i.resultPage,k=g===void 0?A:g,C=i.result_position_on_page,m=i.resultPositionOnPage,B=m===void 0?C:m,J=i.num_results_per_page,F=i.numResultsPerPage,G=F===void 0?J:F,K=i.selected_filters,I=i.selectedFilters,Q=I===void 0?K:I,H=i.section,V={item_name:y,item_id:u,variation_id:S,result_id:O,result_count:v,result_page:k,result_position_on_page:B,num_results_per_page:G,selected_filters:Q,section:H,search_term:e},Y={};H&&(Y.section=H);var j="".concat(s).concat(D(Y,this.options)),re="POST",oe=M(V,x(x({},this.options),{},{requestMethod:re}));return this.requests.queue(j,re,oe,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/click_through?"),n={},c=i.item_name,f=i.name,a=i.itemName,u=a===void 0?c||f:a,l=i.item_id,d=i.itemId,_=d===void 0?l:d,y=i.customer_id,h=i.customerId,p=h===void 0?y||_:h,S=i.variation_id,b=i.variationId,w=b===void 0?S:b,O=i.result_id,R=i.resultId,q=R===void 0?O:R,v=i.item_is_convertible,A=i.itemIsConvertible,g=A===void 0?v:A,k=i.section;return u&&(n.name=u),p&&(n.customer_id=p),w&&(n.variation_id=w),q&&(n.result_id=q),typeof g=="boolean"&&(n.item_is_convertible=g),k&&(n.section=k),this.requests.queue("".concat(s).concat(D(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s=e||"TERM_UNKNOWN",n="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),c={},f={},a=i.name,u=i.item_name,l=i.itemName,d=l===void 0?u||a:l,_=i.customer_id,y=i.customerId,h=y===void 0?_:y,p=i.item_id,S=i.itemId,b=S===void 0?p||h:S,w=i.variation_id,O=i.variationId,R=O===void 0?w:O,q=i.revenue,v=i.section,A=v===void 0?"Products":v,g=i.display_name,k=i.displayName,C=k===void 0?g:k,m=i.type,B=i.is_custom_type,J=i.isCustomType,F=J===void 0?B:J;b&&(f.item_id=b),d&&(f.item_name=d),R&&(f.variation_id=R),(q||q===0)&&(f.revenue=q.toString()),A&&(c.section=A,f.section=A),s&&(f.search_term=s),m&&(f.type=m),F&&(f.is_custom_type=F),C&&(f.display_name=C);var G="".concat(n).concat(D(c,this.options)),K="POST",I=M(f,x(x({},this.options),{},{requestMethod:K}));return this.requests.queue(G,K,I,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},n={},c=e.items,f=e.revenue,a=e.order_id,u=e.orderId,l=u===void 0?a:u,d=e.section,_=e.analyticsTags,y=this.options.apiKey;if(l){if(T.hasOrderIdRecord({orderId:l,apiKey:y}))return!1;T.addOrderIdRecord({orderId:l,apiKey:y}),n.order_id=l}c&&Array.isArray(c)&&(n.items=c.slice(0,100).map(function(b){return T.toSnakeCaseKeys(b,!1)})),(f||f===0)&&(n.revenue=f),d?s.section=d:s.section="Products",_&&(n.analytics_tags=_);var h="".concat(o).concat(D(s,this.options)),p="POST",S=M(n,x(x({},this.options),{},{requestMethod:p}));return this.requests.queue(h,p,S,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},n=e.result_count,c=e.resultCount,f=c===void 0?n:c,a=e.result_page,u=e.resultPage,l=u===void 0?a:u,d=e.result_id,_=e.resultId,y=_===void 0?d:_,h=e.section,p=e.url,S=e.pod_id,b=e.podId,w=b===void 0?S:b,O=e.num_results_viewed,R=e.numResultsViewed,q=R===void 0?O:R,v=e.items,A=e.analyticsTags;T.isNil(f)||(s.result_count=f),T.isNil(l)||(s.result_page=l),y&&(s.result_id=y),h?s.section=h:s.section="Products",p&&(s.url=p),w&&(s.pod_id=w),T.isNil(q)||(s.num_results_viewed=q),v&&Array.isArray(v)&&(s.items=v.slice(0,100).map(function(m){return T.toSnakeCaseKeys(m,!1)})),A&&(s.analytics_tags=A);var g="".concat(o).concat(D({},this.options)),k="POST",C=M(s,x(x({},this.options),{},{requestMethod:k}));return this.requests.queue(g,k,C,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},n=e.variation_id,c=e.variationId,f=c===void 0?n:c,a=e.section,u=a===void 0?"Products":a,l=e.result_id,d=e.resultId,_=d===void 0?l:d,y=e.result_count,h=e.resultCount,p=h===void 0?y:h,S=e.result_page,b=e.resultPage,w=b===void 0?S:b,O=e.result_position_on_page,R=e.resultPositionOnPage,q=R===void 0?O:R,v=e.num_results_per_page,A=e.numResultsPerPage,g=A===void 0?v:A,k=e.pod_id,C=e.podId,m=C===void 0?k:C,B=e.strategy_id,J=e.strategyId,F=J===void 0?B:J,G=e.item_id,K=e.itemId,I=K===void 0?G:K,Q=e.item_name,H=e.itemName,V=H===void 0?Q:H,Y=e.analyticsTags;f&&(s.variation_id=f),u&&(s.section=u),_&&(s.result_id=_),T.isNil(p)||(s.result_count=p),T.isNil(w)||(s.result_page=w),T.isNil(q)||(s.result_position_on_page=q),T.isNil(g)||(s.num_results_per_page=g),m&&(s.pod_id=m),F&&(s.strategy_id=F),I&&(s.item_id=I),V&&(s.item_name=V),Y&&(s.analytics_tags=Y);var j="".concat(o).concat(D({},this.options)),re="POST",oe=M(s,x(x({},this.options),{},{requestMethod:re}));return this.requests.queue(j,re,oe,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),s={},n=e.section,c=n===void 0?"Products":n,f=e.result_count,a=e.resultCount,u=a===void 0?f:a,l=e.result_page,d=e.resultPage,_=d===void 0?l:d,y=e.result_id,h=e.resultId,p=h===void 0?y:h,S=e.selected_filters,b=e.selectedFilters,w=b===void 0?S:b,O=e.url,R=e.sort_order,q=e.sortOrder,v=q===void 0?R:q,A=e.sort_by,g=e.sortBy,k=g===void 0?A:g,C=e.filter_name,m=e.filterName,B=m===void 0?C:m,J=e.filter_value,F=e.filterValue,G=F===void 0?J:F,K=e.items,I=e.analyticsTags;c&&(s.section=c),T.isNil(u)||(s.result_count=u),T.isNil(_)||(s.result_page=_),p&&(s.result_id=p),w&&(s.selected_filters=w),O&&(s.url=O),v&&(s.sort_order=v),k&&(s.sort_by=k),B&&(s.filter_name=B),G&&(s.filter_value=G),K&&Array.isArray(K)&&(s.items=K.slice(0,100).map(function(Y){return T.toSnakeCaseKeys(Y,!1)})),I&&(s.analytics_tags=I);var Q="".concat(o).concat(D({},this.options)),H="POST",V=M(s,x(x({},this.options),{},{requestMethod:H}));return this.requests.queue(Q,H,V,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},n=e.section,c=n===void 0?"Products":n,f=e.variation_id,a=e.variationId,u=a===void 0?f:a,l=e.result_id,d=e.resultId,_=d===void 0?l:d,y=e.result_count,h=e.resultCount,p=h===void 0?y:h,S=e.result_page,b=e.resultPage,w=b===void 0?S:b,O=e.result_position_on_page,R=e.resultPositionOnPage,q=R===void 0?O:R,v=e.num_results_per_page,A=e.numResultsPerPage,g=A===void 0?v:A,k=e.selected_filters,C=e.selectedFilters,m=C===void 0?k:C,B=e.filter_name,J=e.filterName,F=J===void 0?B:J,G=e.filter_value,K=e.filterValue,I=K===void 0?G:K,Q=e.customer_id,H=e.customerId,V=H===void 0?Q:H,Y=e.item_id,j=e.itemId,re=j===void 0?V||Y:j,oe=e.item_name,Ne=e.name,$e=e.itemName,et=$e===void 0?oe||Ne:$e,tt=e.analyticsTags;c&&(s.section=c),u&&(s.variation_id=u),_&&(s.result_id=_),T.isNil(p)||(s.result_count=p),T.isNil(w)||(s.result_page=w),T.isNil(q)||(s.result_position_on_page=q),T.isNil(g)||(s.num_results_per_page=g),m&&(s.selected_filters=m),F&&(s.filter_name=F),I&&(s.filter_value=I),re&&(s.item_id=re),et&&(s.item_name=et),tt&&(s.analytics_tags=tt);var gi="".concat(o).concat(D({},this.options)),it="POST",_i=M(s,x(x({},this.options),{},{requestMethod:it}));return this.requests.queue(gi,it,_i,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,z.default)(e)==="object"){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},n=e.item_id,c=e.itemId,f=c===void 0?n:c,a=e.item_name,u=e.itemName,l=u===void 0?a:u,d=e.variation_id,_=e.variationId,y=_===void 0?d:_,h=e.section,p=h===void 0?"Products":h,S=e.analyticsTags;if(f){s.section=p,s.item_id=f,l&&(s.item_name=l),y&&(s.variation_id=y),S&&(s.analytics_tags=S);var b="".concat(o).concat(D({},this.options)),w="POST",O=M(s,x(x({},this.options),{},{requestMethod:w}));return this.requests.queue(b,w,O,i),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),s=e.quiz_id,n=e.quizId,c=n===void 0?s:n,f=e.quiz_version_id,a=e.quizVersionId,u=a===void 0?f:a,l=e.quiz_session_id,d=e.quizSessionId,_=d===void 0?l:d,y=e.url,h=e.section,p=h===void 0?"Products":h,S=e.result_count,b=e.resultCount,w=b===void 0?S:b,O=e.result_id,R=e.resultId,q=R===void 0?O:R,v=e.result_page,A=e.resultPage,g=A===void 0?v:A,k=e.items,C={},m={};if(k&&Array.isArray(k)&&(m.items=k.slice(0,100).map(function(G){return T.toSnakeCaseKeys(G,!1)})),typeof c!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof _!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string")return new Error('"url" is a required parameter of type string');if(m.quiz_id=c,m.quiz_version_id=u,m.quiz_session_id=_,m.url=y,!T.isNil(p)){if(typeof p!="string")return new Error('"section" must be a string');C.section=p,m.section=p}if(!T.isNil(w)){if(typeof w!="number")return new Error('"resultCount" must be a number');m.result_count=w}if(!T.isNil(q)){if(typeof q!="string")return new Error('"resultId" must be a string');m.result_id=q}if(!T.isNil(g)){if(typeof g!="number")return new Error('"resultPage" must be a number');m.result_page=g}var B="".concat(o).concat(D(C,this.options)),J="POST",F=M(m,x(x({},this.options),{},{requestMethod:J}));return this.requests.queue(B,J,F,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),s=e.quiz_id,n=e.quizId,c=n===void 0?s:n,f=e.quiz_version_id,a=e.quizVersionId,u=a===void 0?f:a,l=e.quiz_session_id,d=e.quizSessionId,_=d===void 0?l:d,y=e.item_id,h=e.itemId,p=h===void 0?y:h,S=e.item_name,b=e.itemName,w=b===void 0?S:b,O=e.result_count,R=e.resultCount,q=R===void 0?O:R,v=e.result_id,A=e.resultId,g=A===void 0?v:A,k=e.result_page,C=e.resultPage,m=C===void 0?k:C,B=e.num_results_per_page,J=e.numResultsPerPage,F=J===void 0?B:J,G=e.result_position_on_page,K=e.resultPositionOnPage,I=K===void 0?G:K,Q=e.section,H=Q===void 0?"Products":Q,V=e.variationId,Y={},j={};if(typeof c!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof _!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof p!="string"&&typeof w!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(j.quiz_id=c,j.quiz_version_id=u,j.quiz_session_id=_,!T.isNil(p)){if(typeof p!="string")return new Error('"itemId" must be a string');j.item_id=p}if(!T.isNil(w)){if(typeof w!="string")return new Error('"itemName" must be a string');j.item_name=w}if(!T.isNil(V)){if(typeof V!="string")return new Error('"variationId" must be a string');j.variation_id=V}if(!T.isNil(H)){if(typeof H!="string")return new Error('"section" must be a string');Y.section=H}if(!T.isNil(q)){if(typeof q!="number")return new Error('"resultCount" must be a number');j.result_count=q}if(!T.isNil(g)){if(typeof g!="string")return new Error('"resultId" must be a string');j.result_id=g}if(!T.isNil(m)){if(typeof m!="number")return new Error('"resultPage" must be a number');j.result_page=m}if(!T.isNil(F)){if(typeof F!="number")return new Error('"numResultsPerPage" must be a number');j.num_results_per_page=F}if(!T.isNil(I)){if(typeof I!="number")return new Error('"resultPositionOnPage" must be a number');j.result_position_on_page=I}var re="".concat(o).concat(D(Y,this.options)),oe="POST",Ne=M(j,x(x({},this.options),{},{requestMethod:oe}));return this.requests.queue(re,oe,Ne,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),s=e.quiz_id,n=e.quizId,c=n===void 0?s:n,f=e.quiz_version_id,a=e.quizVersionId,u=a===void 0?f:a,l=e.quiz_session_id,d=e.quizSessionId,_=d===void 0?l:d,y=e.item_id,h=e.itemId,p=h===void 0?y:h,S=e.item_name,b=e.itemName,w=b===void 0?S:b,O=e.variation_id,R=e.variationId,q=R===void 0?O:R,v=e.revenue,A=e.section,g=A===void 0?"Products":A,k=e.type,C=e.is_custom_type,m=e.isCustomType,B=m===void 0?C:m,J=e.display_name,F=e.displayName,G=F===void 0?J:F,K={},I={};if(typeof c!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof _!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof p!="string"&&typeof w!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(I.quiz_id=c,I.quiz_version_id=u,I.quiz_session_id=_,!T.isNil(p)){if(typeof p!="string")return new Error('"itemId" must be a string');I.item_id=p}if(!T.isNil(w)){if(typeof w!="string")return new Error('"itemName" must be a string');I.item_name=w}if(!T.isNil(q)){if(typeof q!="string")return new Error('"variationId" must be a string');I.variation_id=q}if(!T.isNil(v)){if(typeof v!="string")return new Error('"revenue" must be a string');I.revenue=v}if(!T.isNil(g)){if(typeof g!="string")return new Error('"section" must be a string');I.section=g}if(!T.isNil(k)){if(typeof k!="string")return new Error('"type" must be a string');I.type=k}if(!T.isNil(B)){if(typeof B!="boolean")return new Error('"isCustomType" must be a boolean');I.is_custom_type=B}if(!T.isNil(G)){if(typeof G!="string")return new Error('"displayName" must be a string');I.display_name=G}var Q="".concat(o).concat(D(K,this.options)),H="POST",V=M(I,x(x({},this.options),{},{requestMethod:H}));return this.requests.queue(Q,H,V,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_submit?"),s=e.section,n=e.intent,c={intent:n,section:s},f="".concat(o).concat(D({},this.options)),a="POST",u=M(c,x(x({},this.options),{},{requestMethod:a}));return this.requests.queue(f,a,u,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadStarted",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_start?"),s=e.section,n=e.intentResultId,c=e.intent,f={intent_result_id:n,intent:c,section:s},a="".concat(o).concat(D({},this.options)),u="POST",l=M(f,x(x({},this.options),{},{requestMethod:u}));return this.requests.queue(a,u,l,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadFinished",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_finish?"),s=e.section,n=e.searchResultCount,c=e.intentResultId,f=e.intent,a={intent_result_id:c,section:s,intent:f,search_result_count:n},u="".concat(o).concat(D({},this.options)),l="POST",d=M(a,x(x({},this.options),{},{requestMethod:l}));return this.requests.queue(u,l,d,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_click?"),s=e.section,n=s===void 0?"Products":s,c=e.variationId,f=e.intentResultId,a=e.searchResultId,u=e.itemId,l=e.itemName,d=e.intent,_={section:n,variation_id:c,intent_result_id:f,search_result_id:a,item_id:u,item_name:l,intent:d},y="".concat(o).concat(D({},this.options)),h="POST",p=M(_,x(x({},this.options),{},{requestMethod:h}));return this.requests.queue(y,h,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_view?"),s=e.section,n=s===void 0?"Products":s,c=e.items,f=e.numResultsViewed,a=e.intentResultId,u=e.searchResultId,l=e.intent,d={section:n,intent_result_id:a,search_result_id:u,num_results_viewed:f,items:c&&Array.isArray(c)&&c.slice(0,100).map(function(p){return T.toSnakeCaseKeys(p,!1)}),intent:l},_="".concat(o).concat(D({},this.options)),y="POST",h=M(d,x(x({},this.options),{},{requestMethod:y}));return this.requests.queue(_,y,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSearchSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_submit?"),s=e.section,n=e.intent,c=e.searchTerm,f=e.searchResultId,a=e.intentResultId,u={intent:n,section:s,search_term:c,search_result_id:f,intent_result_id:a},l="".concat(o).concat(D({},this.options)),d="POST",_=M(u,x(x({},this.options),{},{requestMethod:d}));return this.requests.queue(l,d,_,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"on",value:function(e,i){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!i||typeof i!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,i),!0)}}]),r}();Yt.RequestQueue=Qt;Xt.exports=Yt});var $t=N(Te=>{E();"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var Ar="2.54.0";Te.default=Ar});var Qe=N((Ln,_e)=>{E();function Or(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}_e.exports=Or,_e.exports.__esModule=!0,_e.exports.default=_e.exports});var ei=N((Bn,pe)=>{E();var Tr=Qe();function xr(r){if(Array.isArray(r))return Tr(r)}pe.exports=xr,pe.exports.__esModule=!0,pe.exports.default=pe.exports});var ti=N((Fn,ye)=>{E();function Ir(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}ye.exports=Ir,ye.exports.__esModule=!0,ye.exports.default=ye.exports});var ri=N((zn,we)=>{E();var ii=Qe();function Ur(r,t){if(!!r){if(typeof r=="string")return ii(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ii(r,t)}}we.exports=Ur,we.exports.__esModule=!0,we.exports.default=we.exports});var ni=N((jn,be)=>{E();function Nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}be.exports=Nr,be.exports.__esModule=!0,be.exports.default=be.exports});var oi=N((Pn,ke)=>{E();var Dr=ei(),Lr=ti(),Br=ri(),Fr=ni();function zr(r){return Dr(r)||Lr(r)||Br(r)||Fr()}ke.exports=zr,ke.exports.__esModule=!0,ke.exports.default=ke.exports});var ui=N((Mn,si)=>{E();"use strict";var xe=X(),jr=xe($()),Pr=xe(ee()),Mr=xe(oi()),Jr=xe(ve()),Gr=se(),ie=Z();function Ye(r,t,e,i){var o=e.apiKey,s=e.clientId,n=e.sessionId,c=e.segments,f=e.userId,a=e.version,u=e.quizzesServiceUrl,l={c:a},d="";if(l.key=o,l.i=s,l.s=n,c&&c.length&&(l.us=c),f&&(l.ui=String(f)),!r||typeof r!="string")throw new Error("quizId is a required parameter of type string");if(i==="results"&&((0,Jr.default)(t.answers)!=="object"||!Array.isArray(t.answers)||t.answers.length===0))throw new Error("answers is a required parameter of type array");if(t){var _=t.section,y=t.answers,h=t.quizSessionId,p=t.quizVersionId,S=t.page,b=t.resultsPerPage,w=t.filters,O=t.fmtOptions,R=t.hiddenFields;_&&(l.section=_),p&&(l.quiz_version_id=p),h&&(l.quiz_session_id=h),y&&y.length&&(d="&".concat(ie.stringify({a:y.map(function(v){return(0,Mr.default)(v).join(",")})}))),ie.isNil(S)||(l.page=S),ie.isNil(b)||(l.num_results_per_page=b),w&&(l.filters=w),O&&(l.fmt_options=O),R&&(l.fmt_options?l.fmt_options.hidden_fields=R:l.fmt_options={hidden_fields:R})}l._dt=Date.now(),l=ie.cleanParams(l);var q=ie.stringify(l);return"".concat(u,"/v1/quizzes/").concat(encodeURIComponent(r),"/").concat(encodeURIComponent(i),"/?").concat(q).concat(d)}var Kr=function(){function r(t){(0,jr.default)(this,r),this.options=t||{},this.eventDispatcher=new Gr(t.eventDispatcher)}return(0,Pr.default)(r,[{key:"getQuizNextQuestion",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f=new AbortController,a=f.signal;try{n=Ye(e,i,this.options,"next")}catch(u){return Promise.reject(u)}return ie.applyNetworkTimeout(this.options,s,f),c(n,{signal:a}).then(ie.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",u),u;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f=new AbortController,a=f.signal;try{n=Ye(e,i,this.options,"results")}catch(u){return Promise.reject(u)}return ie.applyNetworkTimeout(this.options,s,f),c(n,{signal:a}).then(ie.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResults.completed",u),u;throw new Error("getQuizResults response data is malformed")})}},{key:"getQuizResultsConfig",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,c=this.options.fetch,f=new AbortController,a=f.signal;try{n=Ye(e,i,this.options,"results_config")}catch(u){return Promise.reject(u)}return ie.applyNetworkTimeout(this.options,s,f),c(n,{signal:a}).then(ie.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResultsConfig.completed",u),u;throw new Error("getQuizResultsConfig response data is malformed")})}}]),r}();si.exports=Kr});var fi=N((Jn,Ue)=>{E();"use strict";var Xe=X(),Hr=Xe($()),Wr=Xe(ee()),Vr=Xe(Ee()),Ie=Z(),Qr=Ie.cleanParams,Yr=Ie.trimNonBreakingSpaces,Xr=Ie.encodeURIComponentRFC3986,Zr=Ie.stringify;function ai(r,t,e){var i=e.apiKey,o=e.version,s=e.sessionId,n=e.clientId,c=e.userId,f=e.segments,a=e.testCells,u=e.assistantServiceUrl,l={c:o};if(l.key=i,l.i=n,l.s=s,!r||typeof r!="string")throw new Error("intent is a required parameter of type string");if(!t.domain||typeof t.domain!="string")throw new Error("parameters.domain is a required parameter of type string");if(a&&Object.keys(a).forEach(function(p){l["ef-".concat(p)]=a[p]}),f&&f.length&&(l.us=f),c&&(l.ui=String(c)),t){var d=t.domain,_=t.numResultsPerPage;d&&(l.domain=d),_&&(l.num_results_per_page=_)}l._dt=Date.now(),l=Qr(l);var y=Zr(l),h=r.replace(/^\//,"|");return"".concat(u,"/v1/intent/").concat(Xr(Yr(h)),"?").concat(y)}function ci(r,t,e){var i=function(s){r.addEventListener(s,function(n){var c=JSON.parse(n.data);t.enqueue({type:s,data:c})})};Object.values(e).forEach(function(o){o!==e.END&&i(o)}),r.addEventListener(e.END,function(){t.close(),r.close()}),r.onerror=function(o){t.error(o),r.close()}}var li=function(){function r(t){(0,Hr.default)(this,r),this.options=t||{}}return(0,Wr.default)(r,[{key:"getAssistantResultsStream",value:function(e,i){var o,s;try{var n=ai(e,i,this.options);o=new EventSource(n),s=new ReadableStream({start:function(u){ci(o,u,r.EventTypes)},cancel:function(){o.close()}})}catch(a){if(s){var c;(c=s)===null||c===void 0||c.cancel()}else{var f;(f=o)===null||f===void 0||f.close()}throw new Error(a.message)}return s}}]),r}();(0,Vr.default)(li,"EventTypes",{START:"start",GROUP:"group",SEARCH_RESULT:"search_result",ARTICLE_REFERENCE:"article_reference",RECIPE_INFO:"recipe_info",RECIPE_INSTRUCTIONS:"recipe_instructions",SERVER_ERROR:"server_error",IMAGE_META:"image_meta",END:"end"});Ue.exports=li;Ue.exports.createAssistantUrl=ai;Ue.exports.setupEventListeners=ci});var vn=N((Gn,hi)=>{E();"use strict";var di=X(),$r=di($()),en=di(ee()),tn=st(),rn=yt(),nn=kt(),on=St(),sn=Rt(),vi=Zt(),un=se(),qe=Z(),an=$t(),cn=an.default,ln=ui(),fn=fi(),dn=function(){var t="ciojs-client-",e=[];return qe.canUseDOM()||e.push("domless"),typeof U!="undefined"&&typeof U.env!="undefined"&&U.env.BUNDLED&&e.push("bundled"),"".concat(t).concat(e.join("-")).concat(e.length?"-":"").concat(cn)},Ze=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,$r.default)(this,r);var e=t.apiKey,i=t.version,o=t.serviceUrl,s=t.quizzesServiceUrl,n=t.assistantServiceUrl,c=t.segments,f=t.testCells,a=t.clientId,u=t.sessionId,l=t.userId,d=t.fetch,_=t.trackingSendDelay,y=t.sendReferrerWithTrackingEvents,h=t.sendTrackingEvents,p=t.eventDispatcher,S=t.idOptions,b=t.beaconMode,w=t.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var O,R,q=typeof window!="undefined"&&window.CLIENT_VERSION;if(qe.canUseDOM()){var v=new tn(S||{});O=v.session_id,R=v.client_id}else{if(!u||typeof u!="number")throw new Error("sessionId is a required user parameter of type number");if(!a||typeof a!="string")throw new Error("clientId is a required user parameter of type string")}var A=o&&o.replace(/\/$/,"");this.options={apiKey:e,version:i||q||dn(),serviceUrl:qe.addHTTPSToString(A)||"https://ac.cnstrc.com",quizzesServiceUrl:s&&s.replace(/\/$/,"")||"https://quizzes.cnstrc.com",assistantServiceUrl:n&&n.replace(/\/$/,"")||"https://assistant.cnstrc.com",sessionId:u||O,clientId:a||R,userId:l,segments:c,testCells:f,fetch:d||fetch,trackingSendDelay:_,sendTrackingEvents:h,sendReferrerWithTrackingEvents:y,eventDispatcher:p,beaconMode:b!==!1,networkParameters:w||{}},this.search=new rn(this.options),this.browse=new nn(this.options),this.autocomplete=new on(this.options),this.recommendations=new sn(this.options),this.tracker=new vi(this.options),this.quizzes=new ln(this.options),this.assistant=new fn(this.options),new un(t.eventDispatcher).queue("instantiated",this.options)}return(0,en.default)(r,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var i=e.apiKey,o=e.segments,s=e.testCells,n=e.sessionId,c=e.userId,f=c===void 0?"":c;i&&(this.options.apiKey=i),o&&(this.options.segments=o),s&&(this.options.testCells=s),n&&!qe.canUseDOM()&&(this.options.sessionId=n),this.options.userId=f}}}]),r}();Ze.Tracker=vi;qe.canUseDOM()&&(window.ConstructorioClient=Ze);hi.exports=Ze});vn();})();
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */

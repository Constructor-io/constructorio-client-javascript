/*!
 *
 * Constructor.io JavaScript Client, version 2.58.1
 * (c) 2015-2024 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 * ---
 * Includes code from the 'browserify/events' library, licensed under the MIT License.
 * For full license details, see the library documentation.
 *
 */
(()=>{var ot=typeof require!="undefined"?require:r=>{throw new Error('Dynamic require of "'+r+'" is not supported')};var yi=(r,t)=>()=>(r&&(t=r(r=0)),t);var N=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var wi,U,E=yi(()=>{wi={BUNDLED:"true"},U={env:wi}});var Y=N((pn,he)=>{E();function bi(r){return r&&r.__esModule?r:{default:r}}he.exports=bi,he.exports.__esModule=!0,he.exports.default=he.exports});var te=N((yn,ge)=>{E();function ki(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}ge.exports=ki,ge.exports.__esModule=!0,ge.exports.default=ge.exports});var ie=N((wn,_e)=>{E();function ut(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function qi(r,t,e){return t&&ut(r.prototype,t),e&&ut(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}_e.exports=qi,_e.exports.__esModule=!0,_e.exports.default=_e.exports});var ct=N((bn,Me)=>{E();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(e==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),n=1;n<arguments.length;n++){var s=arguments[n];if(s!=null){s=Object(s);for(var o=Object.keys(Object(s)),a=0,f=o.length;f>a;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&(i[c]=s[c])}}}return i}});function r(e){let i;try{i=window[e];let n="__storage_test__";return i.setItem(n,n),i.removeItem(n),!0}catch(n){return n instanceof DOMException&&n.name==="QuotaExceededError"&&i&&i.length!==0}}var t=function(e){var i={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_secure:null,cookie_samesite:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,new_to_beacon:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,i,e),!this.client_id)if(!this.on_node&&this.persist){var n;this.client_id_storage_location==="cookie"&&(n=this.get_cookie(this.cookie_name_client_id),n&&(this.delete_cookie(this.cookie_name_client_id),this.set_cookie(this.cookie_name_client_id,n))),this.client_id_storage_location==="local"&&(n=this.get_local_object(this.local_name_client_id)),this.client_id=n||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};t.prototype.set_cookie=function(e,i){if(!this.on_node&&this.persist){var n=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),s=e+"="+i+"; expires="+n.toUTCString()+"; path=/";return this.cookie_domain&&(s+="; domain="+this.cookie_domain),this.cookie_secure&&(s+="; secure"),this.cookie_samesite&&(s+="; samesite="+this.cookie_samesite),document.cookie=s,s}return null},t.prototype.get_cookie=function(e){for(var i=e+"=",n=document.cookie.split(";"),s=0;s<n.length;s++){var o=n[s];try{for(var a=decodeURIComponent(o);a.charAt(0)===" ";)a=a.substring(1);if(a.indexOf(i)===0)return a.substring(i.length,a.length)}catch(f){}}},t.prototype.delete_cookie=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},t.prototype.generate_client_id=function(){var e;if(!this.on_node){var i=this.get_cookie(this.cookie_name_client_id),n=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&n&&(e=n,this.set_cookie(this.cookie_name_client_id,e),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&i&&(e=i,this.set_local_object(this.local_name_client_id,e),this.delete_cookie(this.cookie_name_client_id))}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,a=s==="x"?o:o&3|8;return a.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,e),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,e)),e},t.prototype.get_local_object=function(e){var i,n=r("localStorage")&&window&&window.localStorage;if(n&&typeof e=="string")try{i=JSON.parse(n.getItem(e))}catch(s){i=n.getItem(e)}return i},t.prototype.set_local_object=function(e,i){var n=r("localStorage")&&window&&window.localStorage;if(n&&typeof e=="string"){if(typeof i=="object")try{n.setItem(e,JSON.stringify(i))}catch(s){}if(typeof i=="string"||typeof i=="number")try{n.setItem(e,i)}catch(s){}}},t.prototype.delete_local_object=function(e){var i=r("localStorage")&&window&&window.localStorage;if(i&&typeof e=="string")try{i.removeItem(e)}catch(n){}},t.prototype.generate_session_id=function(){var e=this.get_cookie(this.cookie_name_session_data),i=this.get_local_object(this.local_name_session_data),n=Date.now(),s=1e3*60*30,o;if(this.session_id_storage_location==="local"&&(o=this.get_local_object(this.local_name_session_data),!o&&e&&(o=e,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){o=this.get_cookie(this.cookie_name_session_data);try{o=JSON.parse(o)}catch(u){}!o&&i&&(o=i,this.delete_local_object(this.local_name_session_data))}var a=1,f=1;o&&typeof o=="object"&&(f=parseInt(o.sessionId,10)||1,o.lastTime>n-s?a=f:a=f+1),this.session_id=a,this.session_is_new=!(o&&f===a),o&&o.newToBeacon&&(this.new_to_beacon=!0);let c={sessionId:a,lastTime:n};return this.session_is_new&&(c.newToBeacon=!0),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,a),this.set_local_object(this.local_name_session_data,c)),this.session_id_storage_location==="cookie"&&(this.cookie_domain&&(this.delete_cookie(this.cookie_name_session_id),this.delete_cookie(this.cookie_name_session_data)),this.set_cookie(this.cookie_name_session_id,a),this.set_cookie(this.cookie_name_session_data,JSON.stringify(c))),a},typeof Me!="undefined"&&typeof ot!="undefined"&&(Me.exports=t)})()});var pe=N((kn,se)=>{E();function Pe(r){return se.exports=Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se.exports.__esModule=!0,se.exports.default=se.exports,Pe(r)}se.exports=Pe,se.exports.__esModule=!0,se.exports.default=se.exports});var lt=N(Je=>{E();var at;(function(r){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof Je=="object"?r(Je):typeof define=="function"&&define.amd?define(function(){var t={};return r(t),t}):r(at={}):r(at={})})(function(r){r.version="1.2.2";function t(){for(var v=0,A=new Array(256),_=0;_!=256;++_)v=_,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,A[_]=v;return typeof Int32Array!="undefined"?new Int32Array(A):A}var e=t();function i(v){var A=0,_=0,q=0,C=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)C[q]=v[q];for(q=0;q!=256;++q)for(_=v[q],A=256+q;A<4096;A+=256)_=C[A]=_>>>8^v[_&255];var m=[];for(q=1;q!=16;++q)m[q-1]=typeof Int32Array!="undefined"?C.subarray(q*256,q*256+256):C.slice(q*256,q*256+256);return m}var n=i(e),s=n[0],o=n[1],a=n[2],f=n[3],c=n[4],u=n[5],l=n[6],d=n[7],g=n[8],y=n[9],h=n[10],p=n[11],k=n[12],w=n[13],b=n[14];function O(v,A){for(var _=A^-1,q=0,C=v.length;q<C;)_=_>>>8^e[(_^v.charCodeAt(q++))&255];return~_}function S(v,A){for(var _=A^-1,q=v.length-15,C=0;C<q;)_=b[v[C++]^_&255]^w[v[C++]^_>>8&255]^k[v[C++]^_>>16&255]^p[v[C++]^_>>>24]^h[v[C++]]^y[v[C++]]^g[v[C++]]^d[v[C++]]^l[v[C++]]^u[v[C++]]^c[v[C++]]^f[v[C++]]^a[v[C++]]^o[v[C++]]^s[v[C++]]^e[v[C++]];for(q+=15;C<q;)_=_>>>8^e[(_^v[C++])&255];return~_}function R(v,A){for(var _=A^-1,q=0,C=v.length,m=0,F=0;q<C;)m=v.charCodeAt(q++),m<128?_=_>>>8^e[(_^m)&255]:m<2048?(_=_>>>8^e[(_^(192|m>>6&31))&255],_=_>>>8^e[(_^(128|m&63))&255]):m>=55296&&m<57344?(m=(m&1023)+64,F=v.charCodeAt(q++)&1023,_=_>>>8^e[(_^(240|m>>8&7))&255],_=_>>>8^e[(_^(128|m>>2&63))&255],_=_>>>8^e[(_^(128|F>>6&15|(m&3)<<4))&255],_=_>>>8^e[(_^(128|F&63))&255]):(_=_>>>8^e[(_^(224|m>>12&15))&255],_=_>>>8^e[(_^(128|m>>6&63))&255],_=_>>>8^e[(_^(128|m&63))&255]);return~_}r.table=e,r.bstr=O,r.buf=S,r.str=R})});var Oe=N((mn,ft)=>{E();"use strict";function re(r){var t;try{t=window[r];var e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(i){return typeof DOMException!="undefined"&&i instanceof DOMException&&(i.name==="QuotaExceededError"||i.name==="QUOTA_EXCEEDED_ERR"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||i.toString().indexOf("QuotaExceededError")!==-1)&&t&&t.length!==0}}var mi={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(!re("sessionStorage"))return null;var i=sessionStorage.getItem(t);if(i)try{return JSON.parse(i)}catch(n){return i}return null},set:function(t,e){try{sessionStorage.setItem(t,JSON.stringify(e))}catch(i){this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],re("sessionStorage")&&sessionStorage.removeItem(t)},key:function(t){var e,i;if(!re("sessionStorage")){var n;return(n=Object.keys(this.overflow))===null||n===void 0?void 0:n[t]}var s=(e=sessionStorage)===null||e===void 0?void 0:e.key(t),o=((i=sessionStorage)===null||i===void 0?void 0:i.length)||0;if(t>=o){var a,f=t-o;return(a=Object.keys(this.overflow))===null||a===void 0?void 0:a[f]}return s},length:function(){var t=Object.keys(this.overflow).length;return re("sessionStorage")?sessionStorage.length+t:t},clear:function(){this.overflow={},re("sessionStorage")&&sessionStorage.clear()}},Si={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(!re("localStorage"))return null;var i=localStorage.getItem(t);if(i)try{return JSON.parse(i)}catch(n){return i}return null},set:function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(i){this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],re("localStorage")&&localStorage.removeItem(t)},key:function(t){var e,i;if(!re("localStorage")){var n;return(n=Object.keys(this.overflow))===null||n===void 0?void 0:n[t]}var s=(e=localStorage)===null||e===void 0?void 0:e.key(t),o=((i=localStorage)===null||i===void 0?void 0:i.length)||0;if(t>=o){var a,f=t-o;return(a=Object.keys(this.overflow))===null||a===void 0?void 0:a[f]}return s},length:function(){var t=Object.keys(this.overflow).length;return re("localStorage")?localStorage.length+t:t},clear:function(){this.overflow={},re("localStorage")&&localStorage.clear()}},Ei={local:Si,session:mi,canUseStorage:re};ft.exports=Ei});var $=N((Sn,ht)=>{E();"use strict";var Ci=Y(),dt=Ci(pe()),vt=lt(),Ge=Oe(),Ke="_constructorio_purchase_order_ids",Ri=[{pattern:/[\w\-+\\.]+@([\w-]+\.)+[\w-]{2,4}/,replaceWith:"<email_omitted>"},{pattern:/^(?:\+\d{11,12}|\+\d{1,3}\s\d{3}\s\d{3}\s\d{3,4}|\(\d{3}\)\d{7}|\(\d{3}\)\s\d{3}\s\d{4}|\(\d{3}\)\d{3}-\d{4}|\(\d{3}\)\s\d{3}-\d{4})$/,replaceWith:"<phone_omitted>"},{pattern:/^(?:4[0-9]{15}|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$/,replaceWith:"<credit_omitted>"}],W={trimNonBreakingSpaces:function(t){return t.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i];typeof n=="string"?e[i]=W.trimNonBreakingSpaces(n):e[i]=n}),e},throwHttpErrorFromResponse:function(t,e){return e.json().then(function(i){throw t.message=i.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,t.headers=e.headers,t})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(t,e,i){W.canUseDOM()&&window.addEventListener(t,e,i)},removeEventListener:function(t,e,i){W.canUseDOM()&&window.removeEventListener(t,e,i)},getNavigator:function(){return W.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(t){return t==null},getWindowLocation:function(){return W.canUseDOM()?window.location:{}},dispatchEvent:function(t){W.canUseDOM()&&window.dispatchEvent(t)},createCustomEvent:function(t,e){if(W.canUseDOM())try{return new window.CustomEvent(t,{detail:e})}catch(n){var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!1,e),i}return null},hasOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,n=e;i&&(n="".concat(i,"-").concat(e));var s=vt.str(n.toString()),o=Ge.local.get(Ke);return typeof o=="string"&&(o=JSON.parse(o)),o&&o.includes(s)?!0:null},addOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,n=e;i&&(n="".concat(i,"-").concat(e));var s=vt.str(n.toString()),o=Ge.local.get(Ke);if(typeof o=="string"&&(o=JSON.parse(o)),o){if(o.includes(s))return;o.length>=10&&(o=o.slice(-9)),o.push(s)}else o=[s];Ge.local.set(Ke,o)},applyNetworkTimeout:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=t&&t.networkParameters&&t.networkParameters.timeout,s=e&&e.timeout,o=s||n;typeof o=="number"&&i&&setTimeout(function(){return i.abort()},o)},stringify:function(t,e,i){if(!t)return"";var n=[];return Object.keys(t).forEach(function(s){var o=t[s],a=W.encodeURIComponentRFC3986(s),f;if(o!=null){var c=e?"".concat(e,"%5B").concat(a,"%5D"):a;Array.isArray(o)?f=W.stringify(o,c,"array"):(0,dt.default)(o)==="object"?f=W.stringify(o,c,"object"):i==="object"?f="".concat(c,"=").concat(W.encodeURIComponentRFC3986(o)):f="".concat(e||a,"=").concat(W.encodeURIComponentRFC3986(o)),n.push(f)}}),n.join("&")},toSnakeCase:function(t){return t.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={};return Object.keys(t).forEach(function(n){var s=W.toSnakeCase(n);i[s]=e&&(0,dt.default)(t[n])==="object"&&!Array.isArray(t[n])?W.toSnakeCaseKeys(t[n],e):t[n]}),i},containsPii:function(t,e){var i=t.toLowerCase();return e.test(i)},obfuscatePiiRequest:function(t){var e=t;try{var i,n,s,o=new URL(t),a=o==null||(i=o.pathname)===null||i===void 0?void 0:i.split("/"),f=o==null||(n=o.search)===null||n===void 0||(s=n.split("&"))===null||s===void 0?void 0:s.map(function(c){var u;return(u=c.split("="))===null||u===void 0?void 0:u[1]});Ri.forEach(function(c){var u=c.pattern,l=c.replaceWith;a.forEach(function(d){var g=decodeURIComponent(d);W.containsPii(g,u)&&(e=e.replaceAll(d,l))}),f.forEach(function(d){var g=decodeURIComponent(d);W.containsPii(g,u)&&(e=e.replaceAll(g,l))})})}catch(c){}return e},convertResponseToJson:function(t){return t.ok?t.json().catch(function(){return t.text().then(function(e){throw new Error("Server responded with an invalid JSON object. Response code: ".concat(t.code,", Response: ").concat(e))})}):W.throwHttpErrorFromResponse(new Error,t)},addHTTPSToString:function(t){if(typeof t!="string")return null;var e=t.startsWith("https://"),i=t.startsWith("http://");if(!e&&i)return t.replace("http","https");if(!i&&!e){var n="https://".concat(t);return n}return t}};ht.exports=W});var ue=N((En,_t)=>{E();"use strict";var gt=Y(),Ai=gt(te()),Oi=gt(ie()),Te=$(),Ti=function(){function r(t){var e=this;(0,Ai.default)(this,r),this.events=[],this.enabled=!(t&&t.enabled===!1),this.waitForBeacon=!(t&&t.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,Te.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),Te.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,Oi.default)(r,[{key:"queue",value:function(e,i){this.events.push({name:e,data:i}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),i=e.name,n=e.data,s="cio.client.".concat(i);Te.dispatchEvent(Te.createCustomEvent(s,n))}}}]),r}();_t.exports=Ti});var bt=N((Cn,wt)=>{E();"use strict";var pt=Y(),Ii=pt(te()),xi=pt(ie()),Ui=ue(),ne=$();function yt(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,n=e.apiKey,s=e.version,o=e.serviceUrl,a=e.sessionId,f=e.clientId,c=e.userId,u=e.segments,l=e.testCells,d={c:s};if(d.key=n,d.i=f,d.s=a,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(l&&Object.keys(l).forEach(function(m){d["ef-".concat(m)]=l[m]}),u&&u.length&&(d.us=u),c&&(d.ui=String(c)),t){var g=t.offset,y=t.page,h=t.resultsPerPage,p=t.filters,k=t.sortBy,w=t.sortOrder,b=t.section,O=t.fmtOptions,S=t.hiddenFields,R=t.hiddenFacets,v=t.variationsMap,A=t.qsParam,_=t.preFilterExpression;ne.isNil(g)||(d.offset=g),ne.isNil(y)||(d.page=y),ne.isNil(h)||(d.num_results_per_page=h),p&&(d.filters=p),k&&(d.sort_by=k),w&&(d.sort_order=w),b&&(d.section=b),O&&(d.fmt_options=O),S&&(d.fmt_options?d.fmt_options.hidden_fields=S:d.fmt_options={hidden_fields:S}),R&&(d.fmt_options?d.fmt_options.hidden_facets=R:d.fmt_options={hidden_facets:R}),v&&(d.variations_map=JSON.stringify(v)),_&&(d.pre_filter_expression=JSON.stringify(_)),A&&(d.qs=JSON.stringify(A))}d._dt=Date.now(),d=ne.cleanParams(d);var q=ne.stringify(d),C=i?"search/natural_language":"search";return"".concat(o,"/").concat(C,"/").concat(ne.encodeURIComponentRFC3986(ne.trimNonBreakingSpaces(r)),"?").concat(q)}var Di=function(){function r(t){(0,Ii.default)(this,r),this.options=t||{},this.eventDispatcher=new Ui(t.eventDispatcher)}return(0,xi.default)(r,[{key:"getSearchResults",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,ne.applyNetworkTimeout(this.options,s,c)}try{o=yt(e,i,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:f}).then(ne.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),n.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return n.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,ne.applyNetworkTimeout(this.options,s,c)}try{var u=!0;o=yt(e,i,this.options,u)}catch(l){return Promise.reject(l)}return a(o,{signal:f}).then(ne.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(d){d.result_id=l.result_id}),n.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;if(l.response&&l.response.redirect)return n.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;throw new Error("getVoiceSearchResults response data is malformed")})}}]),r}();wt.exports=Di});var Ie=N((Rn,ye)=>{E();function Ni(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}ye.exports=Ni,ye.exports.__esModule=!0,ye.exports.default=ye.exports});var mt=N((An,qt)=>{E();"use strict";var He=Y(),Bi=He(te()),Li=He(ie()),Fi=He(Ie());function kt(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function xe(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kt(Object(e),!0).forEach(function(i){(0,Fi.default)(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):kt(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}var zi=ue(),J=$();function we(r,t){var e=t.apiKey,i=t.version,n=t.sessionId,s=t.clientId,o=t.userId,a=t.segments,f=t.testCells,c={c:i};if(c.key=e,c.i=s,c.s=n,f&&Object.keys(f).forEach(function(v){c["ef-".concat(v)]=f[v]}),a&&a.length&&(c.us=a),o&&(c.ui=String(o)),r){var u=r.page,l=r.offset,d=r.resultsPerPage,g=r.filters,y=r.sortBy,h=r.sortOrder,p=r.section,k=r.fmtOptions,w=r.hiddenFields,b=r.hiddenFacets,O=r.variationsMap,S=r.qsParam,R=r.preFilterExpression;J.isNil(u)||(c.page=u),J.isNil(l)||(c.offset=l),J.isNil(d)||(c.num_results_per_page=d),g&&(c.filters=g),y&&(c.sort_by=y),h&&(c.sort_order=h),p&&(c.section=p),k&&(c.fmt_options=k),w&&(c.fmt_options?c.fmt_options.hidden_fields=w:c.fmt_options={hidden_fields:w}),b&&(c.fmt_options?c.fmt_options.hidden_facets=b:c.fmt_options={hidden_facets:b}),O&&(c.variations_map=JSON.stringify(O)),R&&(c.pre_filter_expression=JSON.stringify(R)),S&&(c.qs=JSON.stringify(S))}return c._dt=Date.now(),c=J.cleanParams(c),c}function ji(r,t,e,i){var n=i.serviceUrl;if(!r||typeof r!="string")throw new Error("filterName is a required parameter of type string");if(!t||typeof t!="string")throw new Error("filterValue is a required parameter of type string");var s=we(e,i),o=J.stringify(s);return"".concat(n,"/browse/").concat(J.encodeURIComponentRFC3986(J.trimNonBreakingSpaces(r)),"/").concat(J.encodeURIComponentRFC3986(J.trimNonBreakingSpaces(t)),"?").concat(o)}function Mi(r,t,e){var i=e.serviceUrl;if(!r||!Array.isArray(r)||!r.length)throw new Error("ids is a required parameter of type array");var n=xe(xe({},we(t,e)),{},{ids:r}),s=J.stringify(n);return"".concat(i,"/browse/items?").concat(s)}function Pi(r,t){var e=t.serviceUrl,i=xe({},we(r,t));delete i._dt;var n=J.stringify(i);return"".concat(e,"/browse/facets?").concat(n)}function Ji(r,t,e){var i=e.serviceUrl;if(!r||typeof r!="string")throw new Error("facetName is a required parameter of type string");var n=xe({},we(t,e));n.facet_name=r,delete n._dt;var s=J.stringify(n);return"".concat(i,"/browse/facet_options?").concat(s)}var Gi=function(){function r(t){(0,Bi.default)(this,r),this.options=t||{},this.eventDispatcher=new zi(t.eventDispatcher)}return(0,Li.default)(r,[{key:"getBrowseResults",value:function(e,i,n){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a,f=this.options.fetch,c;if(typeof AbortController=="function"){var u=new AbortController;c=u&&u.signal,J.applyNetworkTimeout(this.options,o,u)}try{a=ji(e,i,n,this.options)}catch(l){return Promise.reject(l)}return f(a,{signal:c}).then(J.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(d){d.result_id=l.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",l),l;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,J.applyNetworkTimeout(this.options,s,c)}try{o=Mi(e,i,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:f}).then(J.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),n.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options.fetch,o=this.options.serviceUrl,a=we(e,this.options),f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,J.applyNetworkTimeout(this.options,n,c)}delete a._dt;var u=J.stringify(a),l="".concat(o,"/browse/groups?").concat(u);return s(l,{signal:f}).then(J.convertResponseToJson).then(function(d){if(d.response&&d.response.groups)return i.eventDispatcher.queue("browse.getBrowseGroups.completed",d),d;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,i){var n=this,s,o=this.options.fetch,a;if(typeof AbortController=="function"){var f=new AbortController;a=f&&f.signal,J.applyNetworkTimeout(this.options,i,f)}try{s=Pi(e,this.options)}catch(c){return Promise.reject(c)}return o(s,{signal:a}).then(J.convertResponseToJson).then(function(c){if(c.response&&c.response.facets)return n.eventDispatcher.queue("browse.getBrowseFacets.completed",c),c;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,J.applyNetworkTimeout(this.options,s,c)}try{o=Ji(e,n,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:f}).then(J.convertResponseToJson).then(function(u){if(u.response&&u.response.facets)return i.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),r}();qt.exports=Gi});var Ct=N((On,Et)=>{E();"use strict";var St=Y(),Ki=St(te()),Hi=St(ie()),Wi=ue(),fe=$(),Vi=fe.convertResponseToJson,Qi=fe.cleanParams,Xi=fe.applyNetworkTimeout,Yi=fe.trimNonBreakingSpaces,Zi=fe.encodeURIComponentRFC3986,$i=fe.stringify;function er(r,t,e){var i=e.apiKey,n=e.version,s=e.serviceUrl,o=e.sessionId,a=e.clientId,f=e.userId,c=e.segments,u=e.testCells,l={c:n};if(l.key=i,l.i=a,l.s=o,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(v){l["ef-".concat(v)]=u[v]}),c&&c.length&&(l.us=c),f&&(l.ui=String(f)),t){var d=t.numResults,g=t.resultsPerSection,y=t.filters,h=t.filtersPerSection,p=t.hiddenFields,k=t.variationsMap,w=t.preFilterExpression,b=t.qsParam,O=t.fmtOptions;d&&(l.num_results=d),g&&Object.keys(g).forEach(function(v){l["num_results_".concat(v)]=g[v]}),y&&(l.filters=y),h&&Object.keys(h).forEach(function(v){l["filters[".concat(v,"]")]=h[v]}),w&&(l.pre_filter_expression=JSON.stringify(w)),O&&(l.fmt_options=O),p&&(l.fmt_options?l.fmt_options.hidden_fields=p:l.fmt_options={hidden_fields:p}),k&&(l.variations_map=JSON.stringify(k)),b&&(l.qs=JSON.stringify(b))}l._dt=Date.now(),l=Qi(l);var S=$i(l),R=r.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(Zi(Yi(R)),"?").concat(S)}var tr=function(){function r(t){(0,Ki.default)(this,r),this.options=t||{},this.eventDispatcher=new Wi(t.eventDispatcher)}return(0,Hi.default)(r,[{key:"getAutocompleteResults",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,Xi(this.options,s,c)}try{o=er(e,i,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:f}).then(Vi).then(function(u){if(u.sections){if(u.result_id){var l=Object.keys(u.sections);l.forEach(function(d){var g=u.sections[d];g.length&&g.forEach(function(y){y.result_id=u.result_id})})}return n.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),r}();Et.exports=tr});var Ot=N((Tn,At)=>{E();"use strict";var Rt=Y(),ir=Rt(te()),rr=Rt(ie()),nr=ue(),ce=$();function or(r,t,e){var i=e.apiKey,n=e.version,s=e.serviceUrl,o=e.sessionId,a=e.userId,f=e.clientId,c=e.segments,u={c:n};if(u.key=i,u.i=f,u.s=o,!r||typeof r!="string")throw new Error("podId is a required parameter of type string");if(c&&c.length&&(u.us=c),a&&(u.ui=String(a)),t){var l=t.numResults,d=t.itemIds,g=t.section,y=t.term,h=t.filters,p=t.variationsMap,k=t.hiddenFields,w=t.preFilterExpression;ce.isNil(l)||(u.num_results=l),d&&(u.item_id=d),g&&(u.section=g),y&&(u.term=y),h&&(u.filters=h),k&&(u.fmt_options?u.fmt_options.hidden_fields=k:u.fmt_options={hidden_fields:k}),p&&(u.variations_map=JSON.stringify(p)),w&&(u.pre_filter_expression=JSON.stringify(w))}u=ce.cleanParams(u);var b=ce.stringify(u);return"".concat(s,"/recommendations/v1/pods/").concat(ce.encodeURIComponentRFC3986(ce.trimNonBreakingSpaces(r)),"?").concat(b)}var sr=function(){function r(t){(0,ir.default)(this,r),this.options=t||{},this.eventDispatcher=new nr(t.eventDispatcher)}return(0,rr.default)(r,[{key:"getRecommendations",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,ce.applyNetworkTimeout(this.options,s,c)}try{o=or(e,i,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:f}).then(ce.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),n.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),r}();At.exports=sr});var jt=N((In,Ve)=>{E();"use strict";var ur=Y(),We=ur(pe()),de=(typeof Reflect=="undefined"?"undefined":(0,We.default)(Reflect))==="object"?Reflect:null,Tt=de&&typeof de.apply=="function"?de.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)},Ue;de&&typeof de.ownKeys=="function"?Ue=de.ownKeys:Object.getOwnPropertySymbols?Ue=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ue=function(t){return Object.getOwnPropertyNames(t)};function cr(r){console&&console.warn&&console.warn(r)}var It=Number.isNaN||function(t){return t!==t};function L(){L.init.call(this)}Ve.exports=L;Ve.exports.once=dr;L.EventEmitter=L;L.prototype._events=void 0;L.prototype._eventsCount=0;L.prototype._maxListeners=void 0;var xt=10;function De(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,We.default)(r))}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return xt},set:function(t){if(typeof t!="number"||t<0||It(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");xt=t}});L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};L.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||It(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ut(r){return r._maxListeners===void 0?L.defaultMaxListeners:r._maxListeners}L.prototype.getMaxListeners=function(){return Ut(this)};L.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")Tt(f,this,e);else for(var c=f.length,u=Ft(f,c),i=0;i<c;++i)Tt(u[i],this,e);return!0};function Dt(r,t,e,i){var n,s,o;if(De(e),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),s=r._events),o=s[t]),o===void 0)o=s[t]=e,++r._eventsCount;else if(typeof o=="function"?o=s[t]=i?[e,o]:[o,e]:i?o.unshift(e):o.push(e),n=Ut(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=t,a.count=o.length,cr(a)}return r}L.prototype.addListener=function(t,e){return Dt(this,t,e,!1)};L.prototype.on=L.prototype.addListener;L.prototype.prependListener=function(t,e){return Dt(this,t,e,!0)};function ar(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nt(r,t,e){var i={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},n=ar.bind(i);return n.listener=e,i.wrapFn=n,n}L.prototype.once=function(t,e){return De(e),this.on(t,Nt(this,t,e)),this};L.prototype.prependOnceListener=function(t,e){return De(e),this.prependListener(t,Nt(this,t,e)),this};L.prototype.removeListener=function(t,e){var i,n,s,o,a;if(De(e),n=this._events,n===void 0)return this;if(i=n[t],i===void 0)return this;if(i===e||i.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===e||i[o].listener===e){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():lr(i,s),i.length===1&&(n[t]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};L.prototype.off=L.prototype.removeListener;L.prototype.removeAllListeners=function(t){var e,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=i[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this};function Bt(r,t,e){var i=r._events;if(i===void 0)return[];var n=i[t];return n===void 0?[]:typeof n=="function"?e?[n.listener||n]:[n]:e?fr(n):Ft(n,n.length)}L.prototype.listeners=function(t){return Bt(this,t,!0)};L.prototype.rawListeners=function(t){return Bt(this,t,!1)};L.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):Lt.call(r,t)};L.prototype.listenerCount=Lt;function Lt(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?Ue(this._events):[]};function Ft(r,t){for(var e=new Array(t),i=0;i<t;++i)e[i]=r[i];return e}function lr(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function fr(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function dr(r,t){return new Promise(function(e,i){function n(o){r.removeListener(t,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),e([].slice.call(arguments))}zt(r,t,s,{once:!0}),t!=="error"&&vr(r,n,{once:!0})})}function vr(r,t,e){typeof r.on=="function"&&zt(r,"error",t,e)}function zt(r,t,e,i){if(typeof r.on=="function")i.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function n(s){i.once&&r.removeEventListener(t,n),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,We.default)(r))}});var Pt=N((xn,Mt)=>{E();"use strict";Mt.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot","Bytespider","BTTAgent"]});var Ht=N((Un,Kt)=>{E();"use strict";var Jt=Y(),hr=Jt(te()),gr=Jt(ie()),Qe=Oe(),_r=Pt(),Xe=$(),Ye="_constructorio_is_human",Gt=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],pr=function(){function r(){var t=this;(0,hr.default)(this,r),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var e=function i(){t.isHumanBoolean=!0,Qe.session.set(Ye,!0),Gt.forEach(function(n){Xe.removeEventListener(n,i,!0)})};this.isHumanBoolean||Gt.forEach(function(i){Xe.addEventListener(i,e,!0)})}return(0,gr.default)(r,[{key:"getIsHumanFromSessionStorage",value:function(){return!!Qe.session.get(Ye)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!Qe.session.get(Ye)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var e=Xe.getNavigator(),i=e.userAgent,n=e.webdriver,s=new RegExp("(".concat(_r.join("|"),")"));return Boolean(i.match(s))||Boolean(n)}}]),r}();Kt.exports=pr});var Qt=N((Dn,Vt)=>{E();"use strict";var Wt=Y(),yr=Wt(te()),wr=Wt(ie()),Ze=Oe(),br=Ht(),$e=$(),kr=$(),qr=kr.obfuscatePiiRequest,et="_constructorio_requests",mr=18e4,Sr=function(){function r(t,e){var i=this;(0,yr.default)(this,r),this.options=t,this.eventemitter=e,this.humanity=new br,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(t&&t.sendTrackingEvents===!0),$e.addEventListener("beforeunload",function(){i.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,wr.default)(r,[{key:"queue",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var o=r.get(),a=qr(e);o.push({url:a,method:i,body:n,networkParameters:s}),r.set(o)}}},{key:"sendEvents",value:function(){var e=this,i=this.options.fetch,n=r.get();if((!$e.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&n.length){var s,o=n.shift(),a=o,f=a.networkParameters,c,u=this;if(r.set(n),f&&typeof AbortController=="function"){var l=new AbortController;c=l.signal,$e.applyNetworkTimeout(this.options,f,l)}if(typeof o=="string"&&(o={url:o,method:"GET"}),o.url){var d=o.url.match(/\?.*_dt=([^&]+)/),g=parseInt(d&&d[1],10),y=+new Date;if(g&&Number.isInteger(g)&&y-g>mr){this.sendTrackingEvents=!1,r.remove();return}}o.method==="GET"&&(s=i(o.url,{signal:c})),o.method==="POST"&&(s=i(o.url,{method:o.method,body:JSON.stringify(o.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:c})),s&&(this.requestPending=!0,s.then(function(h){h.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:o.url,method:o.method,message:"ok"}),e.requestPending=!1,e.send()):h.json().then(function(p){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:p&&p.message}),e.requestPending=!1,e.send()}).catch(function(p){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:p.type}),e.requestPending=!1,e.send()})}).catch(function(h){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:h&&h.toString&&h.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return Ze.local.get(et)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?r.remove():Ze.local.set(et,e);var i=r.get();Array.isArray(i)&&i.length!==e.length&&(this.sendTrackingEvents=!1,r.remove())}},{key:"remove",value:function(){Ze.local.remove(et)}}]),r}();Vt.exports=Sr});var ei=N((Nn,$t)=>{E();"use strict";var Ne=Y(),z=Ne(pe()),Er=Ne(Ie()),Cr=Ne(te()),Rr=Ne(ie());function Xt(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function I(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Xt(Object(e),!0).forEach(function(i){(0,Er.default)(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Xt(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}var Ar=jt(),T=$(),Yt=Qt();function j(r,t){var e=t.apiKey,i=t.version,n=t.sessionId,s=t.clientId,o=t.userId,a=t.segments,f=t.testCells,c=t.requestMethod,u=t.beaconMode,l=T.getWindowLocation(),d=l.host,g=l.pathname,y=t.sendReferrerWithTrackingEvents!==!1,h=Object.assign(r);return i&&(h.c=i),s&&(h.i=s),n&&(h.s=n),o&&(h.ui=String(o)),a&&a.length&&(h.us=a),e&&(h.key=e),f&&Object.keys(f).forEach(function(p){h["ef-".concat(p)]=f[p]}),u&&c&&c.match(/POST/i)&&(h.beacon=!0),y&&d&&(h.origin_referrer=d,g&&(h.origin_referrer+=g)),h._dt=Date.now(),h=T.cleanParams(h),h}function B(r,t){return T.stringify(j(r,t))}var Zt=function(){function r(t){(0,Cr.default)(this,r),this.options=t||{},this.eventemitter=new Ar,this.requests=new Yt(t,this.eventemitter)}return(0,Rr.default)(r,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/v2/behavioral_action/session_start?");return this.requests.queue("".concat(i).concat(B({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),n={action:"session_start"};return this.requests.queue("".concat(i).concat(B(n,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s="".concat(this.options.serviceUrl,"/v2/behavioral_action/focus?"),o={},a=i.analyticsTags,f=a===void 0?null:a;f&&(o.analytics_tags=f),o.user_input=e;var c="POST",u=j(o,I(I({},this.options),{},{requestMethod:c}));return this.requests.queue("".concat(s).concat(B({},this.options)),c,u,n),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),n={action:"focus"};return this.requests.queue("".concat(i).concat(B(n,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},o={},a=e.item_name,f=e.name,c=e.item_id,u=e.customer_id,l=e.customerId,d=l===void 0?u:l,g=e.variation_id,y=e.itemName,h=y===void 0?a||f:y,p=e.itemId,k=p===void 0?c||d:p,w=e.variationId,b=w===void 0?g:w,O=e.url,S=e.analyticsTags;h&&(o.item_name=h),k&&(o.item_id=k),b&&(o.variation_id=b),S&&(o.analytics_tags=S),O&&(o.url=O);var R="".concat(n).concat(B(s,this.options)),v="POST",A=j(o,I(I({},this.options),{},{requestMethod:v}));return this.requests.queue(R,v,A,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/autocomplete_select?"),o=i.original_query,a=i.originalQuery,f=a===void 0?o:a,c=i.user_input,u=i.userInput,l=u===void 0?f||c:u,d=i.original_section,g=i.section,y=g===void 0?d:g,h=i.tr,p=i.group_id,k=i.groupId,w=k===void 0?p:k,b=i.item_id,O=i.itemId,S=O===void 0?b:O,R=i.variation_id,v=i.variationId,A=v===void 0?R:v,_={},q={user_input:l,tr:h,group_id:w,item_id:S,variation_id:A,item_name:e,section:y};y&&(_.section=y);var C="".concat(s).concat(B(_,this.options)),m="POST",F=j(q,I(I({},this.options),{},{requestMethod:m}));return this.requests.queue(C,m,F,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/select?"),o={},a=i.original_query,f=i.originalQuery,c=f===void 0?a:f,u=i.section,l=i.original_section,d=i.originalSection,g=d===void 0?l:d,y=i.tr,h=i.group_id,p=i.groupId,k=p===void 0?h:p,w=i.display_name,b=i.displayName,O=b===void 0?w:b;return c&&(o.original_query=c),y&&(o.tr=y),(g||u)&&(o.section=g||u),k&&(o.group={group_id:k,display_name:O}),this.requests.queue("".concat(s).concat(B(o,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_submit?"),o=i.original_query,a=i.originalQuery,f=a===void 0?o:a,c=i.user_input,u=i.userInput,l=u===void 0?f||c:u,d=i.group_id,g=i.groupId,y=g===void 0?d:g,h=i.section,p=i.analyticsTags,k=p===void 0?null:p,w={},b={user_input:l,search_term:e,section:h};y&&(b.filters={group_id:y}),h&&(w.section=h),k&&(b.analytics_tags=k);var O="".concat(s).concat(B(w,this.options)),S="POST",R=j(b,I(I({},this.options),{},{requestMethod:S}));return this.requests.queue(O,S,R,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/search?"),o={},a=i.original_query,f=i.originalQuery,c=f===void 0?a:f,u=i.group_id,l=i.groupId,d=l===void 0?u:l,g=i.display_name,y=i.displayName,h=y===void 0?g:y;return c&&(o.original_query=c),d&&(o.group={group_id:d,display_name:h}),this.requests.queue("".concat(s).concat(B(o,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s,o="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_load?"),a=i.num_results,f=i.numResults,c=f===void 0?a:f,u=i.result_count,l=i.customerIds,d=i.customer_ids,g=d===void 0?l:d,y=i.itemIds,h=i.item_ids,p=h===void 0?y:h,k=i.items,w=k===void 0?g||p:k,b=i.result_page,O=i.resultPage,S=O===void 0?b:O,R=i.result_id,v=i.resultId,A=v===void 0?R:v,_=i.sort_order,q=i.sortOrder,C=q===void 0?_:q,m=i.sort_by,F=i.sortBy,M=F===void 0?m:F,D=i.selected_filters,G=i.selectedFilters,H=G===void 0?D:G,x=i.url,X=x===void 0?((s=T.getWindowLocation())===null||s===void 0?void 0:s.href)||"N/A":x,P=i.section,V=i.analyticsTags,Q=i.resultCount,K=Q===void 0?c||u||(w==null?void 0:w.length)||0:Q,Z={},ee;if(w&&Array.isArray(w)&&w.length!==0){var ae=w.slice(0,100);typeof w[0]=="string"||typeof w[0]=="number"?ee=ae.map(function(le){return{item_id:String(le)}}):ee=ae.map(function(le){return T.toSnakeCaseKeys(le,!1)})}P&&(Z.section=P);var Re={search_term:e,result_count:K,items:ee,result_page:S,result_id:A,sort_order:C,sort_by:M,selected_filters:H,analytics_tags:V,url:X,section:P},Ae="".concat(o).concat(B(Z,this.options)),ve="POST",je=j(Re,I(I({},this.options),{},{requestMethod:ve}));return this.requests.queue(Ae,ve,je,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_click?"),o=i.num_results,a=i.customer_id,f=i.item_id,c=i.itemId,u=c===void 0?a||f:c,l=i.name,d=i.item_name,g=i.itemName,y=g===void 0?l||d:g,h=i.variation_id,p=i.variationId,k=p===void 0?h:p,w=i.result_id,b=i.resultId,O=b===void 0?w:b,S=i.result_count,R=i.resultCount,v=R===void 0?o||S:R,A=i.result_page,_=i.resultPage,q=_===void 0?A:_,C=i.result_position_on_page,m=i.resultPositionOnPage,F=m===void 0?C:m,M=i.num_results_per_page,D=i.numResultsPerPage,G=D===void 0?M:D,H=i.selected_filters,x=i.selectedFilters,X=x===void 0?H:x,P=i.section,V={item_name:y,item_id:u,variation_id:k,result_id:O,result_count:v,result_page:q,result_position_on_page:F,num_results_per_page:G,selected_filters:X,section:P,search_term:e},Q={};P&&(Q.section=P);var K="".concat(s).concat(B(Q,this.options)),Z="POST",ee=j(V,I(I({},this.options),{},{requestMethod:Z}));return this.requests.queue(K,Z,ee,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/click_through?"),o={},a=i.item_name,f=i.name,c=i.itemName,u=c===void 0?a||f:c,l=i.item_id,d=i.itemId,g=d===void 0?l:d,y=i.customer_id,h=i.customerId,p=h===void 0?y||g:h,k=i.variation_id,w=i.variationId,b=w===void 0?k:w,O=i.result_id,S=i.resultId,R=S===void 0?O:S,v=i.item_is_convertible,A=i.itemIsConvertible,_=A===void 0?v:A,q=i.section;return u&&(o.name=u),p&&(o.customer_id=p),b&&(o.variation_id=b),R&&(o.result_id=R),typeof _=="boolean"&&(o.item_is_convertible=_),q&&(o.section=q),this.requests.queue("".concat(s).concat(B(o,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i&&(0,z.default)(i)==="object"&&!Array.isArray(i)){var s=e||"TERM_UNKNOWN",o="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},f={},c=i.name,u=i.item_name,l=i.itemName,d=l===void 0?u||c:l,g=i.customer_id,y=i.customerId,h=y===void 0?g:y,p=i.item_id,k=i.itemId,w=k===void 0?p||h:k,b=i.variation_id,O=i.variationId,S=O===void 0?b:O,R=i.revenue,v=i.section,A=v===void 0?"Products":v,_=i.display_name,q=i.displayName,C=q===void 0?_:q,m=i.type,F=i.is_custom_type,M=i.isCustomType,D=M===void 0?F:M;w&&(f.item_id=w),d&&(f.item_name=d),S&&(f.variation_id=S),(R||R===0)&&(f.revenue=R.toString()),A&&(a.section=A,f.section=A),s&&(f.search_term=s),m&&(f.type=m),D&&(f.is_custom_type=D),C&&(f.display_name=C);var G="".concat(o).concat(B(a,this.options)),H="POST",x=j(f,I(I({},this.options),{},{requestMethod:H}));return this.requests.queue(G,H,x,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},o={},a=e.items,f=e.revenue,c=e.order_id,u=e.orderId,l=u===void 0?c:u,d=e.section,g=e.analyticsTags,y=this.options.apiKey;if(l){if(T.hasOrderIdRecord({orderId:l,apiKey:y}))return!1;T.addOrderIdRecord({orderId:l,apiKey:y}),o.order_id=l}a&&Array.isArray(a)&&(o.items=a.slice(0,100).map(function(w){return T.toSnakeCaseKeys(w,!1)})),(f||f===0)&&(o.revenue=f),d?s.section=d:s.section="Products",g&&(o.analytics_tags=g);var h="".concat(n).concat(B(s,this.options)),p="POST",k=j(o,I(I({},this.options),{},{requestMethod:p}));return this.requests.queue(h,p,k,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},o=e.result_count,a=e.result_page,f=e.resultPage,c=f===void 0?a:f,u=e.result_id,l=e.resultId,d=l===void 0?u:l,g=e.section,y=e.url,h=e.pod_id,p=e.podId,k=p===void 0?h:p,w=e.num_results_viewed,b=e.numResultsViewed,O=b===void 0?w:b,S=e.items,R=e.analyticsTags,v=e.resultCount,A=v===void 0?o||(S==null?void 0:S.length)||0:v;T.isNil(A)||(s.result_count=A),T.isNil(c)||(s.result_page=c),d&&(s.result_id=d),g?s.section=g:s.section="Products",y&&(s.url=y),k&&(s.pod_id=k),T.isNil(O)||(s.num_results_viewed=O),S&&Array.isArray(S)&&(s.items=S.slice(0,100).map(function(m){return T.toSnakeCaseKeys(m,!1)})),R&&(s.analytics_tags=R);var _="".concat(n).concat(B({},this.options)),q="POST",C=j(s,I(I({},this.options),{},{requestMethod:q}));return this.requests.queue(_,q,C,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},o=e.variation_id,a=e.variationId,f=a===void 0?o:a,c=e.section,u=c===void 0?"Products":c,l=e.result_id,d=e.resultId,g=d===void 0?l:d,y=e.result_count,h=e.resultCount,p=h===void 0?y:h,k=e.result_page,w=e.resultPage,b=w===void 0?k:w,O=e.result_position_on_page,S=e.resultPositionOnPage,R=S===void 0?O:S,v=e.num_results_per_page,A=e.numResultsPerPage,_=A===void 0?v:A,q=e.pod_id,C=e.podId,m=C===void 0?q:C,F=e.strategy_id,M=e.strategyId,D=M===void 0?F:M,G=e.item_id,H=e.itemId,x=H===void 0?G:H,X=e.item_name,P=e.itemName,V=P===void 0?X:P,Q=e.analyticsTags;f&&(s.variation_id=f),u&&(s.section=u),g&&(s.result_id=g),T.isNil(p)||(s.result_count=p),T.isNil(b)||(s.result_page=b),T.isNil(R)||(s.result_position_on_page=R),T.isNil(_)||(s.num_results_per_page=_),m&&(s.pod_id=m),D&&(s.strategy_id=D),x&&(s.item_id=x),V&&(s.item_name=V),Q&&(s.analytics_tags=Q);var K="".concat(n).concat(B({},this.options)),Z="POST",ee=j(s,I(I({},this.options),{},{requestMethod:Z}));return this.requests.queue(K,Z,ee,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),s={},o=e.section,a=o===void 0?"Products":o,f=e.result_count,c=e.result_page,u=e.resultPage,l=u===void 0?c:u,d=e.result_id,g=e.resultId,y=g===void 0?d:g,h=e.selected_filters,p=e.selectedFilters,k=p===void 0?h:p,w=e.url,b=e.sort_order,O=e.sortOrder,S=O===void 0?b:O,R=e.sort_by,v=e.sortBy,A=v===void 0?R:v,_=e.filter_name,q=e.filterName,C=q===void 0?_:q,m=e.filter_value,F=e.filterValue,M=F===void 0?m:F,D=e.items,G=e.analyticsTags,H=e.resultCount,x=H===void 0?f||(D==null?void 0:D.length)||0:H;a&&(s.section=a),T.isNil(x)||(s.result_count=x),T.isNil(l)||(s.result_page=l),y&&(s.result_id=y),k&&(s.selected_filters=k),w&&(s.url=w),S&&(s.sort_order=S),A&&(s.sort_by=A),C&&(s.filter_name=C),M&&(s.filter_value=M),D&&Array.isArray(D)&&(s.items=D.slice(0,100).map(function(Q){return T.toSnakeCaseKeys(Q,!1)})),G&&(s.analytics_tags=G);var X="".concat(n).concat(B({},this.options)),P="POST",V=j(s,I(I({},this.options),{},{requestMethod:P}));return this.requests.queue(X,P,V,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},o=e.section,a=o===void 0?"Products":o,f=e.variation_id,c=e.variationId,u=c===void 0?f:c,l=e.result_id,d=e.resultId,g=d===void 0?l:d,y=e.result_count,h=e.resultCount,p=h===void 0?y:h,k=e.result_page,w=e.resultPage,b=w===void 0?k:w,O=e.result_position_on_page,S=e.resultPositionOnPage,R=S===void 0?O:S,v=e.num_results_per_page,A=e.numResultsPerPage,_=A===void 0?v:A,q=e.selected_filters,C=e.selectedFilters,m=C===void 0?q:C,F=e.filter_name,M=e.filterName,D=M===void 0?F:M,G=e.filter_value,H=e.filterValue,x=H===void 0?G:H,X=e.customer_id,P=e.customerId,V=P===void 0?X:P,Q=e.item_id,K=e.itemId,Z=K===void 0?V||Q:K,ee=e.item_name,ae=e.name,Re=e.itemName,Ae=Re===void 0?ee||ae:Re,ve=e.analyticsTags;a&&(s.section=a),u&&(s.variation_id=u),g&&(s.result_id=g),T.isNil(p)||(s.result_count=p),T.isNil(b)||(s.result_page=b),T.isNil(R)||(s.result_position_on_page=R),T.isNil(_)||(s.num_results_per_page=_),m&&(s.selected_filters=m),D&&(s.filter_name=D),x&&(s.filter_value=x),Z&&(s.item_id=Z),Ae&&(s.item_name=Ae),ve&&(s.analytics_tags=ve);var je="".concat(n).concat(B({},this.options)),le="POST",pi=j(s,I(I({},this.options),{},{requestMethod:le}));return this.requests.queue(je,le,pi,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseRedirect",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_redirect?"),s={},o=e.searchTerm,a=e.userInput,f=e.section,c=f===void 0?"Products":f,u=e.selectedFilters,l=e.redirectToUrl,d=e.sortOrder,g=e.sortBy,y=e.filterName,h=e.filterValue,p=e.analyticsTags;o&&(s.search_term=o),a&&(s.user_input=a),l&&(s.redirect_to_url=l),c&&(s.section=c),u&&(s.selected_filters=u),d&&(s.sort_order=d),g&&(s.sort_by=g),y&&(s.filter_name=y),h&&(s.filter_value=h),p&&(s.analytics_tags=p);var k="".concat(n).concat(B({},this.options)),w="POST",b=j(s,I(I({},this.options),{},{requestMethod:w}));return this.requests.queue(k,w,b,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,z.default)(e)==="object"){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},o=e.item_id,a=e.itemId,f=a===void 0?o:a,c=e.item_name,u=e.itemName,l=u===void 0?c:u,d=e.variation_id,g=e.variationId,y=g===void 0?d:g,h=e.section,p=h===void 0?"Products":h,k=e.analyticsTags;if(f){s.section=p,s.item_id=f,l&&(s.item_name=l),y&&(s.variation_id=y),k&&(s.analytics_tags=k);var w="".concat(n).concat(B({},this.options)),b="POST",O=j(s,I(I({},this.options),{},{requestMethod:b}));return this.requests.queue(w,b,O,i),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,d=e.quizSessionId,g=d===void 0?l:d,y=e.url,h=e.section,p=h===void 0?"Products":h,k=e.result_count,w=e.resultCount,b=w===void 0?k:w,O=e.result_id,S=e.resultId,R=S===void 0?O:S,v=e.result_page,A=e.resultPage,_=A===void 0?v:A,q=e.items,C={},m={};if(q&&Array.isArray(q)&&(m.items=q.slice(0,100).map(function(G){return T.toSnakeCaseKeys(G,!1)})),typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof g!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string")return new Error('"url" is a required parameter of type string');if(m.quiz_id=a,m.quiz_version_id=u,m.quiz_session_id=g,m.url=y,!T.isNil(p)){if(typeof p!="string")return new Error('"section" must be a string');C.section=p,m.section=p}if(!T.isNil(b)){if(typeof b!="number")return new Error('"resultCount" must be a number');m.result_count=b}if(!T.isNil(R)){if(typeof R!="string")return new Error('"resultId" must be a string');m.result_id=R}if(!T.isNil(_)){if(typeof _!="number")return new Error('"resultPage" must be a number');m.result_page=_}var F="".concat(n).concat(B(C,this.options)),M="POST",D=j(m,I(I({},this.options),{},{requestMethod:M}));return this.requests.queue(F,M,D,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,d=e.quizSessionId,g=d===void 0?l:d,y=e.item_id,h=e.itemId,p=h===void 0?y:h,k=e.item_name,w=e.itemName,b=w===void 0?k:w,O=e.result_count,S=e.resultCount,R=S===void 0?O:S,v=e.result_id,A=e.resultId,_=A===void 0?v:A,q=e.result_page,C=e.resultPage,m=C===void 0?q:C,F=e.num_results_per_page,M=e.numResultsPerPage,D=M===void 0?F:M,G=e.result_position_on_page,H=e.resultPositionOnPage,x=H===void 0?G:H,X=e.section,P=X===void 0?"Products":X,V=e.variationId,Q={},K={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof g!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof p!="string"&&typeof b!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(K.quiz_id=a,K.quiz_version_id=u,K.quiz_session_id=g,!T.isNil(p)){if(typeof p!="string")return new Error('"itemId" must be a string');K.item_id=p}if(!T.isNil(b)){if(typeof b!="string")return new Error('"itemName" must be a string');K.item_name=b}if(!T.isNil(V)){if(typeof V!="string")return new Error('"variationId" must be a string');K.variation_id=V}if(!T.isNil(P)){if(typeof P!="string")return new Error('"section" must be a string');Q.section=P}if(!T.isNil(R)){if(typeof R!="number")return new Error('"resultCount" must be a number');K.result_count=R}if(!T.isNil(_)){if(typeof _!="string")return new Error('"resultId" must be a string');K.result_id=_}if(!T.isNil(m)){if(typeof m!="number")return new Error('"resultPage" must be a number');K.result_page=m}if(!T.isNil(D)){if(typeof D!="number")return new Error('"numResultsPerPage" must be a number');K.num_results_per_page=D}if(!T.isNil(x)){if(typeof x!="number")return new Error('"resultPositionOnPage" must be a number');K.result_position_on_page=x}var Z="".concat(n).concat(B(Q,this.options)),ee="POST",ae=j(K,I(I({},this.options),{},{requestMethod:ee}));return this.requests.queue(Z,ee,ae,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,d=e.quizSessionId,g=d===void 0?l:d,y=e.item_id,h=e.itemId,p=h===void 0?y:h,k=e.item_name,w=e.itemName,b=w===void 0?k:w,O=e.variation_id,S=e.variationId,R=S===void 0?O:S,v=e.revenue,A=e.section,_=A===void 0?"Products":A,q=e.type,C=e.is_custom_type,m=e.isCustomType,F=m===void 0?C:m,M=e.display_name,D=e.displayName,G=D===void 0?M:D,H={},x={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof g!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof p!="string"&&typeof b!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(x.quiz_id=a,x.quiz_version_id=u,x.quiz_session_id=g,!T.isNil(p)){if(typeof p!="string")return new Error('"itemId" must be a string');x.item_id=p}if(!T.isNil(b)){if(typeof b!="string")return new Error('"itemName" must be a string');x.item_name=b}if(!T.isNil(R)){if(typeof R!="string")return new Error('"variationId" must be a string');x.variation_id=R}if(!T.isNil(v)){if(typeof v!="string")return new Error('"revenue" must be a string');x.revenue=v}if(!T.isNil(_)){if(typeof _!="string")return new Error('"section" must be a string');x.section=_}if(!T.isNil(q)){if(typeof q!="string")return new Error('"type" must be a string');x.type=q}if(!T.isNil(F)){if(typeof F!="boolean")return new Error('"isCustomType" must be a boolean');x.is_custom_type=F}if(!T.isNil(G)){if(typeof G!="string")return new Error('"displayName" must be a string');x.display_name=G}var X="".concat(n).concat(B(H,this.options)),P="POST",V=j(x,I(I({},this.options),{},{requestMethod:P}));return this.requests.queue(X,P,V,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_submit?"),s=e.section,o=e.intent,a={intent:o,section:s},f="".concat(n).concat(B({},this.options)),c="POST",u=j(a,I(I({},this.options),{},{requestMethod:c}));return this.requests.queue(f,c,u,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadStarted",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_start?"),s=e.section,o=e.intentResultId,a=e.intent,f={intent_result_id:o,intent:a,section:s},c="".concat(n).concat(B({},this.options)),u="POST",l=j(f,I(I({},this.options),{},{requestMethod:u}));return this.requests.queue(c,u,l,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadFinished",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_finish?"),s=e.section,o=e.searchResultCount,a=e.intentResultId,f=e.intent,c={intent_result_id:a,section:s,intent:f,search_result_count:o},u="".concat(n).concat(B({},this.options)),l="POST",d=j(c,I(I({},this.options),{},{requestMethod:l}));return this.requests.queue(u,l,d,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_click?"),s=e.section,o=s===void 0?"Products":s,a=e.variationId,f=e.intentResultId,c=e.searchResultId,u=e.itemId,l=e.itemName,d=e.intent,g={section:o,variation_id:a,intent_result_id:f,search_result_id:c,item_id:u,item_name:l,intent:d},y="".concat(n).concat(B({},this.options)),h="POST",p=j(g,I(I({},this.options),{},{requestMethod:h}));return this.requests.queue(y,h,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_view?"),s=e.section,o=s===void 0?"Products":s,a=e.items,f=e.numResultsViewed,c=e.intentResultId,u=e.searchResultId,l=e.intent,d={section:o,intent_result_id:c,search_result_id:u,num_results_viewed:f,items:a&&Array.isArray(a)&&a.slice(0,100).map(function(p){return T.toSnakeCaseKeys(p,!1)}),intent:l},g="".concat(n).concat(B({},this.options)),y="POST",h=j(d,I(I({},this.options),{},{requestMethod:y}));return this.requests.queue(g,y,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSearchSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,z.default)(e)==="object"&&!Array.isArray(e)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_submit?"),s=e.section,o=e.intent,a=e.searchTerm,f=e.searchResultId,c=e.intentResultId,u={intent:o,section:s,search_term:a,search_result_id:f,intent_result_id:c},l="".concat(n).concat(B({},this.options)),d="POST",g=j(u,I(I({},this.options),{},{requestMethod:d}));return this.requests.queue(l,d,g,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"on",value:function(e,i){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!i||typeof i!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,i),!0)}}]),r}();Zt.RequestQueue=Yt;$t.exports=Zt});var ti=N(Be=>{E();"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var Or="2.58.1";Be.default=Or});var tt=N((Ln,be)=>{E();function Tr(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}be.exports=Tr,be.exports.__esModule=!0,be.exports.default=be.exports});var ii=N((Fn,ke)=>{E();var Ir=tt();function xr(r){if(Array.isArray(r))return Ir(r)}ke.exports=xr,ke.exports.__esModule=!0,ke.exports.default=ke.exports});var ri=N((zn,qe)=>{E();function Ur(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}qe.exports=Ur,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var oi=N((jn,me)=>{E();var ni=tt();function Dr(r,t){if(!!r){if(typeof r=="string")return ni(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ni(r,t)}}me.exports=Dr,me.exports.__esModule=!0,me.exports.default=me.exports});var si=N((Mn,Se)=>{E();function Nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Se.exports=Nr,Se.exports.__esModule=!0,Se.exports.default=Se.exports});var ui=N((Pn,Ee)=>{E();var Br=ii(),Lr=ri(),Fr=oi(),zr=si();function jr(r){return Br(r)||Lr(r)||Fr(r)||zr()}Ee.exports=jr,Ee.exports.__esModule=!0,Ee.exports.default=Ee.exports});var ai=N((Jn,ci)=>{E();"use strict";var Le=Y(),Mr=Le(te()),Pr=Le(ie()),Jr=Le(ui()),Gr=Le(pe()),Kr=ue(),oe=$();function it(r,t,e,i){var n=e.apiKey,s=e.clientId,o=e.sessionId,a=e.segments,f=e.userId,c=e.version,u=e.quizzesServiceUrl,l={c},d="";if(l.key=n,l.i=s,l.s=o,a&&a.length&&(l.us=a),f&&(l.ui=String(f)),!r||typeof r!="string")throw new Error("quizId is a required parameter of type string");if(i==="results"&&((0,Gr.default)(t.answers)!=="object"||!Array.isArray(t.answers)||t.answers.length===0))throw new Error("answers is a required parameter of type array");if(t){var g=t.section,y=t.answers,h=t.quizSessionId,p=t.quizVersionId,k=t.page,w=t.resultsPerPage,b=t.filters,O=t.fmtOptions,S=t.hiddenFields;g&&(l.section=g),p&&(l.quiz_version_id=p),h&&(l.quiz_session_id=h),y&&y.length&&(d="&".concat(oe.stringify({a:y.map(function(v){return(0,Jr.default)(v).join(",")})}))),oe.isNil(k)||(l.page=k),oe.isNil(w)||(l.num_results_per_page=w),b&&(l.filters=b),O&&(l.fmt_options=O),S&&(l.fmt_options?l.fmt_options.hidden_fields=S:l.fmt_options={hidden_fields:S})}l._dt=Date.now(),l=oe.cleanParams(l);var R=oe.stringify(l);return"".concat(u,"/v1/quizzes/").concat(encodeURIComponent(r),"/").concat(encodeURIComponent(i),"/?").concat(R).concat(d)}var Hr=function(){function r(t){(0,Mr.default)(this,r),this.options=t||{},this.eventDispatcher=new Kr(t.eventDispatcher)}return(0,Pr.default)(r,[{key:"getQuizNextQuestion",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f=new AbortController,c=f.signal;try{o=it(e,i,this.options,"next")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(o,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return n.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",u),u;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f=new AbortController,c=f.signal;try{o=it(e,i,this.options,"results")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(o,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return n.eventDispatcher.queue("quizzes.getQuizResults.completed",u),u;throw new Error("getQuizResults response data is malformed")})}},{key:"getQuizResultsConfig",value:function(e,i){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,f=new AbortController,c=f.signal;try{o=it(e,i,this.options,"results_config")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(o,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return n.eventDispatcher.queue("quizzes.getQuizResultsConfig.completed",u),u;throw new Error("getQuizResultsConfig response data is malformed")})}}]),r}();ci.exports=Hr});var vi=N((Gn,ze)=>{E();"use strict";var rt=Y(),Wr=rt(te()),Vr=rt(ie()),Qr=rt(Ie()),Fe=$(),Xr=Fe.cleanParams,Yr=Fe.trimNonBreakingSpaces,Zr=Fe.encodeURIComponentRFC3986,$r=Fe.stringify;function li(r,t,e){var i=e.apiKey,n=e.version,s=e.sessionId,o=e.clientId,a=e.userId,f=e.segments,c=e.testCells,u=e.assistantServiceUrl,l={c:n};if(l.key=i,l.i=o,l.s=s,!r||typeof r!="string")throw new Error("intent is a required parameter of type string");if(!t.domain||typeof t.domain!="string")throw new Error("parameters.domain is a required parameter of type string");if(c&&Object.keys(c).forEach(function(p){l["ef-".concat(p)]=c[p]}),f&&f.length&&(l.us=f),a&&(l.ui=String(a)),t){var d=t.domain,g=t.numResultsPerPage;d&&(l.domain=d),g&&(l.num_results_per_page=g)}l._dt=Date.now(),l=Xr(l);var y=$r(l),h=r.replace(/^\//,"|");return"".concat(u,"/v1/intent/").concat(Zr(Yr(h)),"?").concat(y)}function fi(r,t,e){var i=function(s){r.addEventListener(s,function(o){var a=JSON.parse(o.data);t.enqueue({type:s,data:a})})};Object.values(e).forEach(function(n){n!==e.END&&i(n)}),r.addEventListener(e.END,function(){t.close(),r.close()}),r.onerror=function(n){t.error(n),r.close()}}var di=function(){function r(t){(0,Wr.default)(this,r),this.options=t||{}}return(0,Vr.default)(r,[{key:"getAssistantResultsStream",value:function(e,i){var n,s;try{var o=li(e,i,this.options);n=new EventSource(o),s=new ReadableStream({start:function(u){fi(n,u,r.EventTypes)},cancel:function(){n.close()}})}catch(c){if(s){var a;(a=s)===null||a===void 0||a.cancel()}else{var f;(f=n)===null||f===void 0||f.close()}throw new Error(c.message)}return s}}]),r}();(0,Qr.default)(di,"EventTypes",{START:"start",GROUP:"group",SEARCH_RESULT:"search_result",ARTICLE_REFERENCE:"article_reference",RECIPE_INFO:"recipe_info",RECIPE_INSTRUCTIONS:"recipe_instructions",SERVER_ERROR:"server_error",IMAGE_META:"image_meta",END:"end"});ze.exports=di;ze.exports.createAssistantUrl=li;ze.exports.setupEventListeners=fi});var hn=N((Kn,_i)=>{E();"use strict";var hi=Y(),en=hi(te()),tn=hi(ie()),rn=ct(),nn=bt(),on=mt(),sn=Ct(),un=Ot(),gi=ei(),cn=ue(),Ce=$(),an=ti(),ln=an.default,fn=ai(),dn=vi(),vn=function(){var t="ciojs-client-",e=[];return Ce.canUseDOM()||e.push("domless"),typeof U!="undefined"&&typeof U.env!="undefined"&&U.env.BUNDLED&&e.push("bundled"),"".concat(t).concat(e.join("-")).concat(e.length?"-":"").concat(ln)},nt=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,en.default)(this,r);var e=t.apiKey,i=t.version,n=t.serviceUrl,s=t.quizzesServiceUrl,o=t.assistantServiceUrl,a=t.segments,f=t.testCells,c=t.clientId,u=t.sessionId,l=t.userId,d=t.fetch,g=t.trackingSendDelay,y=t.sendReferrerWithTrackingEvents,h=t.sendTrackingEvents,p=t.eventDispatcher,k=t.idOptions,w=t.beaconMode,b=t.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var O,S,R=typeof window!="undefined"&&window.CLIENT_VERSION;if(Ce.canUseDOM()){var v=new rn(k||{});O=v.session_id,S=v.client_id}else{if(!u||typeof u!="number")throw new Error("sessionId is a required user parameter of type number");if(!c||typeof c!="string")throw new Error("clientId is a required user parameter of type string")}var A=n&&n.replace(/\/$/,"");this.options={apiKey:e,version:i||R||vn(),serviceUrl:Ce.addHTTPSToString(A)||"https://ac.cnstrc.com",quizzesServiceUrl:s&&s.replace(/\/$/,"")||"https://quizzes.cnstrc.com",assistantServiceUrl:o&&o.replace(/\/$/,"")||"https://assistant.cnstrc.com",sessionId:u||O,clientId:c||S,userId:l,segments:a,testCells:f,fetch:d||fetch,trackingSendDelay:g,sendTrackingEvents:h,sendReferrerWithTrackingEvents:y,eventDispatcher:p,beaconMode:w!==!1,networkParameters:b||{}},this.search=new nn(this.options),this.browse=new on(this.options),this.autocomplete=new sn(this.options),this.recommendations=new un(this.options),this.tracker=new gi(this.options),this.quizzes=new fn(this.options),this.assistant=new dn(this.options),new cn(t.eventDispatcher).queue("instantiated",this.options)}return(0,tn.default)(r,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var i=e.apiKey,n=e.segments,s=e.testCells,o=e.sessionId,a=e.userId;i&&(this.options.apiKey=i),n&&(this.options.segments=n),s&&(this.options.testCells=s),o&&!Ce.canUseDOM()&&(this.options.sessionId=o),"userId"in e&&(this.options.userId=a)}}}]),r}();nt.Tracker=gi;Ce.canUseDOM()&&(window.ConstructorioClient=nt);_i.exports=nt});hn();})();
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */

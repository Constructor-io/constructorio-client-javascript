/*!
 *
 * Constructor.io JavaScript Client, version 2.34.8
 * (c) 2015-2023 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 *
 */
(()=>{var Qe=typeof require!="undefined"?require:n=>{throw new Error('Dynamic require of "'+n+'" is not supported')};var ur=(n,t)=>()=>(n&&(t=n(n=0)),t);var T=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var cr,R,y=ur(()=>{cr={BUNDLED:"true"},R={env:cr}});var K=T((Vi,se)=>{y();function lr(n){return n&&n.__esModule?n:{default:n}}se.exports=lr,se.exports.__esModule=!0,se.exports.default=se.exports});var V=T((Qi,oe)=>{y();function fr(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}oe.exports=fr,oe.exports.__esModule=!0,oe.exports.default=oe.exports});var Q=T((Xi,ae)=>{y();function $e(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function hr(n,t,e){return t&&$e(n.prototype,t),e&&$e(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}ae.exports=hr,ae.exports.__esModule=!0,ae.exports.default=ae.exports});var Ye=T(($i,xe)=>{y();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){"use strict";if(t==null)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null){i=Object(i);for(var o=Object.keys(Object(i)),s=0,l=o.length;l>s;s++){var u=o[s],c=Object.getOwnPropertyDescriptor(i,u);c!==void 0&&c.enumerable&&(e[u]=i[u])}}}return e}});var n=function(t){var e={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,e,t),!this.client_id)if(!this.on_node&&this.persist){var r;this.client_id_storage_location==="cookie"&&(r=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(r=this.get_local_object(this.local_name_client_id)),this.client_id=r||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};n.prototype.set_cookie=function(t,e){if(!this.on_node&&this.persist){var r=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),i=t+"="+e+"; expires="+r.toUTCString()+"; path=/";return this.cookie_domain&&(i+="; domain="+this.cookie_domain),document.cookie=i,i}return null},n.prototype.get_cookie=function(t){for(var e=t+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){var o=r[i];try{for(var s=decodeURIComponent(o);s.charAt(0)===" ";)s=s.substring(1);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}catch(l){}}},n.prototype.delete_cookie=function(t){document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},n.prototype.generate_client_id=function(){var t;if(!this.on_node){var e=this.get_cookie(this.cookie_name_client_id),r=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&r&&(t=r,this.set_cookie(this.cookie_name_client_id,t),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&e&&(t=e,this.set_local_object(this.local_name_client_id,t),this.delete_cookie(this.cookie_name_client_id))}return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,s=i==="x"?o:o&3|8;return s.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,t),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,t)),t},n.prototype.get_local_object=function(t){var e,r=window&&window.localStorage;if(r&&typeof t=="string")try{e=JSON.parse(r.getItem(t))}catch(i){e=r.getItem(t)}return e},n.prototype.set_local_object=function(t,e){var r=window&&window.localStorage;if(r&&typeof t=="string"){if(typeof e=="object")try{r.setItem(t,JSON.stringify(e))}catch(i){}if(typeof e=="string"||typeof e=="number")try{r.setItem(t,e)}catch(i){}}},n.prototype.delete_local_object=function(t){var e=window&&window.localStorage;if(e&&typeof t=="string")try{e.removeItem(t)}catch(r){}},n.prototype.generate_session_id=function(){var t=this.get_cookie(this.cookie_name_session_data),e=this.get_local_object(this.local_name_session_data),r=Date.now(),i=1e3*60*30,o;if(this.session_id_storage_location==="local"&&(o=this.get_local_object(this.local_name_session_data),!o&&t&&(o=t,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){o=this.get_cookie(this.cookie_name_session_data);try{o=JSON.parse(o)}catch(u){}!o&&e&&(o=e,this.delete_local_object(this.local_name_session_data))}var s=1,l=1;return o&&typeof o=="object"&&(l=parseInt(o.sessionId,10)||1,o.lastTime>r-i?s=l:s=l+1),this.session_id=s,this.session_is_new=!(o&&l===s),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,s),this.set_local_object(this.local_name_session_data,{sessionId:s,lastTime:r})),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,s),this.set_cookie(this.cookie_name_session_data,JSON.stringify({sessionId:s,lastTime:r}))),s},typeof xe!="undefined"&&typeof Qe!="undefined"&&(xe.exports=n)})()});var Ze=T((ue,Te)=>{y();(function(n){"use strict";function t(e){var r=e&&e.Promise||n.Promise,i=e&&e.XMLHttpRequest||n.XMLHttpRequest;return function(){var o=Object.create(n,{fetch:{value:void 0,writable:!0}});return function(s,l){typeof ue=="object"&&typeof Te!="undefined"?l(ue):typeof define=="function"&&define.amd?define(["exports"],l):l(s.WHATWGFetch={})}(this,function(s){"use strict";var l=typeof o!="undefined"&&o||typeof self!="undefined"&&self||typeof l!="undefined"&&l,u={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(h){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function c(h){return h&&DataView.prototype.isPrototypeOf(h)}if(u.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(h){return h&&a.indexOf(Object.prototype.toString.call(h))>-1};function d(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function m(h){return typeof h!="string"&&(h=String(h)),h}function b(h){var v={next:function(){var E=h.shift();return{done:E===void 0,value:E}}};return u.iterable&&(v[Symbol.iterator]=function(){return v}),v}function p(h){this.map={},h instanceof p?h.forEach(function(v,E){this.append(E,v)},this):Array.isArray(h)?h.forEach(function(v){this.append(v[0],v[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(v){this.append(v,h[v])},this)}p.prototype.append=function(h,v){h=d(h),v=m(v);var E=this.map[h];this.map[h]=E?E+", "+v:v},p.prototype.delete=function(h){delete this.map[d(h)]},p.prototype.get=function(h){return h=d(h),this.has(h)?this.map[h]:null},p.prototype.has=function(h){return this.map.hasOwnProperty(d(h))},p.prototype.set=function(h,v){this.map[d(h)]=m(v)},p.prototype.forEach=function(h,v){for(var E in this.map)this.map.hasOwnProperty(E)&&h.call(v,this.map[E],E,this)},p.prototype.keys=function(){var h=[];return this.forEach(function(v,E){h.push(E)}),b(h)},p.prototype.values=function(){var h=[];return this.forEach(function(v){h.push(v)}),b(h)},p.prototype.entries=function(){var h=[];return this.forEach(function(v,E){h.push([E,v])}),b(h)},u.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function w(h){if(h.bodyUsed)return r.reject(new TypeError("Already read"));h.bodyUsed=!0}function A(h){return new r(function(v,E){h.onload=function(){v(h.result)},h.onerror=function(){E(h.error)}})}function k(h){var v=new FileReader,E=A(v);return v.readAsArrayBuffer(h),E}function S(h){var v=new FileReader,E=A(v);return v.readAsText(h),E}function L(h){for(var v=new Uint8Array(h),E=new Array(v.length),I=0;I<v.length;I++)E[I]=String.fromCharCode(v[I]);return E.join("")}function N(h){if(h.slice)return h.slice(0);var v=new Uint8Array(h.byteLength);return v.set(new Uint8Array(h)),v.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:u.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:u.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():u.arrayBuffer&&u.blob&&c(h)?(this._bodyArrayBuffer=N(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||f(h))?this._bodyArrayBuffer=N(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var h=w(this);if(h)return h;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=w(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?r.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):r.resolve(this._bodyArrayBuffer))}else return this.blob().then(k)}),this.text=function(){var h=w(this);if(h)return h;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(h){var v=h.toUpperCase();return g.indexOf(v)>-1?v:h}function _(h,v){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v=v||{};var E=v.body;if(h instanceof _){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,v.headers||(this.headers=new p(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!E&&h._bodyInit!=null&&(E=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new p(v.headers)),this.method=M(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&E)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(E),(this.method==="GET"||this.method==="HEAD")&&(v.cache==="no-store"||v.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var j=/\?/;this.url+=(j.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function O(h){var v=new FormData;return h.trim().split("&").forEach(function(E){if(E){var I=E.split("="),j=I.shift().replace(/\+/g," "),B=I.join("=").replace(/\+/g," ");v.append(decodeURIComponent(j),decodeURIComponent(B))}}),v}function x(h){var v=new p,E=h.replace(/\r?\n[\t ]+/g," ");return E.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var j=I.split(":"),B=j.shift().trim();if(B){var me=j.join(":").trim();v.append(B,me)}}),v}z.call(_.prototype);function C(h,v){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in v?v.statusText:"",this.headers=new p(v.headers),this.url=v.url||"",this._initBody(h)}z.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},C.error=function(){var h=new C(null,{status:0,statusText:""});return h.type="error",h};var ne=[301,302,303,307,308];C.redirect=function(h,v){if(ne.indexOf(v)===-1)throw new RangeError("Invalid status code");return new C(null,{status:v,headers:{location:h}})},s.DOMException=l.DOMException;try{new s.DOMException}catch(h){s.DOMException=function(v,E){this.message=v,this.name=E;var I=Error(v);this.stack=I.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function Re(h,v){return new r(function(E,I){var j=new _(h,v);if(j.signal&&j.signal.aborted)return I(new s.DOMException("Aborted","AbortError"));var B=new i;function me(){B.abort()}B.onload=function(){var J={status:B.status,statusText:B.statusText,headers:x(B.getAllResponseHeaders()||"")};J.url="responseURL"in B?B.responseURL:J.headers.get("X-Request-URL");var _e="response"in B?B.response:B.responseText;setTimeout(function(){E(new C(_e,J))},0)},B.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},B.onabort=function(){setTimeout(function(){I(new s.DOMException("Aborted","AbortError"))},0)};function ar(J){try{return J===""&&l.location.href?l.location.href:J}catch(_e){return J}}B.open(j.method,ar(j.url),!0),j.credentials==="include"?B.withCredentials=!0:j.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(u.blob?B.responseType="blob":u.arrayBuffer&&j.headers.get("Content-Type")&&j.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(B.responseType="arraybuffer")),v&&typeof v.headers=="object"&&!(v.headers instanceof p)?Object.getOwnPropertyNames(v.headers).forEach(function(J){B.setRequestHeader(J,m(v.headers[J]))}):j.headers.forEach(function(J,_e){B.setRequestHeader(_e,J)}),j.signal&&(j.signal.addEventListener("abort",me),B.onreadystatechange=function(){B.readyState===4&&j.signal.removeEventListener("abort",me)}),B.send(typeof j._bodyInit=="undefined"?null:j._bodyInit)})}Re.polyfill=!0,l.fetch||(l.fetch=Re,l.Headers=p,l.Request=_,l.Response=C),s.Headers=p,s.Request=_,s.Response=C,s.fetch=Re,Object.defineProperty(s,"__esModule",{value:!0})}),{fetch:o.fetch,Headers:o.Headers,Request:o.Request,Response:o.Response,DOMException:o.DOMException}}()}typeof define=="function"&&define.amd?define(function(){return t}):typeof ue=="object"?Te.exports=t:n.fetchPonyfill=t})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:ue)});var ye=T((Yi,Y)=>{y();function Be(n){return Y.exports=Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y.exports.__esModule=!0,Y.exports.default=Y.exports,Be(n)}Y.exports=Be,Y.exports.__esModule=!0,Y.exports.default=Y.exports});var tt=T(De=>{y();var et;(function(n){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof De=="object"?n(De):typeof define=="function"&&define.amd?define(function(){var t={};return n(t),t}):n(et={}):n(et={})})(function(n){n.version="1.2.2";function t(){for(var g=0,M=new Array(256),_=0;_!=256;++_)g=_,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,M[_]=g;return typeof Int32Array!="undefined"?new Int32Array(M):M}var e=t();function r(g){var M=0,_=0,O=0,x=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)x[O]=g[O];for(O=0;O!=256;++O)for(_=g[O],M=256+O;M<4096;M+=256)_=x[M]=_>>>8^g[_&255];var C=[];for(O=1;O!=16;++O)C[O-1]=typeof Int32Array!="undefined"?x.subarray(O*256,O*256+256):x.slice(O*256,O*256+256);return C}var i=r(e),o=i[0],s=i[1],l=i[2],u=i[3],c=i[4],a=i[5],f=i[6],d=i[7],m=i[8],b=i[9],p=i[10],w=i[11],A=i[12],k=i[13],S=i[14];function L(g,M){for(var _=M^-1,O=0,x=g.length;O<x;)_=_>>>8^e[(_^g.charCodeAt(O++))&255];return~_}function N(g,M){for(var _=M^-1,O=g.length-15,x=0;x<O;)_=S[g[x++]^_&255]^k[g[x++]^_>>8&255]^A[g[x++]^_>>16&255]^w[g[x++]^_>>>24]^p[g[x++]]^b[g[x++]]^m[g[x++]]^d[g[x++]]^f[g[x++]]^a[g[x++]]^c[g[x++]]^u[g[x++]]^l[g[x++]]^s[g[x++]]^o[g[x++]]^e[g[x++]];for(O+=15;x<O;)_=_>>>8^e[(_^g[x++])&255];return~_}function z(g,M){for(var _=M^-1,O=0,x=g.length,C=0,ne=0;O<x;)C=g.charCodeAt(O++),C<128?_=_>>>8^e[(_^C)&255]:C<2048?(_=_>>>8^e[(_^(192|C>>6&31))&255],_=_>>>8^e[(_^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,ne=g.charCodeAt(O++)&1023,_=_>>>8^e[(_^(240|C>>8&7))&255],_=_>>>8^e[(_^(128|C>>2&63))&255],_=_>>>8^e[(_^(128|ne>>6&15|(C&3)<<4))&255],_=_>>>8^e[(_^(128|ne&63))&255]):(_=_>>>8^e[(_^(224|C>>12&15))&255],_=_>>>8^e[(_^(128|C>>6&63))&255],_=_>>>8^e[(_^(128|C&63))&255]);return~_}n.table=e,n.bstr=L,n.buf=N,n.str=z})});var rt=T((be,we)=>{y();(function(n,t){var e={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(i,o){for(var s in i)o.hasOwnProperty(s)||Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(i,s));return o},stringify:function(i,o){return i===void 0||typeof i=="function"?i+"":JSON.stringify(i,o||e.replace)},parse:function(i,o){try{return JSON.parse(i,o||e.revive)}catch(s){return i}},fn:function(i,o){e.storeAPI[i]=o;for(var s in e.apis)e.apis[s][i]=o},get:function(i,o){return i.getItem(o)},set:function(i,o,s){i.setItem(o,s)},remove:function(i,o){i.removeItem(o)},key:function(i,o){return i.key(o)},length:function(i){return i.length},clear:function(i){i.clear()},Store:function(i,o,s){var l=e.inherit(e.storeAPI,function(c,a,f){return arguments.length===0?l.getAll():typeof a=="function"?l.transact(c,a,f):a!==void 0?l.set(c,a,f):typeof c=="string"||typeof c=="number"?l.get(c):typeof c=="function"?l.each(c):c?l.setAll(c,a):l.clear()});l._id=i;try{var u="__store2_test";o.setItem(u,"ok"),l._area=o,o.removeItem(u)}catch(c){l._area=e.storage("fake")}return l._ns=s||"",e.areas[i]||(e.areas[i]=l._area),e.apis[l._ns+l._id]||(e.apis[l._ns+l._id]=l),l},storeAPI:{area:function(i,o){var s=this[i];return(!s||!s.area)&&(s=e.Store(i,o,this._ns),this[i]||(this[i]=s)),s},namespace:function(i,o,s){if(s=s||this._delim||e.nsdelim,!i)return this._ns?this._ns.substring(0,this._ns.length-s.length):"";var l=i,u=this[l];if((!u||!u.namespace)&&(u=e.Store(this._id,this._area,this._ns+l+s),u._delim=s,this[l]||(this[l]=u),!o))for(var c in e.areas)u.area(c,e.areas[c]);return u},isFake:function(i){return i?(this._real=this._area,this._area=e.storage("fake")):i===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(i){return this._area.has?this._area.has(this._in(i)):this._in(i)in this._area},size:function(){return this.keys().length},each:function(i,o){for(var s=0,l=e.length(this._area);s<l;s++){var u=this._out(e.key(this._area,s));if(u!==void 0&&i.call(this,u,this.get(u),o)===!1)break;l>e.length(this._area)&&(l--,s--)}return o||this},keys:function(i){return this.each(function(o,s,l){l.push(o)},i||[])},get:function(i,o){var s=e.get(this._area,this._in(i)),l;return typeof o=="function"&&(l=o,o=null),s!==null?e.parse(s,l):o??s},getAll:function(i){return this.each(function(o,s,l){l[o]=s},i||{})},transact:function(i,o,s){var l=this.get(i,s),u=o(l);return this.set(i,u===void 0?l:u),this},set:function(i,o,s){var l=this.get(i),u;return l!=null&&s===!1?o:(typeof s=="function"&&(u=s,s=void 0),e.set(this._area,this._in(i),e.stringify(o,u),s)||l)},setAll:function(i,o){var s,l;for(var u in i)l=i[u],this.set(u,l,o)!==l&&(s=!0);return s},add:function(i,o,s){var l=this.get(i);if(l instanceof Array)o=l.concat(o);else if(l!==null){var u=typeof l;if(u===typeof o&&u==="object"){for(var c in o)l[c]=o[c];o=l}else o=l+o}return e.set(this._area,this._in(i),e.stringify(o,s)),o},remove:function(i,o){var s=this.get(i,o);return e.remove(this._area,this._in(i)),s},clear:function(){return this._ns?this.each(function(i){e.remove(this._area,this._in(i))},1):e.clear(this._area),this},clearAll:function(){var i=this._area;for(var o in e.areas)e.areas.hasOwnProperty(o)&&(this._area=e.areas[o],this.clear());return this._area=i,this},_in:function(i){return typeof i!="string"&&(i=e.stringify(i)),this._ns?this._ns+i:i},_out:function(i){return this._ns?i&&i.indexOf(this._ns)===0?i.substring(this._ns.length):void 0:i}},storage:function(i){return e.inherit(e.storageAPI,{items:{},name:i})},storageAPI:{length:0,has:function(i){return this.items.hasOwnProperty(i)},key:function(i){var o=0;for(var s in this.items)if(this.has(s)&&i===o++)return s},setItem:function(i,o){this.has(i)||this.length++,this.items[i]=o},removeItem:function(i){this.has(i)&&(delete this.items[i],this.length--)},getItem:function(i){return this.has(i)?this.items[i]:null},clear:function(){for(var i in this.items)this.removeItem(i)}}},r=e.Store("local",function(){try{return localStorage}catch(i){}}());r.local=r,r._=e,r.area("session",function(){try{return sessionStorage}catch(i){}}()),r.area("page",e.storage("page")),typeof t=="function"&&t.amd!==void 0?t("store2",[],function(){return r}):typeof we!="undefined"&&we.exports?we.exports=r:(n.store&&(e.conflict=n.store),n.store=r)})(be,be&&be.define)});var nt=T((en,it)=>{y();"use strict";it.exports=function(n,t){var e=t.set,r=t.get,i=t.remove,o=t.key,s=t.length,l=t.clear;t.overflow=function(u,c){var a=u===t.areas.local?"+local+":u===t.areas.session?"+session+":!1;if(a){var f=t.areas[a];return c&&!f?f=n.area(a)._area:c===!1&&(delete t.areas[a],delete n[a]),f}},t.set=function(u,c,a){try{e.apply(this,arguments)}catch(f){if(f.name==="QUOTA_EXCEEDED_ERR"||f.name==="NS_ERROR_DOM_QUOTA_REACHED"||f.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||f.toString().indexOf("QuotaExceededError")!==-1)return t.set(t.overflow(u,!0),c,a);throw f}},t.get=function(u,c){var a=t.overflow(u);return a&&r.call(this,a,c)||r.apply(this,arguments)},t.remove=function(u,c){var a=t.overflow(u);a&&i.call(this,a,c),i.apply(this,arguments)},t.key=function(u,c){var a=t.overflow(u);if(a){var f=s.call(this,u);if(c>=f){c=c-f;for(var d=0,m=s.call(this,a);d<m;d++)if(d===c)return o.call(this,a,d)}}return o.apply(this,arguments)},t.length=function(u){var c=s(u),a=t.overflow(u);return a?c+s(a):c},t.clear=function(u){t.overflow(u,!1),l.apply(this,arguments)}}});var ke=T((tn,st)=>{y();"use strict";var Ie=rt(),dr=nt();dr(Ie,Ie._);st.exports=Ie});var X=T((rn,at)=>{y();"use strict";var pr=K(),vr=pr(ye()),ot=tt(),Ne=ke(),Ue="_constructorio_purchase_order_ids",G={trimNonBreakingSpaces:function(t){return t.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(t){var e={};return Object.keys(t).forEach(function(r){var i=t[r];typeof i=="string"?e[r]=G.trimNonBreakingSpaces(i):e[r]=i}),e},throwHttpErrorFromResponse:function(t,e){return e.json().then(function(r){throw t.message=r.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,t.headers=e.headers,t})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(t,e,r){G.canUseDOM()&&window.addEventListener(t,e,r)},removeEventListener:function(t,e,r){G.canUseDOM()&&window.removeEventListener(t,e,r)},getNavigator:function(){return G.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(t){return t==null},getWindowLocation:function(){return G.canUseDOM()?window.location:{}},dispatchEvent:function(t){G.canUseDOM()&&window.dispatchEvent(t)},createCustomEvent:function(t,e){if(G.canUseDOM())try{return new window.CustomEvent(t,{detail:e})}catch(i){var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!1,e),r}return null},hasOrderIdRecord:function(t){var e=ot.str(t.toString()),r=Ne.local.get(Ue);return typeof r=="string"&&(r=JSON.parse(r)),r&&r.includes(e)?!0:null},addOrderIdRecord:function(t){var e=ot.str(t.toString()),r=Ne.local.get(Ue);if(typeof r=="string"&&(r=JSON.parse(r)),r){if(r.includes(e))return;r.length>=10&&(r=r.slice(-9)),r.push(e)}else r=[e];Ne.local.set(Ue,r)},applyNetworkTimeout:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=t&&t.networkParameters&&t.networkParameters.timeout,o=e&&e.timeout,s=o||i;typeof s=="number"&&r&&setTimeout(function(){return r.abort()},s)},stringify:function(t,e,r){if(!t)return"";var i=[];return Object.keys(t).forEach(function(o){var s=t[o],l=G.encodeURIComponentRFC3986(o),u;if(s!=null){var c=e?"".concat(e,"%5B").concat(l,"%5D"):l;Array.isArray(s)?u=G.stringify(s,c,"array"):(0,vr.default)(s)==="object"?u=G.stringify(s,c,"object"):r==="object"?u="".concat(c,"=").concat(G.encodeURIComponentRFC3986(s)):u="".concat(e||l,"=").concat(G.encodeURIComponentRFC3986(s)),i.push(u)}}),i.join("&")}};at.exports=G});var Z=T((nn,ct)=>{y();"use strict";var ut=K(),gr=ut(V()),mr=ut(Q()),qe=X(),_r=function(){function n(t){var e=this;(0,gr.default)(this,n),this.events=[],this.enabled=!(t&&t.enabled===!1),this.waitForBeacon=!(t&&t.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,qe.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),qe.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,mr.default)(n,[{key:"queue",value:function(e,r){this.events.push({name:e,data:r}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),r=e.name,i=e.data,o="cio.client.".concat(r);qe.dispatchEvent(qe.createCustomEvent(o,i))}}}]),n}();ct.exports=_r});var dt=T((sn,ht)=>{y();"use strict";var lt=K(),yr=lt(V()),br=lt(Q()),wr=Z(),$=X();function ft(n,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e.apiKey,o=e.version,s=e.serviceUrl,l=e.sessionId,u=e.clientId,c=e.userId,a=e.segments,f=e.testCells,d={c:o};if(d.key=i,d.i=u,d.s=l,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(f&&Object.keys(f).forEach(function(C){d["ef-".concat(C)]=f[C]}),a&&a.length&&(d.us=a),c&&(d.ui=c),t){var m=t.offset,b=t.page,p=t.resultsPerPage,w=t.filters,A=t.sortBy,k=t.sortOrder,S=t.section,L=t.fmtOptions,N=t.hiddenFields,z=t.hiddenFacets,g=t.variationsMap,M=t.qsParam,_=t.preFilterExpression;$.isNil(m)||(d.offset=m),$.isNil(b)||(d.page=b),$.isNil(p)||(d.num_results_per_page=p),w&&(d.filters=w),A&&(d.sort_by=A),k&&(d.sort_order=k),S&&(d.section=S),L&&(d.fmt_options=L),N&&(d.fmt_options?d.fmt_options.hidden_fields=N:d.fmt_options={hidden_fields:N}),z&&(d.fmt_options?d.fmt_options.hidden_facets=z:d.fmt_options={hidden_facets:z}),g&&(d.variations_map=JSON.stringify(g)),_&&(d.pre_filter_expression=JSON.stringify(_)),M&&(d.qs=JSON.stringify(M))}d._dt=Date.now(),d=$.cleanParams(d);var O=$.stringify(d),x=r?"search/natural_language":"search";return"".concat(s,"/").concat(x,"/").concat($.encodeURIComponentRFC3986($.trimNonBreakingSpaces(n)),"?").concat(O)}var kr=function(){function n(t){(0,yr.default)(this,n),this.options=t||{},this.eventDispatcher=new wr(t.eventDispatcher)}return(0,br.default)(n,[{key:"getSearchResults",value:function(e,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,$.applyNetworkTimeout(this.options,o,c)}try{s=ft(e,r,this.options)}catch(a){return Promise.reject(a)}return l(s,{signal:u}).then(function(a){return a.ok?a.json():$.throwHttpErrorFromResponse(new Error,a)}).then(function(a){if(a.response&&a.response.results)return a.result_id&&a.response.results.forEach(function(f){f.result_id=a.result_id}),i.eventDispatcher.queue("search.getSearchResults.completed",a),a;if(a.response&&a.response.redirect)return i.eventDispatcher.queue("search.getSearchResults.completed",a),a;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,$.applyNetworkTimeout(this.options,o,c)}try{var a=!0;s=ft(e,r,this.options,a)}catch(f){return Promise.reject(f)}return l(s,{signal:u}).then(function(f){return f.ok?f.json():$.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(d){d.result_id=f.result_id}),i.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;if(f.response&&f.response.redirect)return i.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;throw new Error("getVoiceSearchResults response data is malformed")})}}]),n}();ht.exports=kr});var Le=T((on,ce)=>{y();function qr(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}ce.exports=qr,ce.exports.__esModule=!0,ce.exports.default=ce.exports});var gt=T((an,vt)=>{y();"use strict";var Fe=K(),Er=Fe(V()),Ar=Fe(Q()),Cr=Fe(Le());function pt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ee(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pt(Object(e),!0).forEach(function(r){(0,Cr.default)(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var Sr=Z(),U=X();function le(n,t){var e=t.apiKey,r=t.version,i=t.sessionId,o=t.clientId,s=t.userId,l=t.segments,u=t.testCells,c={c:r};if(c.key=e,c.i=o,c.s=i,u&&Object.keys(u).forEach(function(g){c["ef-".concat(g)]=u[g]}),l&&l.length&&(c.us=l),s&&(c.ui=s),n){var a=n.page,f=n.offset,d=n.resultsPerPage,m=n.filters,b=n.sortBy,p=n.sortOrder,w=n.section,A=n.fmtOptions,k=n.hiddenFields,S=n.hiddenFacets,L=n.variationsMap,N=n.qsParam,z=n.preFilterExpression;U.isNil(a)||(c.page=a),U.isNil(f)||(c.offset=f),U.isNil(d)||(c.num_results_per_page=d),m&&(c.filters=m),b&&(c.sort_by=b),p&&(c.sort_order=p),w&&(c.section=w),A&&(c.fmt_options=A),k&&(c.fmt_options?c.fmt_options.hidden_fields=k:c.fmt_options={hidden_fields:k}),S&&(c.fmt_options?c.fmt_options.hidden_facets=S:c.fmt_options={hidden_facets:S}),L&&(c.variations_map=JSON.stringify(L)),z&&(c.pre_filter_expression=JSON.stringify(z)),N&&(c.qs=JSON.stringify(N))}return c._dt=Date.now(),c=U.cleanParams(c),c}function Or(n,t,e,r){var i=r.serviceUrl;if(!n||typeof n!="string")throw new Error("filterName is a required parameter of type string");if(!t||typeof t!="string")throw new Error("filterValue is a required parameter of type string");var o=le(e,r),s=U.stringify(o);return"".concat(i,"/browse/").concat(U.encodeURIComponentRFC3986(U.trimNonBreakingSpaces(n)),"/").concat(U.encodeURIComponentRFC3986(U.trimNonBreakingSpaces(t)),"?").concat(s)}function Rr(n,t,e){var r=e.serviceUrl;if(!n||!Array.isArray(n)||!n.length)throw new Error("ids is a required parameter of type array");var i=Ee(Ee({},le(t,e)),{},{ids:n}),o=U.stringify(i);return"".concat(r,"/browse/items?").concat(o)}function xr(n,t){var e=t.serviceUrl,r=Ee({},le(n,t));delete r._dt;var i=U.stringify(r);return"".concat(e,"/browse/facets?").concat(i)}function Tr(n,t,e){var r=e.serviceUrl;if(!n||typeof n!="string")throw new Error("facetName is a required parameter of type string");var i=Ee({},le(t,e));i.facet_name=n,delete i._dt;var o=U.stringify(i);return"".concat(r,"/browse/facet_options?").concat(o)}var Br=function(){function n(t){(0,Er.default)(this,n),this.options=t||{},this.eventDispatcher=new Sr(t.eventDispatcher)}return(0,Ar.default)(n,[{key:"getBrowseResults",value:function(e,r,i){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l,u=this.options.fetch,c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,U.applyNetworkTimeout(this.options,s,a)}try{l=Or(e,r,i,this.options)}catch(f){return Promise.reject(f)}return u(l,{signal:c}).then(function(f){return f.ok?f.json():U.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(d){d.result_id=f.result_id}),o.eventDispatcher.queue("browse.getBrowseResults.completed",f),f;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,U.applyNetworkTimeout(this.options,o,c)}try{s=Rr(e,r,this.options)}catch(a){return Promise.reject(a)}return l(s,{signal:u}).then(function(a){return a.ok?a.json():U.throwHttpErrorFromResponse(new Error,a)}).then(function(a){if(a.response&&a.response.results)return a.result_id&&a.response.results.forEach(function(f){f.result_id=a.result_id}),i.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",a),a;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.options.fetch,s=this.options.serviceUrl,l=le(e,this.options),u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,U.applyNetworkTimeout(this.options,i,c)}delete l._dt;var a=U.stringify(l),f="".concat(s,"/browse/groups?").concat(a);return o(f,{signal:u}).then(function(d){return d.ok?d.json():U.throwHttpErrorFromResponse(new Error,d)}).then(function(d){if(d.response&&d.response.groups)return r.eventDispatcher.queue("browse.getBrowseGroups.completed",d),d;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,r){var i=this,o,s=this.options.fetch,l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,U.applyNetworkTimeout(this.options,r,u)}try{o=xr(e,this.options)}catch(c){return Promise.reject(c)}return s(o,{signal:l}).then(function(c){return c.ok?c.json():U.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.response&&c.response.facets)return i.eventDispatcher.queue("browse.getBrowseFacets.completed",c),c;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,U.applyNetworkTimeout(this.options,o,c)}try{s=Tr(e,i,this.options)}catch(a){return Promise.reject(a)}return l(s,{signal:u}).then(function(a){return a.ok?a.json():U.throwHttpErrorFromResponse(new Error,a)}).then(function(a){if(a.response&&a.response.facets)return r.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",a),a;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),n}();vt.exports=Br});var yt=T((un,_t)=>{y();"use strict";var mt=K(),Dr=mt(V()),Ir=mt(Q()),Nr=Z(),re=X(),Ur=re.throwHttpErrorFromResponse,Lr=re.cleanParams,Fr=re.applyNetworkTimeout,jr=re.trimNonBreakingSpaces,Mr=re.encodeURIComponentRFC3986,zr=re.stringify;function Pr(n,t,e){var r=e.apiKey,i=e.version,o=e.serviceUrl,s=e.sessionId,l=e.clientId,u=e.userId,c=e.segments,a=e.testCells,f={c:i};if(f.key=r,f.i=l,f.s=s,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(a&&Object.keys(a).forEach(function(S){f["ef-".concat(S)]=a[S]}),c&&c.length&&(f.us=c),u&&(f.ui=u),t){var d=t.numResults,m=t.resultsPerSection,b=t.filters,p=t.hiddenFields,w=t.variationsMap;d&&(f.num_results=d),m&&Object.keys(m).forEach(function(S){f["num_results_".concat(S)]=m[S]}),b&&(f.filters=b),p&&(f.fmt_options?f.fmt_options.hidden_fields=p:f.fmt_options={hidden_fields:p}),w&&(f.variations_map=JSON.stringify(w))}f._dt=Date.now(),f=Lr(f);var A=zr(f),k=n.replace(/^\//,"|");return"".concat(o,"/autocomplete/").concat(Mr(jr(k)),"?").concat(A)}var Hr=function(){function n(t){(0,Dr.default)(this,n),this.options=t||{},this.eventDispatcher=new Nr(t.eventDispatcher)}return(0,Ir.default)(n,[{key:"getAutocompleteResults",value:function(e,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,Fr(this.options,o,c)}try{s=Pr(e,r,this.options)}catch(a){return Promise.reject(a)}return l(s,{signal:u}).then(function(a){return a.ok?a.json():Ur(new Error,a)}).then(function(a){if(a.sections){if(a.result_id){var f=Object.keys(a.sections);f.forEach(function(d){var m=a.sections[d];m.length&&m.forEach(function(b){b.result_id=a.result_id})})}return i.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",a),a}throw new Error("getAutocompleteResults response data is malformed")})}}]),n}();_t.exports=Hr});var kt=T((cn,wt)=>{y();"use strict";var bt=K(),Gr=bt(V()),Jr=bt(Q()),Kr=Z(),ee=X();function Wr(n,t,e){var r=e.apiKey,i=e.version,o=e.serviceUrl,s=e.sessionId,l=e.userId,u=e.clientId,c=e.segments,a={c:i};if(a.key=r,a.i=u,a.s=s,!n||typeof n!="string")throw new Error("podId is a required parameter of type string");if(c&&c.length&&(a.us=c),l&&(a.ui=l),t){var f=t.numResults,d=t.itemIds,m=t.section,b=t.term,p=t.filters,w=t.variationsMap;ee.isNil(f)||(a.num_results=f),d&&(a.item_id=d),m&&(a.section=m),b&&(a.term=b),p&&(a.filters=p),w&&(a.variations_map=JSON.stringify(w))}a=ee.cleanParams(a);var A=ee.stringify(a);return"".concat(o,"/recommendations/v1/pods/").concat(ee.encodeURIComponentRFC3986(ee.trimNonBreakingSpaces(n)),"?").concat(A)}var Vr=function(){function n(t){(0,Gr.default)(this,n),this.options=t||{},this.eventDispatcher=new Kr(t.eventDispatcher)}return(0,Jr.default)(n,[{key:"getRecommendations",value:function(e,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u;if(typeof AbortController=="function"){var c=new AbortController;u=c&&c.signal,ee.applyNetworkTimeout(this.options,o,c)}try{s=Wr(e,r,this.options)}catch(a){return Promise.reject(a)}return l(s,{signal:u}).then(function(a){return a.ok?a.json():ee.throwHttpErrorFromResponse(new Error,a)}).then(function(a){if(a.response&&a.response.results)return a.result_id&&a.response.results.forEach(function(f){f.result_id=a.result_id}),i.eventDispatcher.queue("recommendations.getRecommendations.completed",a),a;throw new Error("getRecommendations response data is malformed")})}}]),n}();wt.exports=Vr});var Dt=T((ln,je)=>{y();"use strict";var ie=typeof Reflect=="object"?Reflect:null,qt=ie&&typeof ie.apply=="function"?ie.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},Ae;ie&&typeof ie.ownKeys=="function"?Ae=ie.ownKeys:Object.getOwnPropertySymbols?Ae=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ae=function(t){return Object.getOwnPropertyNames(t)};function Qr(n){console&&console.warn&&console.warn(n)}var Et=Number.isNaN||function(t){return t!==t};function D(){D.init.call(this)}je.exports=D;je.exports.once=Zr;D.EventEmitter=D;D.prototype._events=void 0;D.prototype._eventsCount=0;D.prototype._maxListeners=void 0;var At=10;function Ce(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(D,"defaultMaxListeners",{enumerable:!0,get:function(){return At},set:function(n){if(typeof n!="number"||n<0||Et(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");At=n}});D.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};D.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Et(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ct(n){return n._maxListeners===void 0?D.defaultMaxListeners:n._maxListeners}D.prototype.getMaxListeners=function(){return Ct(this)};D.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var u=o[t];if(u===void 0)return!1;if(typeof u=="function")qt(u,this,e);else for(var c=u.length,a=Tt(u,c),r=0;r<c;++r)qt(a[r],this,e);return!0};function St(n,t,e,r){var i,o,s;if(Ce(e),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",t,e.listener?e.listener:e),o=n._events),s=o[t]),s===void 0)s=o[t]=e,++n._eventsCount;else if(typeof s=="function"?s=o[t]=r?[e,s]:[s,e]:r?s.unshift(e):s.push(e),i=Ct(n),i>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=n,l.type=t,l.count=s.length,Qr(l)}return n}D.prototype.addListener=function(t,e){return St(this,t,e,!1)};D.prototype.on=D.prototype.addListener;D.prototype.prependListener=function(t,e){return St(this,t,e,!0)};function Xr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ot(n,t,e){var r={fired:!1,wrapFn:void 0,target:n,type:t,listener:e},i=Xr.bind(r);return i.listener=e,r.wrapFn=i,i}D.prototype.once=function(t,e){return Ce(e),this.on(t,Ot(this,t,e)),this};D.prototype.prependOnceListener=function(t,e){return Ce(e),this.prependListener(t,Ot(this,t,e)),this};D.prototype.removeListener=function(t,e){var r,i,o,s,l;if(Ce(e),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){l=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():$r(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||e)}return this};D.prototype.off=D.prototype.removeListener;D.prototype.removeAllListeners=function(t){var e,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this};function Rt(n,t,e){var r=n._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?Yr(i):Tt(i,i.length)}D.prototype.listeners=function(t){return Rt(this,t,!0)};D.prototype.rawListeners=function(t){return Rt(this,t,!1)};D.listenerCount=function(n,t){return typeof n.listenerCount=="function"?n.listenerCount(t):xt.call(n,t)};D.prototype.listenerCount=xt;function xt(n){var t=this._events;if(t!==void 0){var e=t[n];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}D.prototype.eventNames=function(){return this._eventsCount>0?Ae(this._events):[]};function Tt(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n[r];return e}function $r(n,t){for(;t+1<n.length;t++)n[t]=n[t+1];n.pop()}function Yr(n){for(var t=new Array(n.length),e=0;e<t.length;++e)t[e]=n[e].listener||n[e];return t}function Zr(n,t){return new Promise(function(e,r){function i(s){n.removeListener(t,o),r(s)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",i),e([].slice.call(arguments))}Bt(n,t,o,{once:!0}),t!=="error"&&ei(n,i,{once:!0})})}function ei(n,t,e){typeof n.on=="function"&&Bt(n,"error",t,e)}function Bt(n,t,e,r){if(typeof n.on=="function")r.once?n.once(t,e):n.on(t,e);else if(typeof n.addEventListener=="function")n.addEventListener(t,function i(o){r.once&&n.removeEventListener(t,i),e(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}});var Nt=T((fn,It)=>{y();"use strict";It.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot"]});var jt=T((hn,Ft)=>{y();"use strict";var Ut=K(),ti=Ut(V()),ri=Ut(Q()),Me=ke(),ii=Nt(),ze=X(),Pe="_constructorio_is_human",Lt=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],ni=function(){function n(){var t=this;(0,ti.default)(this,n),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var e=function r(){t.isHumanBoolean=!0,Me.session.set(Pe,!0),Lt.forEach(function(i){ze.removeEventListener(i,r,!0)})};this.isHumanBoolean||Lt.forEach(function(r){ze.addEventListener(r,e,!0)})}return(0,ri.default)(n,[{key:"getIsHumanFromSessionStorage",value:function(){return!!Me.session.get(Pe)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!Me.session.get(Pe)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var e=ze.getNavigator(),r=e.userAgent,i=e.webdriver,o=new RegExp("(".concat(ii.join("|"),")"));return Boolean(r.match(o))||Boolean(i)}}]),n}();Ft.exports=ni});var Pt=T((dn,zt)=>{y();"use strict";var Mt=K(),si=Mt(V()),oi=Mt(Q()),He=ke(),ai=jt(),Ge=X(),Je="_constructorio_requests",ui=18e4,ci=function(){function n(t,e){var r=this;(0,si.default)(this,n),this.options=t,this.eventemitter=e,this.humanity=new ai,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(t&&t.sendTrackingEvents===!0),Ge.addEventListener("beforeunload",function(){r.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,oi.default)(n,[{key:"queue",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var s=n.get();s.push({url:e,method:r,body:i,networkParameters:o}),n.set(s)}}},{key:"sendEvents",value:function(){var e=this,r=this.options.fetch,i=n.get();if((!Ge.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&i.length){var o,s=i.shift(),l=s,u=l.networkParameters,c,a=this;if(n.set(i),u&&typeof AbortController=="function"){var f=new AbortController;c=f.signal,Ge.applyNetworkTimeout(this.options,u,f)}if(typeof s=="string"&&(s={url:s,method:"GET"}),s.url){var d=s.url.match(/\?.*_dt=([^&]+)/),m=parseInt(d&&d[1],10),b=+new Date;if(m&&Number.isInteger(m)&&b-m>ui){this.sendTrackingEvents=!1,n.remove();return}}s.method==="GET"&&(o=r(s.url,{signal:c})),s.method==="POST"&&(o=r(s.url,{method:s.method,body:JSON.stringify(s.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:c})),o&&(this.requestPending=!0,o.then(function(p){p.ok?(a.eventemitter&&a.eventemitter.emit("success",{url:s.url,method:s.method,message:"ok"}),e.requestPending=!1,e.send()):p.json().then(function(w){a.eventemitter&&a.eventemitter.emit("error",{url:s.url,method:s.method,message:w&&w.message}),e.requestPending=!1,e.send()}).catch(function(w){a.eventemitter&&a.eventemitter.emit("error",{url:s.url,method:s.method,message:w.type}),e.requestPending=!1,e.send()})}).catch(function(p){a.eventemitter&&a.eventemitter.emit("error",{url:s.url,method:s.method,message:p&&p.toString&&p.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return He.local.get(Je)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?n.remove():He.local.set(Je,e);var r=n.get();Array.isArray(r)&&r.length!==e.length&&(this.sendTrackingEvents=!1,n.remove())}},{key:"remove",value:function(){He.local.remove(Je)}}]),n}();zt.exports=ci});var Wt=T((pn,Kt)=>{y();"use strict";var Se=K(),li=Se(Le()),H=Se(ye()),fi=Se(V()),hi=Se(Q());function Ht(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function F(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ht(Object(e),!0).forEach(function(r){(0,li.default)(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ht(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var di=Dt(),q=X(),Gt=Pt();function W(n,t){var e=t.apiKey,r=t.version,i=t.sessionId,o=t.clientId,s=t.userId,l=t.segments,u=t.testCells,c=t.requestMethod,a=t.beaconMode,f=q.getWindowLocation(),d=f.host,m=f.pathname,b=t.sendReferrerWithTrackingEvents!==!1,p=Object.assign(n);return r&&(p.c=r),o&&(p.i=o),i&&(p.s=i),s&&(p.ui=s),l&&l.length&&(p.us=l),e&&(p.key=e),u&&Object.keys(u).forEach(function(w){p["ef-".concat(w)]=u[w]}),a&&c&&c.match(/POST/i)&&(p.beacon=!0),b&&d&&(p.origin_referrer=d,m&&(p.origin_referrer+=m)),p._dt=Date.now(),p=q.cleanParams(p),p}function P(n,t){return q.stringify(W(n,t))}var Jt=function(){function n(t){(0,fi.default)(this,n),this.options=t||{},this.eventemitter=new di,this.requests=new Gt(t,this.eventemitter)}return(0,hi.default)(n,[{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),i={action:"session_start"};return this.requests.queue("".concat(r).concat(P(i,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),i={action:"focus"};return this.requests.queue("".concat(r).concat(P(i,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),o={},s={},l=e.item_name,u=e.name,c=e.item_id,a=e.customer_id,f=e.variation_id,d=e.url;l?s.item_name=l:u&&(s.item_name=u),c?s.item_id=c:a&&(s.item_id=a),f&&(s.variation_id=f),d&&(s.url=d);var m="".concat(i).concat(P(o,this.options)),b="POST",p=W(s,F(F({},this.options),{},{requestMethod:b}));return this.requests.queue(m,b,p,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelect",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,H.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/autocomplete/").concat(q.encodeURIComponentRFC3986(q.trimNonBreakingSpaces(e)),"/select?"),s={},l=r.original_query,u=r.section,c=r.original_section,a=r.tr,f=r.group_id,d=r.display_name;return l&&(s.original_query=l),a&&(s.tr=a),(c||u)&&(s.section=c||u),f&&(s.group={group_id:f,display_name:d}),this.requests.queue("".concat(o).concat(P(s,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,H.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/autocomplete/").concat(q.encodeURIComponentRFC3986(q.trimNonBreakingSpaces(e)),"/search?"),s={},l=r.original_query,u=r.group_id,c=r.display_name;return l&&(s.original_query=l),u&&(s.group={group_id:u,display_name:c}),this.requests.queue("".concat(o).concat(P(s,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,H.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/behavior?"),s={action:"search-results",term:e},l=r.num_results,u=r.customer_ids,c=r.item_ids,a;return q.isNil(l)||(s.num_results=l),c&&Array.isArray(c)&&c.length?a=c:u&&Array.isArray(u)&&u.length&&(a=u),a&&a.length&&(s.customer_ids=a.slice(0,100).join(",")),this.requests.queue("".concat(o).concat(P(s,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,H.default)(r)==="object"&&!Array.isArray(r)){var o="".concat(this.options.serviceUrl,"/autocomplete/").concat(q.encodeURIComponentRFC3986(q.trimNonBreakingSpaces(e)),"/click_through?"),s={},l=r.item_name,u=r.name,c=r.item_id,a=r.customer_id,f=r.variation_id,d=r.result_id,m=r.item_is_convertible,b=r.section;return l?s.name=l:u&&(s.name=u),c?s.customer_id=c:a&&(s.customer_id=a),f&&(s.variation_id=f),d&&(s.result_id=d),typeof m=="boolean"&&(s.item_is_convertible=m),b&&(s.section=b),this.requests.queue("".concat(o).concat(P(s,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r&&(0,H.default)(r)==="object"&&!Array.isArray(r)){var o=e||"TERM_UNKNOWN",s="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),l={},u={},c=r.name,a=r.item_name,f=r.item_id,d=r.customer_id,m=r.variation_id,b=r.revenue,p=r.section,w=p===void 0?"Products":p,A=r.display_name,k=r.type,S=r.is_custom_type;f?u.item_id=f:d&&(u.item_id=d),a?u.item_name=a:c&&(u.item_name=c),m&&(u.variation_id=m),b&&(u.revenue=b.toString()),w&&(l.section=w,u.section=w),o&&(u.search_term=o),k&&(u.type=k),S&&(u.is_custom_type=S),A&&(u.display_name=A);var L="".concat(s).concat(P(l,this.options)),N="POST",z=W(u,F(F({},this.options),{},{requestMethod:N}));return this.requests.queue(L,N,z,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),o={},s={},l=e.items,u=e.revenue,c=e.order_id,a=e.section;if(c){if(q.hasOrderIdRecord(c))return!1;q.addOrderIdRecord(c),s.order_id=c}l&&Array.isArray(l)&&(s.items=l.slice(0,100)),u&&(s.revenue=u),a?o.section=a:o.section="Products";var f="".concat(i).concat(P(o,this.options)),d="POST",m=W(s,F(F({},this.options),{},{requestMethod:d}));return this.requests.queue(f,d,m,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),o={},s=e.result_count,l=e.result_page,u=e.result_id,c=e.section,a=e.url,f=e.pod_id,d=e.num_results_viewed,m=e.items;q.isNil(s)||(o.result_count=s),q.isNil(l)||(o.result_page=l),u&&(o.result_id=u),c?o.section=c:o.section="Products",a&&(o.url=a),f&&(o.pod_id=f),q.isNil(d)||(o.num_results_viewed=d),m&&Array.isArray(m)&&(o.items=m.slice(0,100));var b="".concat(i).concat(P({},this.options)),p="POST",w=W(o,F(F({},this.options),{},{requestMethod:p}));return this.requests.queue(b,p,w,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),o={},s=e.variation_id,l=e.section,u=e.result_id,c=e.result_count,a=e.result_page,f=e.result_position_on_page,d=e.num_results_per_page,m=e.pod_id,b=e.strategy_id,p=e.item_id,w=e.item_name;s&&(o.variation_id=s),l?o.section=l:o.section="Products",u&&(o.result_id=u),q.isNil(c)||(o.result_count=c),q.isNil(a)||(o.result_page=a),q.isNil(f)||(o.result_position_on_page=f),q.isNil(d)||(o.num_results_per_page=d),m&&(o.pod_id=m),b&&(o.strategy_id=b),p&&(o.item_id=p),w&&(o.item_name=w);var A="".concat(i).concat(P({},this.options)),k="POST",S=W(o,F(F({},this.options),{},{requestMethod:k}));return this.requests.queue(A,k,S,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),o={},s=e.section,l=e.result_count,u=e.result_page,c=e.result_id,a=e.selected_filters,f=e.url,d=e.sort_order,m=e.sort_by,b=e.filter_name,p=e.filter_value,w=e.items;s?o.section=s:o.section="Products",q.isNil(l)||(o.result_count=l),q.isNil(u)||(o.result_page=u),c&&(o.result_id=c),a&&(o.selected_filters=a),f&&(o.url=f),d&&(o.sort_order=d),m&&(o.sort_by=m),b&&(o.filter_name=b),p&&(o.filter_value=p),w&&Array.isArray(w)&&(o.items=w.slice(0,100));var A="".concat(i).concat(P({},this.options)),k="POST",S=W(o,F(F({},this.options),{},{requestMethod:k}));return this.requests.queue(A,k,S,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),o={},s=e.section,l=e.variation_id,u=e.result_id,c=e.result_count,a=e.result_page,f=e.result_position_on_page,d=e.num_results_per_page,m=e.selected_filters,b=e.filter_name,p=e.filter_value,w=e.item_id,A=e.customer_id,k=e.item_name,S=e.name;s?o.section=s:o.section="Products",l&&(o.variation_id=l),u&&(o.result_id=u),q.isNil(c)||(o.result_count=c),q.isNil(a)||(o.result_page=a),q.isNil(f)||(o.result_position_on_page=f),q.isNil(d)||(o.num_results_per_page=d),m&&(o.selected_filters=m),b&&(o.filter_name=b),p&&(o.filter_value=p),w?o.item_id=w:A&&(o.item_id=A),k?o.item_name=k:S&&(o.item_name=S);var L="".concat(i).concat(P({},this.options)),N="POST",z=W(o,F(F({},this.options),{},{requestMethod:N}));return this.requests.queue(L,N,z,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,H.default)(e)==="object"&&!!e.item_id){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),o={},s=e.item_id,l=e.item_name,u=e.variation_id,c=e.section;o.section=c||"Products",o.item_id=s,l&&(o.item_name=l),u&&(o.variation_id=u);var a="".concat(i).concat(P({},this.options)),f="POST",d=W(o,F(F({},this.options),{},{requestMethod:f}));return this.requests.queue(a,f,d,r),this.requests.send(),!0}return this.requests.send(),new Error('A parameters object with an "item_id" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),o=e.quiz_id,s=e.quiz_version_id,l=e.quiz_session_id,u=e.url,c=e.section,a=c===void 0?"Products":c,f=e.result_count,d=e.result_id,m=e.result_page,b={},p={};if(typeof o!="string")return new Error('"quiz_id" is a required parameter of type string');if(typeof s!="string")return new Error('"quiz_version_id" is a required parameter of type string');if(typeof l!="string")return new Error('"quiz_session_id" is a required parameter of type string');if(typeof u!="string")return new Error('"url" is a required parameter of type string');if(p.quiz_id=o,p.quiz_version_id=s,p.quiz_session_id=l,p.url=u,!q.isNil(a)){if(typeof a!="string")return new Error('"section" must be a string');b.section=a,p.section=a}if(!q.isNil(f)){if(typeof f!="number")return new Error('"result_count" must be a number');p.result_count=f}if(!q.isNil(d)){if(typeof d!="string")return new Error('"result_id" must be a string');p.result_id=d}if(!q.isNil(m)){if(typeof m!="number")return new Error('"result_page" must be a number');p.result_page=m}p.action_class="result_load";var w="".concat(i).concat(P(b,this.options)),A="POST",k=W(p,F(F({},this.options),{},{requestMethod:A}));return this.requests.queue(w,A,k,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),o=e.quiz_id,s=e.quiz_version_id,l=e.quiz_session_id,u=e.item_id,c=e.item_name,a=e.result_count,f=e.result_id,d=e.result_page,m=e.num_results_per_page,b=e.result_position_on_page,p=e.section,w=p===void 0?"Products":p,A={},k={};if(typeof o!="string")return new Error('"quiz_id" is a required parameter of type string');if(typeof s!="string")return new Error('"quiz_version_id" is a required parameter of type string');if(typeof l!="string")return new Error('"quiz_session_id" is a required parameter of type string');if(typeof u!="string"&&typeof c!="string")return new Error('"item_id" or "item_name" is a required parameter of type string');if(k.quiz_id=o,k.quiz_version_id=s,k.quiz_session_id=l,!q.isNil(u)){if(typeof u!="string")return new Error('"item_id" must be a string');k.item_id=u}if(!q.isNil(c)){if(typeof c!="string")return new Error('"item_name" must be a string');k.item_name=c}if(!q.isNil(w)){if(typeof w!="string")return new Error('"section" must be a string');A.section=w}if(!q.isNil(a)){if(typeof a!="number")return new Error('"result_count" must be a number');k.result_count=a}if(!q.isNil(f)){if(typeof f!="string")return new Error('"result_id" must be a string');k.result_id=f}if(!q.isNil(d)){if(typeof d!="number")return new Error('"result_page" must be a number');k.result_page=d}if(!q.isNil(m)){if(typeof m!="number")return new Error('"num_results_per_page" must be a number');k.num_results_per_page=m}if(!q.isNil(b)){if(typeof b!="number")return new Error('"result_position_on_page" must be a number');k.result_position_on_page=b}k.action_class="result_click";var S="".concat(i).concat(P(A,this.options)),L="POST",N=W(k,F(F({},this.options),{},{requestMethod:L}));return this.requests.queue(S,L,N,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,H.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),o=e.quiz_id,s=e.quiz_version_id,l=e.quiz_session_id,u=e.item_id,c=e.item_name,a=e.variation_id,f=e.revenue,d=e.section,m=d===void 0?"Products":d,b=e.type,p=e.is_custom_type,w=e.display_name,A={},k={};if(typeof o!="string")return new Error('"quiz_id" is a required parameter of type string');if(typeof s!="string")return new Error('"quiz_version_id" is a required parameter of type string');if(typeof l!="string")return new Error('"quiz_session_id" is a required parameter of type string');if(typeof u!="string"&&typeof c!="string")return new Error('"item_id" or "item_name" is a required parameter of type string');if(k.quiz_id=o,k.quiz_version_id=s,k.quiz_session_id=l,!q.isNil(u)){if(typeof u!="string")return new Error('"item_id" must be a string');k.item_id=u}if(!q.isNil(c)){if(typeof c!="string")return new Error('"item_name" must be a string');k.item_name=c}if(!q.isNil(a)){if(typeof a!="string")return new Error('"variation_id" must be a string');k.variation_id=a}if(!q.isNil(f)){if(typeof f!="string")return new Error('"revenue" must be a string');k.revenue=f}if(!q.isNil(m)){if(typeof m!="string")return new Error('"section" must be a string');k.section=m}if(!q.isNil(b)){if(typeof b!="string")return new Error('"type" must be a string');k.type=b}if(!q.isNil(p)){if(typeof p!="boolean")return new Error('"is_custom_type" must be a boolean');k.is_custom_type=p}if(!q.isNil(w)){if(typeof w!="string")return new Error('"display_name" must be a string');k.display_name=w}k.action_class="conversion";var S="".concat(i).concat(P(A,this.options)),L="POST",N=W(k,F(F({},this.options),{},{requestMethod:L}));return this.requests.queue(S,L,N,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"on",value:function(e,r){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!r||typeof r!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,r),!0)}}]),n}();Jt.RequestQueue=Gt;Kt.exports=Jt});var Vt=T((vn,pi)=>{pi.exports={name:"@constructor-io/constructorio-client-javascript",version:"2.34.8",description:"Constructor.io JavaScript client",main:"lib/constructorio.js",types:"lib/types/constructorio.d.ts",scripts:{clean:"sudo rm -rf node_modules package-lock.json",version:"npm run verify-node-version && npm run docs && git add ./docs/* && npm run bundle && git add -A ./dist","check-license":"license-checker --production --onlyAllow 'Apache-2.0;BSD-3-Clause;MIT;0BSD;BSD-2-Clause'","verify-node-version":"chmod +x ./scripts/verify-node-version.sh && ./scripts/verify-node-version.sh",lint:"eslint 'src/**/*.js' 'spec/**/*.js' 'src/**/*.d.ts'",test:"npm run compile && mkdir -p test && cp -rf lib/* test && mocha ./spec/*","test:types":"tsd .","test:parallel":"npm run compile && mkdir -p test && cp -rf lib/* test && mocha --parallel ./spec/*","test:src":"mkdir -p test && cp -rf src/* test && mocha ./spec/*","test:src:parallel":"mkdir -p test && cp -rf src/* test && mocha --parallel ./spec/*","test:bundled":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha ./spec/*","test:bundled:parallel":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha --parallel ./spec/*","test:all":"npm run test && npm run test:bundled","test:all:parallel":"npm run test:parallel && npm run test:bundled:parallel",precoverage:"rm -rf ./coverage && rm -rf ./.nyc_output",coverage:"nyc --all --reporter=html npm run test:src",postcoverage:"open coverage/index.html && rm -rf test",docs:"jsdoc --configure ./.jsdoc.json ./README.md --recurse ./src --destination ./docs",compile:"babel src/ -d lib/ --copy-files && rm -rf lib/types/tests",prepublish:"npm run compile",bundle:"rm -rf ./dist/* && npm run compile && node bundle.js",prepare:"husky install"},repository:{type:"git",url:"git+https://github.com/Constructor-io/constructorio-client-javascript.git"},author:"constructor.io",license:"MIT",bugs:{url:"https://github.com/Constructor-io/constructorio-client-javascript/issues"},homepage:"https://github.com/Constructor-io/constructorio-client-javascript#readme",files:["lib/**/*"],devDependencies:{"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/plugin-transform-runtime":"^7.16.4","@babel/preset-env":"^7.15.8","@babel/register":"^7.15.3","@cspell/eslint-plugin":"^6.8.2","@types/events":"^3.0.0","@typescript-eslint/eslint-plugin":"^5.48.1","@typescript-eslint/parser":"^5.48.1",chai:"^4.2.0","chai-as-promised":"^7.1.1",dotenv:"^8.6.0",esbuild:"^0.12.28",eslint:"^8.17.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2",husky:"^7.0.4",jsdoc:"^3.6.7",jsdom:"^16.5.0","license-checker":"^25.0.1","lodash.clonedeep":"^4.5.0",minami:"^1.2.3",mocha:"^9.1.3",nyc:"^15.1.0",qs:"^6.11.0",sinon:"^7.5.0","sinon-chai":"^3.7.0",tsd:"^0.24.1"},dependencies:{"@constructor-io/constructorio-id":"^2.4.10","crc-32":"^1.2.2",events:"^3.0.0","fetch-ponyfill":"^7.1.0",store2:"^2.14.2"},peerDependencies:{"@babel/runtime":"^7.19.0"},tsd:{directory:"src/types/tests"}}});var Ke=T((gn,fe)=>{y();function vi(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}fe.exports=vi,fe.exports.__esModule=!0,fe.exports.default=fe.exports});var Qt=T((mn,he)=>{y();var gi=Ke();function mi(n){if(Array.isArray(n))return gi(n)}he.exports=mi,he.exports.__esModule=!0,he.exports.default=he.exports});var Xt=T((_n,de)=>{y();function _i(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}de.exports=_i,de.exports.__esModule=!0,de.exports.default=de.exports});var Yt=T((yn,pe)=>{y();var $t=Ke();function yi(n,t){if(!!n){if(typeof n=="string")return $t(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return $t(n,t)}}pe.exports=yi,pe.exports.__esModule=!0,pe.exports.default=pe.exports});var Zt=T((bn,ve)=>{y();function bi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ve.exports=bi,ve.exports.__esModule=!0,ve.exports.default=ve.exports});var er=T((wn,ge)=>{y();var wi=Qt(),ki=Xt(),qi=Yt(),Ei=Zt();function Ai(n){return wi(n)||ki(n)||qi(n)||Ei()}ge.exports=Ai,ge.exports.__esModule=!0,ge.exports.default=ge.exports});var ir=T((kn,rr)=>{y();"use strict";var Oe=K(),Ci=Oe(V()),Si=Oe(Q()),Oi=Oe(er()),Ri=Oe(ye()),xi=Z(),te=X();function tr(n,t,e,r){var i=e.apiKey,o=e.clientId,s=e.sessionId,l=e.segments,u=e.userId,c=e.version,a=e.quizzesServiceUrl,f={c},d="";if(f.key=i,f.i=o,f.s=s,l&&l.length&&(f.us=l),u&&(f.ui=u),!n||typeof n!="string")throw new Error("quizId is a required parameter of type string");if(r==="finalize"&&((0,Ri.default)(t.answers)!=="object"||!Array.isArray(t.answers)||t.answers.length===0))throw new Error("answers is a required parameter of type array");if(t){var m=t.section,b=t.answers,p=t.versionId;m&&(f.section=m),p&&(f.version_id=p),b&&(d="&".concat(te.stringify({a:b.map(function(A){return(0,Oi.default)(A).join(",")})})))}f._dt=Date.now(),f=te.cleanParams(f);var w=te.stringify(f);return"".concat(a,"/v1/quizzes/").concat(encodeURIComponent(n),"/").concat(encodeURIComponent(r),"/?").concat(w).concat(d)}var Ti=function(){function n(t){(0,Ci.default)(this,n),this.options=t||{},this.eventDispatcher=new xi(t.eventDispatcher)}return(0,Si.default)(n,[{key:"getQuizNextQuestion",value:function(e,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u=new AbortController,c=u.signal;try{s=tr(e,r,this.options,"next")}catch(a){return Promise.reject(a)}return te.applyNetworkTimeout(this.options,o,u),l(s,{signal:c}).then(function(a){return a.ok?a.json():te.throwHttpErrorFromResponse(new Error,a)}).then(function(a){if(a.version_id)return i.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",a),a;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l=this.options.fetch,u=new AbortController,c=u.signal;try{s=tr(e,r,this.options,"finalize")}catch(a){return Promise.reject(a)}return te.applyNetworkTimeout(this.options,o,u),l(s,{signal:c}).then(function(a){return a.ok?a.json():te.throwHttpErrorFromResponse(new Error,a)}).then(function(a){if(a.version_id)return i.eventDispatcher.queue("quizzes.getQuizResults.completed",a),a;throw new Error("getQuizResults response data is malformed")})}}]),n}();rr.exports=Ti});var Ji=T((qn,or)=>{y();"use strict";var nr=K(),Bi=nr(V()),Di=nr(Q()),Ii=Ye(),Ni=Ze(),Ui=dt(),Li=gt(),Fi=yt(),ji=kt(),sr=Wt(),Mi=Z(),We=X(),zi=Vt(),Pi=zi.version,Hi=ir(),Gi=function(){var t="ciojs-client-",e=[];return We.canUseDOM()||e.push("domless"),typeof R!="undefined"&&typeof R.env!="undefined"&&R.env.BUNDLED&&e.push("bundled"),"".concat(t).concat(e.join("-")).concat(e.length?"-":"").concat(Pi)},Ve=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Bi.default)(this,n);var e=t.apiKey,r=t.version,i=t.serviceUrl,o=t.quizzesServiceUrl,s=t.segments,l=t.testCells,u=t.clientId,c=t.sessionId,a=t.userId,f=t.fetch,d=t.trackingSendDelay,m=t.sendReferrerWithTrackingEvents,b=t.sendTrackingEvents,p=t.eventDispatcher,w=t.idOptions,A=t.beaconMode,k=t.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var S,L,N=typeof window!="undefined"&&window.CLIENT_VERSION;if(We.canUseDOM()){var z=new Ii(w||{});S=z.session_id,L=z.client_id}else{if(!c||typeof c!="number")throw new Error("sessionId is a required user parameter of type number");if(!u||typeof u!="string")throw new Error("clientId is a required user parameter of type string")}this.options={apiKey:e,version:r||N||Gi(),serviceUrl:i&&i.replace(/\/$/,"")||"https://ac.cnstrc.com",quizzesServiceUrl:o&&o.replace(/\/$/,"")||"https://quizzes.cnstrc.com",sessionId:c||S,clientId:u||L,userId:a,segments:s,testCells:l,fetch:f||Ni({Promise}).fetch,trackingSendDelay:d,sendTrackingEvents:b,sendReferrerWithTrackingEvents:m,eventDispatcher:p,beaconMode:A!==!1,networkParameters:k||{}},this.search=new Ui(this.options),this.browse=new Li(this.options),this.autocomplete=new Fi(this.options),this.recommendations=new ji(this.options),this.tracker=new sr(this.options),this.quizzes=new Hi(this.options),new Mi(t.eventDispatcher).queue("instantiated",this.options)}return(0,Di.default)(n,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var r=e.apiKey,i=e.segments,o=e.testCells,s=e.userId;r&&(this.options.apiKey=r),i&&(this.options.segments=i),o&&(this.options.testCells=o),s&&(this.options.userId=s)}}}]),n}();Ve.Tracker=sr;We.canUseDOM()&&(window.ConstructorioClient=Ve);or.exports=Ve});Ji();})();
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */
/*! store2 - v2.14.2 - 2022-07-18
* Copyright (c) 2022 Nathan Bubna; Licensed (MIT OR GPL-3.0) */

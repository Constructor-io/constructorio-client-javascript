/*!
 *
 * Constructor.io JavaScript Client, version 2.35.13
 * (c) 2015-2023 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 *
 */
(()=>{var et=typeof require!="undefined"?require:n=>{throw new Error('Dynamic require of "'+n+'" is not supported')};var pr=(n,r)=>()=>(n&&(r=n(n=0)),r);var F=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports);var _r,L,C=pr(()=>{_r={BUNDLED:"true"},L={env:_r}});var Z=F((tn,le)=>{C();function yr(n){return n&&n.__esModule?n:{default:n}}le.exports=yr,le.exports.__esModule=!0,le.exports.default=le.exports});var $=F((rn,fe)=>{C();function br(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}fe.exports=br,fe.exports.__esModule=!0,fe.exports.default=fe.exports});var ee=F((nn,he)=>{C();function rt(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function wr(n,r,e){return r&&rt(n.prototype,r),e&&rt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}he.exports=wr,he.exports.__esModule=!0,he.exports.default=he.exports});var it=F((on,Be)=>{C();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(r){"use strict";if(r==null)throw new TypeError("Cannot convert first argument to object");for(var e=Object(r),t=1;t<arguments.length;t++){var i=arguments[t];if(i!=null){i=Object(i);for(var s=Object.keys(Object(i)),o=0,a=s.length;a>o;o++){var l=s[o],c=Object.getOwnPropertyDescriptor(i,l);c!==void 0&&c.enumerable&&(e[l]=i[l])}}}return e}});var n=function(r){var e={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,e,r),!this.client_id)if(!this.on_node&&this.persist){var t;this.client_id_storage_location==="cookie"&&(t=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(t=this.get_local_object(this.local_name_client_id)),this.client_id=t||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};n.prototype.set_cookie=function(r,e){if(!this.on_node&&this.persist){var t=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),i=r+"="+e+"; expires="+t.toUTCString()+"; path=/";return this.cookie_domain&&(i+="; domain="+this.cookie_domain),document.cookie=i,i}return null},n.prototype.get_cookie=function(r){for(var e=r+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){var s=t[i];try{for(var o=decodeURIComponent(s);o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}catch(a){}}},n.prototype.delete_cookie=function(r){document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},n.prototype.generate_client_id=function(){var r;if(!this.on_node){var e=this.get_cookie(this.cookie_name_client_id),t=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&t&&(r=t,this.set_cookie(this.cookie_name_client_id,r),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&e&&(r=e,this.set_local_object(this.local_name_client_id,r),this.delete_cookie(this.cookie_name_client_id))}return r||(r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,o=i==="x"?s:s&3|8;return o.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,r),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,r)),r},n.prototype.get_local_object=function(r){var e,t=window&&window.localStorage;if(t&&typeof r=="string")try{e=JSON.parse(t.getItem(r))}catch(i){e=t.getItem(r)}return e},n.prototype.set_local_object=function(r,e){var t=window&&window.localStorage;if(t&&typeof r=="string"){if(typeof e=="object")try{t.setItem(r,JSON.stringify(e))}catch(i){}if(typeof e=="string"||typeof e=="number")try{t.setItem(r,e)}catch(i){}}},n.prototype.delete_local_object=function(r){var e=window&&window.localStorage;if(e&&typeof r=="string")try{e.removeItem(r)}catch(t){}},n.prototype.generate_session_id=function(){var r=this.get_cookie(this.cookie_name_session_data),e=this.get_local_object(this.local_name_session_data),t=Date.now(),i=1e3*60*30,s;if(this.session_id_storage_location==="local"&&(s=this.get_local_object(this.local_name_session_data),!s&&r&&(s=r,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){s=this.get_cookie(this.cookie_name_session_data);try{s=JSON.parse(s)}catch(l){}!s&&e&&(s=e,this.delete_local_object(this.local_name_session_data))}var o=1,a=1;return s&&typeof s=="object"&&(a=parseInt(s.sessionId,10)||1,s.lastTime>t-i?o=a:o=a+1),this.session_id=o,this.session_is_new=!(s&&a===o),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,o),this.set_local_object(this.local_name_session_data,{sessionId:o,lastTime:t})),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,o),this.set_cookie(this.cookie_name_session_data,JSON.stringify({sessionId:o,lastTime:t}))),o},typeof Be!="undefined"&&typeof et!="undefined"&&(Be.exports=n)})()});var nt=F((de,De)=>{C();(function(n){"use strict";function r(e){var t=e&&e.Promise||n.Promise,i=e&&e.XMLHttpRequest||n.XMLHttpRequest;return function(){var s=Object.create(n,{fetch:{value:void 0,writable:!0}});return function(o,a){typeof de=="object"&&typeof De!="undefined"?a(de):typeof define=="function"&&define.amd?define(["exports"],a):a(o.WHATWGFetch={})}(this,function(o){"use strict";var a=typeof s!="undefined"&&s||typeof self!="undefined"&&self||typeof a!="undefined"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(h){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(h){return h&&DataView.prototype.isPrototypeOf(h)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(h){return h&&u.indexOf(Object.prototype.toString.call(h))>-1};function d(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function b(h){return typeof h!="string"&&(h=String(h)),h}function w(h){var _={next:function(){var A=h.shift();return{done:A===void 0,value:A}}};return l.iterable&&(_[Symbol.iterator]=function(){return _}),_}function v(h){this.map={},h instanceof v?h.forEach(function(_,A){this.append(A,_)},this):Array.isArray(h)?h.forEach(function(_){this.append(_[0],_[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(_){this.append(_,h[_])},this)}v.prototype.append=function(h,_){h=d(h),_=b(_);var A=this.map[h];this.map[h]=A?A+", "+_:_},v.prototype.delete=function(h){delete this.map[d(h)]},v.prototype.get=function(h){return h=d(h),this.has(h)?this.map[h]:null},v.prototype.has=function(h){return this.map.hasOwnProperty(d(h))},v.prototype.set=function(h,_){this.map[d(h)]=b(_)},v.prototype.forEach=function(h,_){for(var A in this.map)this.map.hasOwnProperty(A)&&h.call(_,this.map[A],A,this)},v.prototype.keys=function(){var h=[];return this.forEach(function(_,A){h.push(A)}),w(h)},v.prototype.values=function(){var h=[];return this.forEach(function(_){h.push(_)}),w(h)},v.prototype.entries=function(){var h=[];return this.forEach(function(_,A){h.push([A,_])}),w(h)},l.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function y(h){if(h.bodyUsed)return t.reject(new TypeError("Already read"));h.bodyUsed=!0}function R(h){return new t(function(_,A){h.onload=function(){_(h.result)},h.onerror=function(){A(h.error)}})}function S(h){var _=new FileReader,A=R(_);return _.readAsArrayBuffer(h),A}function m(h){var _=new FileReader,A=R(_);return _.readAsText(h),A}function D(h){for(var _=new Uint8Array(h),A=new Array(_.length),O=0;O<_.length;O++)A[O]=String.fromCharCode(_[O]);return A.join("")}function U(h){if(h.slice)return h.slice(0);var _=new Uint8Array(h.byteLength);return _.set(new Uint8Array(h)),_.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:l.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:l.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():l.arrayBuffer&&l.blob&&c(h)?(this._bodyArrayBuffer=U(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||f(h))?this._bodyArrayBuffer=U(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var h=y(this);if(h)return h;if(this._bodyBlob)return t.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return t.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=y(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?t.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):t.resolve(this._bodyArrayBuffer))}else return this.blob().then(S)}),this.text=function(){var h=y(this);if(h)return h;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return t.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(h){var _=h.toUpperCase();return g.indexOf(_)>-1?_:h}function p(h,_){if(!(this instanceof p))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var A=_.body;if(h instanceof p){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,_.headers||(this.headers=new v(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!A&&h._bodyInit!=null&&(A=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new v(_.headers)),this.method=T(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(A),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var O=/([?&])_=[^&]*/;if(O.test(this.url))this.url=this.url.replace(O,"$1_="+new Date().getTime());else{var N=/\?/;this.url+=(N.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})};function q(h){var _=new FormData;return h.trim().split("&").forEach(function(A){if(A){var O=A.split("="),N=O.shift().replace(/\+/g," "),B=O.join("=").replace(/\+/g," ");_.append(decodeURIComponent(N),decodeURIComponent(B))}}),_}function k(h){var _=new v,A=h.replace(/\r?\n[\t ]+/g," ");return A.split("\r").map(function(O){return O.indexOf(`
`)===0?O.substr(1,O.length):O}).forEach(function(O){var N=O.split(":"),B=N.shift().trim();if(B){var J=N.join(":").trim();_.append(B,J)}}),_}x.call(p.prototype);function E(h,_){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _?_.statusText:"",this.headers=new v(_.headers),this.url=_.url||"",this._initBody(h)}x.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},E.error=function(){var h=new E(null,{status:0,statusText:""});return h.type="error",h};var M=[301,302,303,307,308];E.redirect=function(h,_){if(M.indexOf(_)===-1)throw new RangeError("Invalid status code");return new E(null,{status:_,headers:{location:h}})},o.DOMException=a.DOMException;try{new o.DOMException}catch(h){o.DOMException=function(_,A){this.message=_,this.name=A;var O=Error(_);this.stack=O.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function H(h,_){return new t(function(A,O){var N=new p(h,_);if(N.signal&&N.signal.aborted)return O(new o.DOMException("Aborted","AbortError"));var B=new i;function J(){B.abort()}B.onload=function(){var z={status:B.status,statusText:B.statusText,headers:k(B.getAllResponseHeaders()||"")};z.url="responseURL"in B?B.responseURL:z.headers.get("X-Request-URL");var X="response"in B?B.response:B.responseText;setTimeout(function(){A(new E(X,z))},0)},B.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},B.onabort=function(){setTimeout(function(){O(new o.DOMException("Aborted","AbortError"))},0)};function G(z){try{return z===""&&a.location.href?a.location.href:z}catch(X){return z}}B.open(N.method,G(N.url),!0),N.credentials==="include"?B.withCredentials=!0:N.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(l.blob?B.responseType="blob":l.arrayBuffer&&N.headers.get("Content-Type")&&N.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(B.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof v)?Object.getOwnPropertyNames(_.headers).forEach(function(z){B.setRequestHeader(z,b(_.headers[z]))}):N.headers.forEach(function(z,X){B.setRequestHeader(X,z)}),N.signal&&(N.signal.addEventListener("abort",J),B.onreadystatechange=function(){B.readyState===4&&N.signal.removeEventListener("abort",J)}),B.send(typeof N._bodyInit=="undefined"?null:N._bodyInit)})}H.polyfill=!0,a.fetch||(a.fetch=H,a.Headers=v,a.Request=p,a.Response=E),o.Headers=v,o.Request=p,o.Response=E,o.fetch=H,Object.defineProperty(o,"__esModule",{value:!0})}),{fetch:s.fetch,Headers:s.Headers,Request:s.Request,Response:s.Response,DOMException:s.DOMException}}()}typeof define=="function"&&define.amd?define(function(){return r}):typeof de=="object"?De.exports=r:n.fetchPonyfill=r})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:de)});var ke=F((sn,ie)=>{C();function Ue(n){return ie.exports=Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ie.exports.__esModule=!0,ie.exports.default=ie.exports,Ue(n)}ie.exports=Ue,ie.exports.__esModule=!0,ie.exports.default=ie.exports});var st=F(Ie=>{C();var ot;(function(n){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof Ie=="object"?n(Ie):typeof define=="function"&&define.amd?define(function(){var r={};return n(r),r}):n(ot={}):n(ot={})})(function(n){n.version="1.2.2";function r(){for(var g=0,T=new Array(256),p=0;p!=256;++p)g=p,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,T[p]=g;return typeof Int32Array!="undefined"?new Int32Array(T):T}var e=r();function t(g){var T=0,p=0,q=0,k=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)k[q]=g[q];for(q=0;q!=256;++q)for(p=g[q],T=256+q;T<4096;T+=256)p=k[T]=p>>>8^g[p&255];var E=[];for(q=1;q!=16;++q)E[q-1]=typeof Int32Array!="undefined"?k.subarray(q*256,q*256+256):k.slice(q*256,q*256+256);return E}var i=t(e),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],b=i[8],w=i[9],v=i[10],y=i[11],R=i[12],S=i[13],m=i[14];function D(g,T){for(var p=T^-1,q=0,k=g.length;q<k;)p=p>>>8^e[(p^g.charCodeAt(q++))&255];return~p}function U(g,T){for(var p=T^-1,q=g.length-15,k=0;k<q;)p=m[g[k++]^p&255]^S[g[k++]^p>>8&255]^R[g[k++]^p>>16&255]^y[g[k++]^p>>>24]^v[g[k++]]^w[g[k++]]^b[g[k++]]^d[g[k++]]^f[g[k++]]^u[g[k++]]^c[g[k++]]^l[g[k++]]^a[g[k++]]^o[g[k++]]^s[g[k++]]^e[g[k++]];for(q+=15;k<q;)p=p>>>8^e[(p^g[k++])&255];return~p}function x(g,T){for(var p=T^-1,q=0,k=g.length,E=0,M=0;q<k;)E=g.charCodeAt(q++),E<128?p=p>>>8^e[(p^E)&255]:E<2048?(p=p>>>8^e[(p^(192|E>>6&31))&255],p=p>>>8^e[(p^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,M=g.charCodeAt(q++)&1023,p=p>>>8^e[(p^(240|E>>8&7))&255],p=p>>>8^e[(p^(128|E>>2&63))&255],p=p>>>8^e[(p^(128|M>>6&15|(E&3)<<4))&255],p=p>>>8^e[(p^(128|M&63))&255]):(p=p>>>8^e[(p^(224|E>>12&15))&255],p=p>>>8^e[(p^(128|E>>6&63))&255],p=p>>>8^e[(p^(128|E&63))&255]);return~p}n.table=e,n.bstr=D,n.buf=U,n.str=x})});var ut=F((qe,Ee)=>{C();(function(n,r){var e={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(i,s){for(var o in i)s.hasOwnProperty(o)||Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o));return s},stringify:function(i,s){return i===void 0||typeof i=="function"?i+"":JSON.stringify(i,s||e.replace)},parse:function(i,s){try{return JSON.parse(i,s||e.revive)}catch(o){return i}},fn:function(i,s){e.storeAPI[i]=s;for(var o in e.apis)e.apis[o][i]=s},get:function(i,s){return i.getItem(s)},set:function(i,s,o){i.setItem(s,o)},remove:function(i,s){i.removeItem(s)},key:function(i,s){return i.key(s)},length:function(i){return i.length},clear:function(i){i.clear()},Store:function(i,s,o){var a=e.inherit(e.storeAPI,function(c,u,f){return arguments.length===0?a.getAll():typeof u=="function"?a.transact(c,u,f):u!==void 0?a.set(c,u,f):typeof c=="string"||typeof c=="number"?a.get(c):typeof c=="function"?a.each(c):c?a.setAll(c,u):a.clear()});a._id=i;try{var l="__store2_test";s.setItem(l,"ok"),a._area=s,s.removeItem(l)}catch(c){a._area=e.storage("fake")}return a._ns=o||"",e.areas[i]||(e.areas[i]=a._area),e.apis[a._ns+a._id]||(e.apis[a._ns+a._id]=a),a},storeAPI:{area:function(i,s){var o=this[i];return(!o||!o.area)&&(o=e.Store(i,s,this._ns),this[i]||(this[i]=o)),o},namespace:function(i,s,o){if(o=o||this._delim||e.nsdelim,!i)return this._ns?this._ns.substring(0,this._ns.length-o.length):"";var a=i,l=this[a];if((!l||!l.namespace)&&(l=e.Store(this._id,this._area,this._ns+a+o),l._delim=o,this[a]||(this[a]=l),!s))for(var c in e.areas)l.area(c,e.areas[c]);return l},isFake:function(i){return i?(this._real=this._area,this._area=e.storage("fake")):i===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(i){return this._area.has?this._area.has(this._in(i)):this._in(i)in this._area},size:function(){return this.keys().length},each:function(i,s){for(var o=0,a=e.length(this._area);o<a;o++){var l=this._out(e.key(this._area,o));if(l!==void 0&&i.call(this,l,this.get(l),s)===!1)break;a>e.length(this._area)&&(a--,o--)}return s||this},keys:function(i){return this.each(function(s,o,a){a.push(s)},i||[])},get:function(i,s){var o=e.get(this._area,this._in(i)),a;return typeof s=="function"&&(a=s,s=null),o!==null?e.parse(o,a):s??o},getAll:function(i){return this.each(function(s,o,a){a[s]=o},i||{})},transact:function(i,s,o){var a=this.get(i,o),l=s(a);return this.set(i,l===void 0?a:l),this},set:function(i,s,o){var a=this.get(i),l;return a!=null&&o===!1?s:(typeof o=="function"&&(l=o,o=void 0),e.set(this._area,this._in(i),e.stringify(s,l),o)||a)},setAll:function(i,s){var o,a;for(var l in i)a=i[l],this.set(l,a,s)!==a&&(o=!0);return o},add:function(i,s,o){var a=this.get(i);if(a instanceof Array)s=a.concat(s);else if(a!==null){var l=typeof a;if(l===typeof s&&l==="object"){for(var c in s)a[c]=s[c];s=a}else s=a+s}return e.set(this._area,this._in(i),e.stringify(s,o)),s},remove:function(i,s){var o=this.get(i,s);return e.remove(this._area,this._in(i)),o},clear:function(){return this._ns?this.each(function(i){e.remove(this._area,this._in(i))},1):e.clear(this._area),this},clearAll:function(){var i=this._area;for(var s in e.areas)e.areas.hasOwnProperty(s)&&(this._area=e.areas[s],this.clear());return this._area=i,this},_in:function(i){return typeof i!="string"&&(i=e.stringify(i)),this._ns?this._ns+i:i},_out:function(i){return this._ns?i&&i.indexOf(this._ns)===0?i.substring(this._ns.length):void 0:i}},storage:function(i){return e.inherit(e.storageAPI,{items:{},name:i})},storageAPI:{length:0,has:function(i){return this.items.hasOwnProperty(i)},key:function(i){var s=0;for(var o in this.items)if(this.has(o)&&i===s++)return o},setItem:function(i,s){this.has(i)||this.length++,this.items[i]=s},removeItem:function(i){this.has(i)&&(delete this.items[i],this.length--)},getItem:function(i){return this.has(i)?this.items[i]:null},clear:function(){for(var i in this.items)this.removeItem(i)}}},t=e.Store("local",function(){try{return localStorage}catch(i){}}());t.local=t,t._=e,t.area("session",function(){try{return sessionStorage}catch(i){}}()),t.area("page",e.storage("page")),typeof r=="function"&&r.amd!==void 0?r("store2",[],function(){return t}):typeof Ee!="undefined"&&Ee.exports?Ee.exports=t:(n.store&&(e.conflict=n.store),n.store=t)})(qe,qe&&qe.define)});var ct=F((an,at)=>{C();"use strict";at.exports=function(n,r){var e=r.set,t=r.get,i=r.remove,s=r.key,o=r.length,a=r.clear;r.overflow=function(l,c){var u=l===r.areas.local?"+local+":l===r.areas.session?"+session+":!1;if(u){var f=r.areas[u];return c&&!f?f=n.area(u)._area:c===!1&&(delete r.areas[u],delete n[u]),f}},r.set=function(l,c,u){try{e.apply(this,arguments)}catch(f){if(f.name==="QUOTA_EXCEEDED_ERR"||f.name==="NS_ERROR_DOM_QUOTA_REACHED"||f.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||f.toString().indexOf("QuotaExceededError")!==-1)return r.set(r.overflow(l,!0),c,u);throw f}},r.get=function(l,c){var u=r.overflow(l);return u&&t.call(this,u,c)||t.apply(this,arguments)},r.remove=function(l,c){var u=r.overflow(l);u&&i.call(this,u,c),i.apply(this,arguments)},r.key=function(l,c){var u=r.overflow(l);if(u){var f=o.call(this,l);if(c>=f){c=c-f;for(var d=0,b=o.call(this,u);d<b;d++)if(d===c)return s.call(this,u,d)}}return s.apply(this,arguments)},r.length=function(l){var c=o(l),u=r.overflow(l);return u?c+o(u):c},r.clear=function(l){r.overflow(l,!1),a.apply(this,arguments)}}});var Se=F((cn,lt)=>{C();"use strict";var Ne=ut(),mr=ct();mr(Ne,Ne._);lt.exports=Ne});var te=F((ln,dt)=>{C();"use strict";var kr=Z(),ft=kr(ke()),ht=st(),Le=Se(),je="_constructorio_purchase_order_ids",Y={trimNonBreakingSpaces:function(r){return r.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(r){return encodeURIComponent(r).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(r){var e={};return Object.keys(r).forEach(function(t){var i=r[t];typeof i=="string"?e[t]=Y.trimNonBreakingSpaces(i):e[t]=i}),e},throwHttpErrorFromResponse:function(r,e){return e.json().then(function(t){throw r.message=t.message,r.status=e.status,r.statusText=e.statusText,r.url=e.url,r.headers=e.headers,r})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(r,e,t){Y.canUseDOM()&&window.addEventListener(r,e,t)},removeEventListener:function(r,e,t){Y.canUseDOM()&&window.removeEventListener(r,e,t)},getNavigator:function(){return Y.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(r){return r==null},getWindowLocation:function(){return Y.canUseDOM()?window.location:{}},dispatchEvent:function(r){Y.canUseDOM()&&window.dispatchEvent(r)},createCustomEvent:function(r,e){if(Y.canUseDOM())try{return new window.CustomEvent(r,{detail:e})}catch(i){var t=document.createEvent("CustomEvent");return t.initCustomEvent(r,!1,!1,e),t}return null},hasOrderIdRecord:function(r){var e=ht.str(r.toString()),t=Le.local.get(je);return typeof t=="string"&&(t=JSON.parse(t)),t&&t.includes(e)?!0:null},addOrderIdRecord:function(r){var e=ht.str(r.toString()),t=Le.local.get(je);if(typeof t=="string"&&(t=JSON.parse(t)),t){if(t.includes(e))return;t.length>=10&&(t=t.slice(-9)),t.push(e)}else t=[e];Le.local.set(je,t)},applyNetworkTimeout:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=r&&r.networkParameters&&r.networkParameters.timeout,s=e&&e.timeout,o=s||i;typeof o=="number"&&t&&setTimeout(function(){return t.abort()},o)},stringify:function(r,e,t){if(!r)return"";var i=[];return Object.keys(r).forEach(function(s){var o=r[s],a=Y.encodeURIComponentRFC3986(s),l;if(o!=null){var c=e?"".concat(e,"%5B").concat(a,"%5D"):a;Array.isArray(o)?l=Y.stringify(o,c,"array"):(0,ft.default)(o)==="object"?l=Y.stringify(o,c,"object"):t==="object"?l="".concat(c,"=").concat(Y.encodeURIComponentRFC3986(o)):l="".concat(e||a,"=").concat(Y.encodeURIComponentRFC3986(o)),i.push(l)}}),i.join("&")},toSnakeCase:function(r){return r.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t={};return Object.keys(r).forEach(function(i){var s=Y.toSnakeCase(i);t[s]=e&&(0,ft.default)(r[i])==="object"&&!Array.isArray(r[i])?Y.toSnakeCaseKeys(r[i],e):r[i]}),t}};dt.exports=Y});var oe=F((fn,gt)=>{C();"use strict";var vt=Z(),qr=vt($()),Er=vt(ee()),Ae=te(),Sr=function(){function n(r){var e=this;(0,qr.default)(this,n),this.events=[],this.enabled=!(r&&r.enabled===!1),this.waitForBeacon=!(r&&r.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,Ae.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),Ae.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,Er.default)(n,[{key:"queue",value:function(e,t){this.events.push({name:e,data:t}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),t=e.name,i=e.data,s="cio.client.".concat(t);Ae.dispatchEvent(Ae.createCustomEvent(s,i))}}}]),n}();gt.exports=Sr});var bt=F((hn,yt)=>{C();"use strict";var pt=Z(),Ar=pt($()),Cr=pt(ee()),Or=oe(),re=te();function _t(n,r,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e.apiKey,s=e.version,o=e.serviceUrl,a=e.sessionId,l=e.clientId,c=e.userId,u=e.segments,f=e.testCells,d={c:s};if(d.key=i,d.i=l,d.s=a,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(f&&Object.keys(f).forEach(function(E){d["ef-".concat(E)]=f[E]}),u&&u.length&&(d.us=u),c&&(d.ui=String(c)),r){var b=r.offset,w=r.page,v=r.resultsPerPage,y=r.filters,R=r.sortBy,S=r.sortOrder,m=r.section,D=r.fmtOptions,U=r.hiddenFields,x=r.hiddenFacets,g=r.variationsMap,T=r.qsParam,p=r.preFilterExpression;re.isNil(b)||(d.offset=b),re.isNil(w)||(d.page=w),re.isNil(v)||(d.num_results_per_page=v),y&&(d.filters=y),R&&(d.sort_by=R),S&&(d.sort_order=S),m&&(d.section=m),D&&(d.fmt_options=D),U&&(d.fmt_options?d.fmt_options.hidden_fields=U:d.fmt_options={hidden_fields:U}),x&&(d.fmt_options?d.fmt_options.hidden_facets=x:d.fmt_options={hidden_facets:x}),g&&(d.variations_map=JSON.stringify(g)),p&&(d.pre_filter_expression=JSON.stringify(p)),T&&(d.qs=JSON.stringify(T))}d._dt=Date.now(),d=re.cleanParams(d);var q=re.stringify(d),k=t?"search/natural_language":"search";return"".concat(o,"/").concat(k,"/").concat(re.encodeURIComponentRFC3986(re.trimNonBreakingSpaces(n)),"?").concat(q)}var Rr=function(){function n(r){(0,Ar.default)(this,n),this.options=r||{},this.eventDispatcher=new Or(r.eventDispatcher)}return(0,Cr.default)(n,[{key:"getSearchResults",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,re.applyNetworkTimeout(this.options,s,c)}try{o=_t(e,t,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:l}).then(function(u){return u.ok?u.json():re.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),i.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return i.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,re.applyNetworkTimeout(this.options,s,c)}try{var u=!0;o=_t(e,t,this.options,u)}catch(f){return Promise.reject(f)}return a(o,{signal:l}).then(function(f){return f.ok?f.json():re.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(d){d.result_id=f.result_id}),i.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;if(f.response&&f.response.redirect)return i.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;throw new Error("getVoiceSearchResults response data is malformed")})}}]),n}();yt.exports=Rr});var Fe=F((dn,ve)=>{C();function xr(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}ve.exports=xr,ve.exports.__esModule=!0,ve.exports.default=ve.exports});var kt=F((vn,mt)=>{C();"use strict";var Me=Z(),Tr=Me($()),Br=Me(ee()),Dr=Me(Fe());function wt(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,t)}return e}function Ce(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?wt(Object(e),!0).forEach(function(t){(0,Dr.default)(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wt(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var Ur=oe(),V=te();function ge(n,r){var e=r.apiKey,t=r.version,i=r.sessionId,s=r.clientId,o=r.userId,a=r.segments,l=r.testCells,c={c:t};if(c.key=e,c.i=s,c.s=i,l&&Object.keys(l).forEach(function(g){c["ef-".concat(g)]=l[g]}),a&&a.length&&(c.us=a),o&&(c.ui=String(o)),n){var u=n.page,f=n.offset,d=n.resultsPerPage,b=n.filters,w=n.sortBy,v=n.sortOrder,y=n.section,R=n.fmtOptions,S=n.hiddenFields,m=n.hiddenFacets,D=n.variationsMap,U=n.qsParam,x=n.preFilterExpression;V.isNil(u)||(c.page=u),V.isNil(f)||(c.offset=f),V.isNil(d)||(c.num_results_per_page=d),b&&(c.filters=b),w&&(c.sort_by=w),v&&(c.sort_order=v),y&&(c.section=y),R&&(c.fmt_options=R),S&&(c.fmt_options?c.fmt_options.hidden_fields=S:c.fmt_options={hidden_fields:S}),m&&(c.fmt_options?c.fmt_options.hidden_facets=m:c.fmt_options={hidden_facets:m}),D&&(c.variations_map=JSON.stringify(D)),x&&(c.pre_filter_expression=JSON.stringify(x)),U&&(c.qs=JSON.stringify(U))}return c._dt=Date.now(),c=V.cleanParams(c),c}function Ir(n,r,e,t){var i=t.serviceUrl;if(!n||typeof n!="string")throw new Error("filterName is a required parameter of type string");if(!r||typeof r!="string")throw new Error("filterValue is a required parameter of type string");var s=ge(e,t),o=V.stringify(s);return"".concat(i,"/browse/").concat(V.encodeURIComponentRFC3986(V.trimNonBreakingSpaces(n)),"/").concat(V.encodeURIComponentRFC3986(V.trimNonBreakingSpaces(r)),"?").concat(o)}function Nr(n,r,e){var t=e.serviceUrl;if(!n||!Array.isArray(n)||!n.length)throw new Error("ids is a required parameter of type array");var i=Ce(Ce({},ge(r,e)),{},{ids:n}),s=V.stringify(i);return"".concat(t,"/browse/items?").concat(s)}function Lr(n,r){var e=r.serviceUrl,t=Ce({},ge(n,r));delete t._dt;var i=V.stringify(t);return"".concat(e,"/browse/facets?").concat(i)}function jr(n,r,e){var t=e.serviceUrl;if(!n||typeof n!="string")throw new Error("facetName is a required parameter of type string");var i=Ce({},ge(r,e));i.facet_name=n,delete i._dt;var s=V.stringify(i);return"".concat(t,"/browse/facet_options?").concat(s)}var Fr=function(){function n(r){(0,Tr.default)(this,n),this.options=r||{},this.eventDispatcher=new Ur(r.eventDispatcher)}return(0,Br.default)(n,[{key:"getBrowseResults",value:function(e,t,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a,l=this.options.fetch,c;if(typeof AbortController=="function"){var u=new AbortController;c=u&&u.signal,V.applyNetworkTimeout(this.options,o,u)}try{a=Ir(e,t,i,this.options)}catch(f){return Promise.reject(f)}return l(a,{signal:c}).then(function(f){return f.ok?f.json():V.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(d){d.result_id=f.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",f),f;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,V.applyNetworkTimeout(this.options,s,c)}try{o=Nr(e,t,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:l}).then(function(u){return u.ok?u.json():V.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),i.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options.fetch,o=this.options.serviceUrl,a=ge(e,this.options),l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,V.applyNetworkTimeout(this.options,i,c)}delete a._dt;var u=V.stringify(a),f="".concat(o,"/browse/groups?").concat(u);return s(f,{signal:l}).then(function(d){return d.ok?d.json():V.throwHttpErrorFromResponse(new Error,d)}).then(function(d){if(d.response&&d.response.groups)return t.eventDispatcher.queue("browse.getBrowseGroups.completed",d),d;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,t){var i=this,s,o=this.options.fetch,a;if(typeof AbortController=="function"){var l=new AbortController;a=l&&l.signal,V.applyNetworkTimeout(this.options,t,l)}try{s=Lr(e,this.options)}catch(c){return Promise.reject(c)}return o(s,{signal:a}).then(function(c){return c.ok?c.json():V.throwHttpErrorFromResponse(new Error,c)}).then(function(c){if(c.response&&c.response.facets)return i.eventDispatcher.queue("browse.getBrowseFacets.completed",c),c;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,V.applyNetworkTimeout(this.options,s,c)}try{o=jr(e,i,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:l}).then(function(u){return u.ok?u.json():V.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.facets)return t.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),n}();mt.exports=Fr});var St=F((gn,Et)=>{C();"use strict";var qt=Z(),Mr=qt($()),Pr=qt(ee()),zr=oe(),ue=te(),Hr=ue.throwHttpErrorFromResponse,Gr=ue.cleanParams,Vr=ue.applyNetworkTimeout,Kr=ue.trimNonBreakingSpaces,Jr=ue.encodeURIComponentRFC3986,Wr=ue.stringify;function Qr(n,r,e){var t=e.apiKey,i=e.version,s=e.serviceUrl,o=e.sessionId,a=e.clientId,l=e.userId,c=e.segments,u=e.testCells,f={c:i};if(f.key=t,f.i=a,f.s=o,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(m){f["ef-".concat(m)]=u[m]}),c&&c.length&&(f.us=c),l&&(f.ui=String(l)),r){var d=r.numResults,b=r.resultsPerSection,w=r.filters,v=r.hiddenFields,y=r.variationsMap;d&&(f.num_results=d),b&&Object.keys(b).forEach(function(m){f["num_results_".concat(m)]=b[m]}),w&&(f.filters=w),v&&(f.fmt_options?f.fmt_options.hidden_fields=v:f.fmt_options={hidden_fields:v}),y&&(f.variations_map=JSON.stringify(y))}f._dt=Date.now(),f=Gr(f);var R=Wr(f),S=n.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(Jr(Kr(S)),"?").concat(R)}var Xr=function(){function n(r){(0,Mr.default)(this,n),this.options=r||{},this.eventDispatcher=new zr(r.eventDispatcher)}return(0,Pr.default)(n,[{key:"getAutocompleteResults",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,Vr(this.options,s,c)}try{o=Qr(e,t,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:l}).then(function(u){return u.ok?u.json():Hr(new Error,u)}).then(function(u){if(u.sections){if(u.result_id){var f=Object.keys(u.sections);f.forEach(function(d){var b=u.sections[d];b.length&&b.forEach(function(w){w.result_id=u.result_id})})}return i.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),n}();Et.exports=Xr});var Ot=F((pn,Ct)=>{C();"use strict";var At=Z(),Yr=At($()),Zr=At(ee()),$r=oe(),se=te();function ei(n,r,e){var t=e.apiKey,i=e.version,s=e.serviceUrl,o=e.sessionId,a=e.userId,l=e.clientId,c=e.segments,u={c:i};if(u.key=t,u.i=l,u.s=o,!n||typeof n!="string")throw new Error("podId is a required parameter of type string");if(c&&c.length&&(u.us=c),a&&(u.ui=String(a)),r){var f=r.numResults,d=r.itemIds,b=r.section,w=r.term,v=r.filters,y=r.variationsMap,R=r.hiddenFields;se.isNil(f)||(u.num_results=f),d&&(u.item_id=d),b&&(u.section=b),w&&(u.term=w),v&&(u.filters=v),R&&(u.fmt_options?u.fmt_options.hidden_fields=R:u.fmt_options={hidden_fields:R}),y&&(u.variations_map=JSON.stringify(y))}u=se.cleanParams(u);var S=se.stringify(u);return"".concat(s,"/recommendations/v1/pods/").concat(se.encodeURIComponentRFC3986(se.trimNonBreakingSpaces(n)),"?").concat(S)}var ti=function(){function n(r){(0,Yr.default)(this,n),this.options=r||{},this.eventDispatcher=new $r(r.eventDispatcher)}return(0,Zr.default)(n,[{key:"getRecommendations",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,se.applyNetworkTimeout(this.options,s,c)}try{o=ei(e,t,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:l}).then(function(u){return u.ok?u.json():se.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),i.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),n}();Ct.exports=ti});var Ft=F((_n,Pe)=>{C();"use strict";var ae=typeof Reflect=="object"?Reflect:null,Rt=ae&&typeof ae.apply=="function"?ae.apply:function(r,e,t){return Function.prototype.apply.call(r,e,t)},Oe;ae&&typeof ae.ownKeys=="function"?Oe=ae.ownKeys:Object.getOwnPropertySymbols?Oe=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Oe=function(r){return Object.getOwnPropertyNames(r)};function ri(n){console&&console.warn&&console.warn(n)}var xt=Number.isNaN||function(r){return r!==r};function P(){P.init.call(this)}Pe.exports=P;Pe.exports.once=si;P.EventEmitter=P;P.prototype._events=void 0;P.prototype._eventsCount=0;P.prototype._maxListeners=void 0;var Tt=10;function Re(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return Tt},set:function(n){if(typeof n!="number"||n<0||xt(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");Tt=n}});P.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};P.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||xt(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function Bt(n){return n._maxListeners===void 0?P.defaultMaxListeners:n._maxListeners}P.prototype.getMaxListeners=function(){return Bt(this)};P.prototype.emit=function(r){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var i=r==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[r];if(l===void 0)return!1;if(typeof l=="function")Rt(l,this,e);else for(var c=l.length,u=Lt(l,c),t=0;t<c;++t)Rt(u[t],this,e);return!0};function Dt(n,r,e,t){var i,s,o;if(Re(e),s=n._events,s===void 0?(s=n._events=Object.create(null),n._eventsCount=0):(s.newListener!==void 0&&(n.emit("newListener",r,e.listener?e.listener:e),s=n._events),o=s[r]),o===void 0)o=s[r]=e,++n._eventsCount;else if(typeof o=="function"?o=s[r]=t?[e,o]:[o,e]:t?o.unshift(e):o.push(e),i=Bt(n),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=r,a.count=o.length,ri(a)}return n}P.prototype.addListener=function(r,e){return Dt(this,r,e,!1)};P.prototype.on=P.prototype.addListener;P.prototype.prependListener=function(r,e){return Dt(this,r,e,!0)};function ii(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ut(n,r,e){var t={fired:!1,wrapFn:void 0,target:n,type:r,listener:e},i=ii.bind(t);return i.listener=e,t.wrapFn=i,i}P.prototype.once=function(r,e){return Re(e),this.on(r,Ut(this,r,e)),this};P.prototype.prependOnceListener=function(r,e){return Re(e),this.prependListener(r,Ut(this,r,e)),this};P.prototype.removeListener=function(r,e){var t,i,s,o,a;if(Re(e),i=this._events,i===void 0)return this;if(t=i[r],t===void 0)return this;if(t===e||t.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete i[r],i.removeListener&&this.emit("removeListener",r,t.listener||e));else if(typeof t!="function"){for(s=-1,o=t.length-1;o>=0;o--)if(t[o]===e||t[o].listener===e){a=t[o].listener,s=o;break}if(s<0)return this;s===0?t.shift():ni(t,s),t.length===1&&(i[r]=t[0]),i.removeListener!==void 0&&this.emit("removeListener",r,a||e)}return this};P.prototype.off=P.prototype.removeListener;P.prototype.removeAllListeners=function(r){var e,t,i;if(t=this._events,t===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[r]),this;if(arguments.length===0){var s=Object.keys(t),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=t[r],typeof e=="function")this.removeListener(r,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(r,e[i]);return this};function It(n,r,e){var t=n._events;if(t===void 0)return[];var i=t[r];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?oi(i):Lt(i,i.length)}P.prototype.listeners=function(r){return It(this,r,!0)};P.prototype.rawListeners=function(r){return It(this,r,!1)};P.listenerCount=function(n,r){return typeof n.listenerCount=="function"?n.listenerCount(r):Nt.call(n,r)};P.prototype.listenerCount=Nt;function Nt(n){var r=this._events;if(r!==void 0){var e=r[n];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}P.prototype.eventNames=function(){return this._eventsCount>0?Oe(this._events):[]};function Lt(n,r){for(var e=new Array(r),t=0;t<r;++t)e[t]=n[t];return e}function ni(n,r){for(;r+1<n.length;r++)n[r]=n[r+1];n.pop()}function oi(n){for(var r=new Array(n.length),e=0;e<r.length;++e)r[e]=n[e].listener||n[e];return r}function si(n,r){return new Promise(function(e,t){function i(o){n.removeListener(r,s),t(o)}function s(){typeof n.removeListener=="function"&&n.removeListener("error",i),e([].slice.call(arguments))}jt(n,r,s,{once:!0}),r!=="error"&&ui(n,i,{once:!0})})}function ui(n,r,e){typeof n.on=="function"&&jt(n,"error",r,e)}function jt(n,r,e,t){if(typeof n.on=="function")t.once?n.once(r,e):n.on(r,e);else if(typeof n.addEventListener=="function")n.addEventListener(r,function i(s){t.once&&n.removeEventListener(r,i),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}});var Pt=F((yn,Mt)=>{C();"use strict";Mt.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot"]});var Vt=F((bn,Gt)=>{C();"use strict";var zt=Z(),ai=zt($()),ci=zt(ee()),ze=Se(),li=Pt(),He=te(),Ge="_constructorio_is_human",Ht=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],fi=function(){function n(){var r=this;(0,ai.default)(this,n),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var e=function t(){r.isHumanBoolean=!0,ze.session.set(Ge,!0),Ht.forEach(function(i){He.removeEventListener(i,t,!0)})};this.isHumanBoolean||Ht.forEach(function(t){He.addEventListener(t,e,!0)})}return(0,ci.default)(n,[{key:"getIsHumanFromSessionStorage",value:function(){return!!ze.session.get(Ge)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!ze.session.get(Ge)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var e=He.getNavigator(),t=e.userAgent,i=e.webdriver,s=new RegExp("(".concat(li.join("|"),")"));return Boolean(t.match(s))||Boolean(i)}}]),n}();Gt.exports=fi});var Wt=F((wn,Jt)=>{C();"use strict";var Kt=Z(),hi=Kt($()),di=Kt(ee()),Ve=Se(),vi=Vt(),Ke=te(),Je="_constructorio_requests",gi=18e4,pi=function(){function n(r,e){var t=this;(0,hi.default)(this,n),this.options=r,this.eventemitter=e,this.humanity=new vi,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(r&&r.sendTrackingEvents===!0),Ke.addEventListener("beforeunload",function(){t.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,di.default)(n,[{key:"queue",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var o=n.get();o.push({url:e,method:t,body:i,networkParameters:s}),n.set(o)}}},{key:"sendEvents",value:function(){var e=this,t=this.options.fetch,i=n.get();if((!Ke.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&i.length){var s,o=i.shift(),a=o,l=a.networkParameters,c,u=this;if(n.set(i),l&&typeof AbortController=="function"){var f=new AbortController;c=f.signal,Ke.applyNetworkTimeout(this.options,l,f)}if(typeof o=="string"&&(o={url:o,method:"GET"}),o.url){var d=o.url.match(/\?.*_dt=([^&]+)/),b=parseInt(d&&d[1],10),w=+new Date;if(b&&Number.isInteger(b)&&w-b>gi){this.sendTrackingEvents=!1,n.remove();return}}o.method==="GET"&&(s=t(o.url,{signal:c})),o.method==="POST"&&(s=t(o.url,{method:o.method,body:JSON.stringify(o.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:c})),s&&(this.requestPending=!0,s.then(function(v){v.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:o.url,method:o.method,message:"ok"}),e.requestPending=!1,e.send()):v.json().then(function(y){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:y&&y.message}),e.requestPending=!1,e.send()}).catch(function(y){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:y.type}),e.requestPending=!1,e.send()})}).catch(function(v){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:v&&v.toString&&v.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return Ve.local.get(Je)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?n.remove():Ve.local.set(Je,e);var t=n.get();Array.isArray(t)&&t.length!==e.length&&(this.sendTrackingEvents=!1,n.remove())}},{key:"remove",value:function(){Ve.local.remove(Je)}}]),n}();Jt.exports=pi});var $t=F((mn,Zt)=>{C();"use strict";var xe=Z(),_i=xe(Fe()),W=xe(ke()),yi=xe($()),bi=xe(ee());function Qt(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,t)}return e}function j(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Qt(Object(e),!0).forEach(function(t){(0,_i.default)(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qt(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var wi=Ft(),I=te(),Xt=Wt();function Q(n,r){var e=r.apiKey,t=r.version,i=r.sessionId,s=r.clientId,o=r.userId,a=r.segments,l=r.testCells,c=r.requestMethod,u=r.beaconMode,f=I.getWindowLocation(),d=f.host,b=f.pathname,w=r.sendReferrerWithTrackingEvents!==!1,v=Object.assign(n);return t&&(v.c=t),s&&(v.i=s),i&&(v.s=i),o&&(v.ui=String(o)),a&&a.length&&(v.us=a),e&&(v.key=e),l&&Object.keys(l).forEach(function(y){v["ef-".concat(y)]=l[y]}),u&&c&&c.match(/POST/i)&&(v.beacon=!0),w&&d&&(v.origin_referrer=d,b&&(v.origin_referrer+=b)),v._dt=Date.now(),v=I.cleanParams(v),v}function K(n,r){return I.stringify(Q(n,r))}var Yt=function(){function n(r){(0,yi.default)(this,n),this.options=r||{},this.eventemitter=new wi,this.requests=new Xt(r,this.eventemitter),this.behavioralV2Url="https://ac.cnstrc.com/v2/behavioral_action/"}return(0,bi.default)(n,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.behavioralV2Url,"session_start?");return this.requests.queue("".concat(t).concat(K({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?"),i={action:"session_start"};return this.requests.queue("".concat(t).concat(K(i,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i="".concat(this.behavioralV2Url,"focus?"),s={},o=t,a=e;(0,W.default)(e)==="object"&&(o=e,a=""),s.user_input=a;var l="POST",c=Q(s,j(j({},this.options),{},{requestMethod:l}));return this.requests.queue("".concat(i).concat(K({},this.options)),l,c,o),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?"),i={action:"focus"};return this.requests.queue("".concat(t).concat(K(i,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},o={},a=e.item_name,l=e.name,c=e.item_id,u=e.customer_id,f=e.customerId,d=f===void 0?u:f,b=e.variation_id,w=e.itemName,v=w===void 0?a||l:w,y=e.itemId,R=y===void 0?c||d:y,S=e.variationId,m=S===void 0?b:S,D=e.url;v&&(o.item_name=v),R&&(o.item_id=R),m&&(o.variation_id=m),D&&(o.url=D);var U="".concat(i).concat(K(s,this.options)),x="POST",g=Q(o,j(j({},this.options),{},{requestMethod:x}));return this.requests.queue(U,x,g,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.behavioralV2Url,"autocomplete_select?"),o=t.original_query,a=t.originalQuery,l=a===void 0?o:a,c=t.user_input,u=t.userInput,f=u===void 0?l||c:u,d=t.original_section,b=t.section,w=b===void 0?d:b,v=t.tr,y=t.group_id,R=t.groupId,S=R===void 0?y:R,m=t.item_id,D=t.itemId,U=D===void 0?m:D,x=t.variation_id,g=t.variationId,T=g===void 0?x:g,p={},q={user_input:f,tr:v,group_id:S,item_id:U,variation_id:T,item_name:e,section:w};w&&(p.section=w);var k="".concat(s).concat(K(p,this.options)),E="POST",M=Q(q,j(j({},this.options),{},{requestMethod:E}));return this.requests.queue(k,E,M,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(I.encodeURIComponentRFC3986(I.trimNonBreakingSpaces(e)),"/select?"),o={},a=t.original_query,l=t.originalQuery,c=l===void 0?a:l,u=t.section,f=t.original_section,d=t.originalSection,b=d===void 0?f:d,w=t.tr,v=t.group_id,y=t.groupId,R=y===void 0?v:y,S=t.display_name,m=t.displayName,D=m===void 0?S:m;return c&&(o.original_query=c),w&&(o.tr=w),(b||u)&&(o.section=b||u),R&&(o.group={group_id:R,display_name:D}),this.requests.queue("".concat(s).concat(K(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.behavioralV2Url,"search_submit?"),o=t.original_query,a=t.originalQuery,l=a===void 0?o:a,c=t.user_input,u=t.userInput,f=u===void 0?l||c:u,d=t.group_id,b=t.groupId,w=b===void 0?d:b,v=t.section,y={},R={user_input:f,search_term:e,section:v};w&&(R.filters={group_id:w}),v&&(y.section=v);var S="".concat(s).concat(K(y,this.options)),m="POST",D=Q(R,j(j({},this.options),{},{requestMethod:m}));return this.requests.queue(S,m,D,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(I.encodeURIComponentRFC3986(I.trimNonBreakingSpaces(e)),"/search?"),o={},a=t.original_query,l=t.originalQuery,c=l===void 0?a:l,u=t.group_id,f=t.groupId,d=f===void 0?u:f,b=t.display_name,w=t.displayName,v=w===void 0?b:w;return c&&(o.original_query=c),d&&(o.group={group_id:d,display_name:v}),this.requests.queue("".concat(s).concat(K(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoadedV2",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.behavioralV2Url,"search_result_load?"),o=t.num_results,a=t.numResults,l=a===void 0?o:a,c=t.result_count,u=t.resultCount,f=u===void 0?l||c:u,d=t.customer_ids,b=t.item_ids,w=t.items,v=w===void 0?d||b:w,y=t.result_page,R=t.resultPage,S=R===void 0?y:R,m=t.result_id,D=t.resultId,U=D===void 0?m:D,x=t.sort_order,g=t.sortOrder,T=g===void 0?x:g,p=t.sort_by,q=t.sortBy,k=q===void 0?p:q,E=t.selected_filters,M=t.selectedFilters,H=M===void 0?E:M,h=t.url,_=t.section,A={},O;v&&Array.isArray(v)&&v.length!==0&&(O=v,typeof v[0]=="string"||typeof v[0]=="number"?O=v.map(function(z){return{item_id:String(z)}}):O=v.map(function(z){return I.toSnakeCaseKeys(z,!1)})),_&&(A.section=_);var N={search_term:e,result_count:f,items:O,result_page:S,result_id:U,sort_order:T,sort_by:k,selected_filters:H,url:h,section:_},B="".concat(s).concat(K(A,this.options)),J="POST",G=Q(N,j(j({},this.options),{},{requestMethod:J}));return this.requests.queue(B,J,G,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/behavior?"),o={action:"search-results",term:e},a=t.num_results,l=t.numResults,c=l===void 0?a:l,u=t.customer_ids,f=t.customerIds,d=f===void 0?u:f,b=t.item_ids,w=t.itemIds,v=w===void 0?b:w,y;return I.isNil(c)||(o.num_results=c),v&&Array.isArray(v)?y=v:d&&Array.isArray(d)&&(y=d),y&&Array.isArray(y)&&y.length&&(o.customer_ids=y.slice(0,100).join(",")),this.requests.queue("".concat(s).concat(K(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.behavioralV2Url,"search_result_click?"),o=t.num_results,a=t.customer_id,l=t.item_id,c=t.itemId,u=c===void 0?a||l:c,f=t.name,d=t.item_name,b=t.itemName,w=b===void 0?f||d:b,v=t.variation_id,y=t.variationId,R=y===void 0?v:y,S=t.result_id,m=t.resultId,D=m===void 0?S:m,U=t.result_count,x=t.resultCount,g=x===void 0?o||U:x,T=t.result_page,p=t.resultPage,q=p===void 0?T:p,k=t.result_position_on_page,E=t.resultPositionOnPage,M=E===void 0?k:E,H=t.num_results_per_page,h=t.numResultsPerPage,_=h===void 0?H:h,A=t.selected_filters,O=t.selectedFilters,N=O===void 0?A:O,B=t.section,J={item_name:w,item_id:u,variation_id:R,result_id:D,result_count:g,result_page:q,result_position_on_page:M,num_results_per_page:_,selected_filters:N,section:B,search_term:e},G={};B&&(G.section=B);var z="".concat(s).concat(K(G,this.options)),X="POST",ce=Q(J,j(j({},this.options),{},{requestMethod:X}));return this.requests.queue(z,X,ce,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(I.encodeURIComponentRFC3986(I.trimNonBreakingSpaces(e)),"/click_through?"),o={},a=t.item_name,l=t.name,c=t.itemName,u=c===void 0?a||l:c,f=t.item_id,d=t.itemId,b=d===void 0?f:d,w=t.customer_id,v=t.customerId,y=v===void 0?w||b:v,R=t.variation_id,S=t.variationId,m=S===void 0?R:S,D=t.result_id,U=t.resultId,x=U===void 0?D:U,g=t.item_is_convertible,T=t.itemIsConvertible,p=T===void 0?g:T,q=t.section;return u&&(o.name=u),y&&(o.customer_id=y),m&&(o.variation_id=m),x&&(o.result_id=x),typeof p=="boolean"&&(o.item_is_convertible=p),q&&(o.section=q),this.requests.queue("".concat(s).concat(K(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&(0,W.default)(t)==="object"&&!Array.isArray(t)){var s=e||"TERM_UNKNOWN",o="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},l={},c=t.name,u=t.item_name,f=t.itemName,d=f===void 0?u||c:f,b=t.customer_id,w=t.customerId,v=w===void 0?b:w,y=t.item_id,R=t.itemId,S=R===void 0?y||v:R,m=t.variation_id,D=t.variationId,U=D===void 0?m:D,x=t.revenue,g=t.section,T=g===void 0?"Products":g,p=t.display_name,q=t.displayName,k=q===void 0?p:q,E=t.type,M=t.is_custom_type,H=t.isCustomType,h=H===void 0?M:H;S&&(l.item_id=S),d&&(l.item_name=d),U&&(l.variation_id=U),x&&(l.revenue=x.toString()),T&&(a.section=T,l.section=T),s&&(l.search_term=s),E&&(l.type=E),h&&(l.is_custom_type=h),k&&(l.display_name=k);var _="".concat(o).concat(K(a,this.options)),A="POST",O=Q(l,j(j({},this.options),{},{requestMethod:A}));return this.requests.queue(_,A,O,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},o={},a=e.items,l=e.revenue,c=e.order_id,u=e.orderId,f=u===void 0?c:u,d=e.section;if(f){if(I.hasOrderIdRecord(f))return!1;I.addOrderIdRecord(f),o.order_id=f}a&&Array.isArray(a)&&(o.items=a.slice(0,100).map(function(y){return I.toSnakeCaseKeys(y,!1)})),l&&(o.revenue=l),d?s.section=d:s.section="Products";var b="".concat(i).concat(K(s,this.options)),w="POST",v=Q(o,j(j({},this.options),{},{requestMethod:w}));return this.requests.queue(b,w,v,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},o=e.result_count,a=e.resultCount,l=a===void 0?o:a,c=e.result_page,u=e.resultPage,f=u===void 0?c:u,d=e.result_id,b=e.resultId,w=b===void 0?d:b,v=e.section,y=e.url,R=e.pod_id,S=e.podId,m=S===void 0?R:S,D=e.num_results_viewed,U=e.numResultsViewed,x=U===void 0?D:U,g=e.items;I.isNil(l)||(s.result_count=l),I.isNil(f)||(s.result_page=f),w&&(s.result_id=w),v?s.section=v:s.section="Products",y&&(s.url=y),m&&(s.pod_id=m),I.isNil(x)||(s.num_results_viewed=x),g&&Array.isArray(g)&&(s.items=g.slice(0,100).map(function(k){return I.toSnakeCaseKeys(k,!1)}));var T="".concat(i).concat(K({},this.options)),p="POST",q=Q(s,j(j({},this.options),{},{requestMethod:p}));return this.requests.queue(T,p,q,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},o=e.variation_id,a=e.variationId,l=a===void 0?o:a,c=e.section,u=c===void 0?"Products":c,f=e.result_id,d=e.resultId,b=d===void 0?f:d,w=e.result_count,v=e.resultCount,y=v===void 0?w:v,R=e.result_page,S=e.resultPage,m=S===void 0?R:S,D=e.result_position_on_page,U=e.resultPositionOnPage,x=U===void 0?D:U,g=e.num_results_per_page,T=e.numResultsPerPage,p=T===void 0?g:T,q=e.pod_id,k=e.podId,E=k===void 0?q:k,M=e.strategy_id,H=e.strategyId,h=H===void 0?M:H,_=e.item_id,A=e.itemId,O=A===void 0?_:A,N=e.item_name,B=e.itemName,J=B===void 0?N:B;l&&(s.variation_id=l),u&&(s.section=u),b&&(s.result_id=b),I.isNil(y)||(s.result_count=y),I.isNil(m)||(s.result_page=m),I.isNil(x)||(s.result_position_on_page=x),I.isNil(p)||(s.num_results_per_page=p),E&&(s.pod_id=E),h&&(s.strategy_id=h),O&&(s.item_id=O),J&&(s.item_name=J);var G="".concat(i).concat(K({},this.options)),z="POST",X=Q(s,j(j({},this.options),{},{requestMethod:z}));return this.requests.queue(G,z,X,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),s={},o=e.section,a=o===void 0?"Products":o,l=e.result_count,c=e.resultCount,u=c===void 0?l:c,f=e.result_page,d=e.resultPage,b=d===void 0?f:d,w=e.result_id,v=e.resultId,y=v===void 0?w:v,R=e.selected_filters,S=e.selectedFilters,m=S===void 0?R:S,D=e.url,U=e.sort_order,x=e.sortOrder,g=x===void 0?U:x,T=e.sort_by,p=e.sortBy,q=p===void 0?T:p,k=e.filter_name,E=e.filterName,M=E===void 0?k:E,H=e.filter_value,h=e.filterValue,_=h===void 0?H:h,A=e.items;a&&(s.section=a),I.isNil(u)||(s.result_count=u),I.isNil(b)||(s.result_page=b),y&&(s.result_id=y),m&&(s.selected_filters=m),D&&(s.url=D),g&&(s.sort_order=g),q&&(s.sort_by=q),M&&(s.filter_name=M),_&&(s.filter_value=_),A&&Array.isArray(A)&&(s.items=A.slice(0,100).map(function(J){return I.toSnakeCaseKeys(J,!1)}));var O="".concat(i).concat(K({},this.options)),N="POST",B=Q(s,j(j({},this.options),{},{requestMethod:N}));return this.requests.queue(O,N,B,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},o=e.section,a=o===void 0?"Products":o,l=e.variation_id,c=e.variationId,u=c===void 0?l:c,f=e.result_id,d=e.resultId,b=d===void 0?f:d,w=e.result_count,v=e.resultCount,y=v===void 0?w:v,R=e.result_page,S=e.resultPage,m=S===void 0?R:S,D=e.result_position_on_page,U=e.resultPositionOnPage,x=U===void 0?D:U,g=e.num_results_per_page,T=e.numResultsPerPage,p=T===void 0?g:T,q=e.selected_filters,k=e.selectedFilters,E=k===void 0?q:k,M=e.filter_name,H=e.filterName,h=H===void 0?M:H,_=e.filter_value,A=e.filterValue,O=A===void 0?_:A,N=e.customer_id,B=e.customerId,J=B===void 0?N:B,G=e.item_id,z=e.itemId,X=z===void 0?J||G:z,ce=e.item_name,dr=e.name,Ye=e.itemName,Ze=Ye===void 0?ce||dr:Ye;a&&(s.section=a),u&&(s.variation_id=u),b&&(s.result_id=b),I.isNil(y)||(s.result_count=y),I.isNil(m)||(s.result_page=m),I.isNil(x)||(s.result_position_on_page=x),I.isNil(p)||(s.num_results_per_page=p),E&&(s.selected_filters=E),h&&(s.filter_name=h),O&&(s.filter_value=O),X&&(s.item_id=X),Ze&&(s.item_name=Ze);var vr="".concat(i).concat(K({},this.options)),$e="POST",gr=Q(s,j(j({},this.options),{},{requestMethod:$e}));return this.requests.queue(vr,$e,gr,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,W.default)(e)==="object"){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},o=e.item_id,a=e.itemId,l=a===void 0?o:a,c=e.item_name,u=e.itemName,f=u===void 0?c:u,d=e.variation_id,b=e.variationId,w=b===void 0?d:b,v=e.section,y=v===void 0?"Products":v;if(l){s.section=y,s.item_id=l,f&&(s.item_name=f),w&&(s.variation_id=w);var R="".concat(i).concat(K({},this.options)),S="POST",m=Q(s,j(j({},this.options),{},{requestMethod:S}));return this.requests.queue(R,S,m,t),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,l=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?l:c,f=e.quiz_session_id,d=e.quizSessionId,b=d===void 0?f:d,w=e.url,v=e.section,y=v===void 0?"Products":v,R=e.result_count,S=e.resultCount,m=S===void 0?R:S,D=e.result_id,U=e.resultId,x=U===void 0?D:U,g=e.result_page,T=e.resultPage,p=T===void 0?g:T,q={},k={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof b!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof w!="string")return new Error('"url" is a required parameter of type string');if(k.quiz_id=a,k.quiz_version_id=u,k.quiz_session_id=b,k.url=w,!I.isNil(y)){if(typeof y!="string")return new Error('"section" must be a string');q.section=y,k.section=y}if(!I.isNil(m)){if(typeof m!="number")return new Error('"resultCount" must be a number');k.result_count=m}if(!I.isNil(x)){if(typeof x!="string")return new Error('"resultId" must be a string');k.result_id=x}if(!I.isNil(p)){if(typeof p!="number")return new Error('"resultPage" must be a number');k.result_page=p}k.action_class="result_load";var E="".concat(i).concat(K(q,this.options)),M="POST",H=Q(k,j(j({},this.options),{},{requestMethod:M}));return this.requests.queue(E,M,H,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,l=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?l:c,f=e.quiz_session_id,d=e.quizSessionId,b=d===void 0?f:d,w=e.item_id,v=e.itemId,y=v===void 0?w:v,R=e.item_name,S=e.itemName,m=S===void 0?R:S,D=e.result_count,U=e.resultCount,x=U===void 0?D:U,g=e.result_id,T=e.resultId,p=T===void 0?g:T,q=e.result_page,k=e.resultPage,E=k===void 0?q:k,M=e.num_results_per_page,H=e.numResultsPerPage,h=H===void 0?M:H,_=e.result_position_on_page,A=e.resultPositionOnPage,O=A===void 0?_:A,N=e.section,B=N===void 0?"Products":N,J={},G={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof b!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string"&&typeof m!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(G.quiz_id=a,G.quiz_version_id=u,G.quiz_session_id=b,!I.isNil(y)){if(typeof y!="string")return new Error('"itemId" must be a string');G.item_id=y}if(!I.isNil(m)){if(typeof m!="string")return new Error('"itemName" must be a string');G.item_name=m}if(!I.isNil(B)){if(typeof B!="string")return new Error('"section" must be a string');J.section=B}if(!I.isNil(x)){if(typeof x!="number")return new Error('"resultCount" must be a number');G.result_count=x}if(!I.isNil(p)){if(typeof p!="string")return new Error('"resultId" must be a string');G.result_id=p}if(!I.isNil(E)){if(typeof E!="number")return new Error('"resultPage" must be a number');G.result_page=E}if(!I.isNil(h)){if(typeof h!="number")return new Error('"numResultsPerPage" must be a number');G.num_results_per_page=h}if(!I.isNil(O)){if(typeof O!="number")return new Error('"resultPositionOnPage" must be a number');G.result_position_on_page=O}G.action_class="result_click";var z="".concat(i).concat(K(J,this.options)),X="POST",ce=Q(G,j(j({},this.options),{},{requestMethod:X}));return this.requests.queue(z,X,ce,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,W.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,l=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?l:c,f=e.quiz_session_id,d=e.quizSessionId,b=d===void 0?f:d,w=e.item_id,v=e.itemId,y=v===void 0?w:v,R=e.item_name,S=e.itemName,m=S===void 0?R:S,D=e.variation_id,U=e.variationId,x=U===void 0?D:U,g=e.revenue,T=e.section,p=T===void 0?"Products":T,q=e.type,k=e.is_custom_type,E=e.isCustomType,M=E===void 0?k:E,H=e.display_name,h=e.displayName,_=h===void 0?H:h,A={},O={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof b!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string"&&typeof m!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(O.quiz_id=a,O.quiz_version_id=u,O.quiz_session_id=b,!I.isNil(y)){if(typeof y!="string")return new Error('"itemId" must be a string');O.item_id=y}if(!I.isNil(m)){if(typeof m!="string")return new Error('"itemName" must be a string');O.item_name=m}if(!I.isNil(x)){if(typeof x!="string")return new Error('"variationId" must be a string');O.variation_id=x}if(!I.isNil(g)){if(typeof g!="string")return new Error('"revenue" must be a string');O.revenue=g}if(!I.isNil(p)){if(typeof p!="string")return new Error('"section" must be a string');O.section=p}if(!I.isNil(q)){if(typeof q!="string")return new Error('"type" must be a string');O.type=q}if(!I.isNil(M)){if(typeof M!="boolean")return new Error('"isCustomType" must be a boolean');O.is_custom_type=M}if(!I.isNil(_)){if(typeof _!="string")return new Error('"displayName" must be a string');O.display_name=_}O.action_class="conversion";var N="".concat(i).concat(K(A,this.options)),B="POST",J=Q(O,j(j({},this.options),{},{requestMethod:B}));return this.requests.queue(N,B,J,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"on",value:function(e,t){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!t||typeof t!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,t),!0)}}]),n}();Yt.RequestQueue=Xt;Zt.exports=Yt});var er=F((kn,mi)=>{mi.exports={name:"@constructor-io/constructorio-client-javascript",version:"2.35.13",description:"Constructor.io JavaScript client",main:"lib/constructorio.js",types:"lib/types/constructorio.d.ts",scripts:{clean:"sudo rm -rf node_modules package-lock.json",version:"npm run verify-node-version && npm run docs && git add ./docs/* && npm run bundle && git add -A ./dist","check-license":"license-checker --production --onlyAllow 'Apache-2.0;BSD-3-Clause;MIT;0BSD;BSD-2-Clause'","verify-node-version":"chmod +x ./scripts/verify-node-version.sh && ./scripts/verify-node-version.sh",lint:"eslint 'src/**/*.js' 'spec/**/*.js' 'src/**/*.d.ts'",test:"npm run compile && mkdir -p test && cp -rf lib/* test && mocha ./spec/*","test:types":"tsd .","test:parallel":"npm run compile && mkdir -p test && cp -rf lib/* test && mocha --parallel ./spec/*","test:src":"mkdir -p test && cp -rf src/* test && mocha ./spec/*","test:src:parallel":"mkdir -p test && cp -rf src/* test && mocha --parallel ./spec/*","test:bundled":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha ./spec/*","test:bundled:parallel":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha --parallel ./spec/*","test:all":"npm run test && npm run test:bundled","test:all:parallel":"npm run test:parallel && npm run test:bundled:parallel",precoverage:"rm -rf ./coverage && rm -rf ./.nyc_output",coverage:"nyc --all --reporter=html npm run test:src",postcoverage:"open coverage/index.html && rm -rf test",docs:"jsdoc --configure ./.jsdoc.json ./README.md --recurse ./src --destination ./docs",compile:"babel src/ -d lib/ --copy-files && rm -rf lib/types/tests",prepublish:"npm run compile",bundle:"rm -rf ./dist/* && npm run compile && node bundle.js",prepare:"husky install"},repository:{type:"git",url:"git+https://github.com/Constructor-io/constructorio-client-javascript.git"},author:"constructor.io",license:"MIT",bugs:{url:"https://github.com/Constructor-io/constructorio-client-javascript/issues"},homepage:"https://github.com/Constructor-io/constructorio-client-javascript#readme",files:["lib/**/*"],devDependencies:{"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/plugin-transform-runtime":"^7.16.4","@babel/preset-env":"^7.15.8","@babel/register":"^7.15.3","@cspell/eslint-plugin":"^6.8.2","@types/events":"^3.0.0","@typescript-eslint/eslint-plugin":"^5.48.1","@typescript-eslint/parser":"^5.48.1",chai:"^4.2.0","chai-as-promised":"^7.1.1",docdash:"^2.0.1",dotenv:"^8.6.0",esbuild:"^0.12.28",eslint:"^8.17.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2",husky:"^7.0.4",jsdoc:"^4.0.2",jsdom:"^16.7.0","license-checker":"^25.0.1","lodash.clonedeep":"^4.5.0",mocha:"^9.1.3",nyc:"^15.1.0",qs:"^6.11.0",sinon:"^7.5.0","sinon-chai":"^3.7.0",tsd:"^0.24.1"},dependencies:{"@constructor-io/constructorio-id":"^2.4.10","crc-32":"^1.2.2",events:"^3.0.0","fetch-ponyfill":"^7.1.0",store2:"^2.14.2"},peerDependencies:{"@babel/runtime":"^7.19.0"},tsd:{directory:"src/types/tests"}}});var We=F((qn,pe)=>{C();function ki(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}pe.exports=ki,pe.exports.__esModule=!0,pe.exports.default=pe.exports});var tr=F((En,_e)=>{C();var qi=We();function Ei(n){if(Array.isArray(n))return qi(n)}_e.exports=Ei,_e.exports.__esModule=!0,_e.exports.default=_e.exports});var rr=F((Sn,ye)=>{C();function Si(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}ye.exports=Si,ye.exports.__esModule=!0,ye.exports.default=ye.exports});var nr=F((An,be)=>{C();var ir=We();function Ai(n,r){if(!!n){if(typeof n=="string")return ir(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ir(n,r)}}be.exports=Ai,be.exports.__esModule=!0,be.exports.default=be.exports});var or=F((Cn,we)=>{C();function Ci(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}we.exports=Ci,we.exports.__esModule=!0,we.exports.default=we.exports});var sr=F((On,me)=>{C();var Oi=tr(),Ri=rr(),xi=nr(),Ti=or();function Bi(n){return Oi(n)||Ri(n)||xi(n)||Ti()}me.exports=Bi,me.exports.__esModule=!0,me.exports.default=me.exports});var cr=F((Rn,ar)=>{C();"use strict";var Te=Z(),Di=Te($()),Ui=Te(ee()),Ii=Te(sr()),Ni=Te(ke()),Li=oe(),ne=te();function ur(n,r,e,t){var i=e.apiKey,s=e.clientId,o=e.sessionId,a=e.segments,l=e.userId,c=e.version,u=e.quizzesServiceUrl,f={c},d="";if(f.key=i,f.i=s,f.s=o,a&&a.length&&(f.us=a),l&&(f.ui=String(l)),!n||typeof n!="string")throw new Error("quizId is a required parameter of type string");if(t==="results"&&((0,Ni.default)(r.answers)!=="object"||!Array.isArray(r.answers)||r.answers.length===0))throw new Error("answers is a required parameter of type array");if(r){var b=r.section,w=r.answers,v=r.quizSessionId,y=r.quizVersionId,R=r.page,S=r.resultsPerPage,m=r.filters;b&&(f.section=b),y&&(f.quiz_version_id=y),v&&(f.quiz_session_id=v),w&&w.length&&(d="&".concat(ne.stringify({a:w.map(function(U){return(0,Ii.default)(U).join(",")})}))),ne.isNil(R)||(f.page=R),ne.isNil(S)||(f.num_results_per_page=S),m&&(f.filters=m)}f._dt=Date.now(),f=ne.cleanParams(f);var D=ne.stringify(f);return"".concat(u,"/v1/quizzes/").concat(encodeURIComponent(n),"/").concat(encodeURIComponent(t),"/?").concat(D).concat(d)}var ji=function(){function n(r){(0,Di.default)(this,n),this.options=r||{},this.eventDispatcher=new Li(r.eventDispatcher)}return(0,Ui.default)(n,[{key:"getQuizNextQuestion",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l=new AbortController,c=l.signal;try{o=ur(e,t,this.options,"next")}catch(u){return Promise.reject(u)}return ne.applyNetworkTimeout(this.options,s,l),a(o,{signal:c}).then(function(u){return u.ok?u.json():ne.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.quiz_version_id)return i.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",u),u;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,l=new AbortController,c=l.signal;try{o=ur(e,t,this.options,"results")}catch(u){return Promise.reject(u)}return ne.applyNetworkTimeout(this.options,s,l),a(o,{signal:c}).then(function(u){return u.ok?u.json():ne.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.quiz_version_id)return i.eventDispatcher.queue("quizzes.getQuizResults.completed",u),u;throw new Error("getQuizResults response data is malformed")})}}]),n}();ar.exports=ji});var Zi=F((xn,hr)=>{C();"use strict";var lr=Z(),Fi=lr($()),Mi=lr(ee()),Pi=it(),zi=nt(),Hi=bt(),Gi=kt(),Vi=St(),Ki=Ot(),fr=$t(),Ji=oe(),Qe=te(),Wi=er(),Qi=Wi.version,Xi=cr(),Yi=function(){var r="ciojs-client-",e=[];return Qe.canUseDOM()||e.push("domless"),typeof L!="undefined"&&typeof L.env!="undefined"&&L.env.BUNDLED&&e.push("bundled"),"".concat(r).concat(e.join("-")).concat(e.length?"-":"").concat(Qi)},Xe=function(){function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Fi.default)(this,n);var e=r.apiKey,t=r.version,i=r.serviceUrl,s=r.quizzesServiceUrl,o=r.segments,a=r.testCells,l=r.clientId,c=r.sessionId,u=r.userId,f=r.fetch,d=r.trackingSendDelay,b=r.sendReferrerWithTrackingEvents,w=r.sendTrackingEvents,v=r.eventDispatcher,y=r.idOptions,R=r.beaconMode,S=r.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var m,D,U=typeof window!="undefined"&&window.CLIENT_VERSION;if(Qe.canUseDOM()){var x=new Pi(y||{});m=x.session_id,D=x.client_id}else{if(!c||typeof c!="number")throw new Error("sessionId is a required user parameter of type number");if(!l||typeof l!="string")throw new Error("clientId is a required user parameter of type string")}this.options={apiKey:e,version:t||U||Yi(),serviceUrl:i&&i.replace(/\/$/,"")||"https://ac.cnstrc.com",quizzesServiceUrl:s&&s.replace(/\/$/,"")||"https://quizzes.cnstrc.com",sessionId:c||m,clientId:l||D,userId:u,segments:o,testCells:a,fetch:f||zi({Promise}).fetch,trackingSendDelay:d,sendTrackingEvents:w,sendReferrerWithTrackingEvents:b,eventDispatcher:v,beaconMode:R!==!1,networkParameters:S||{}},this.search=new Hi(this.options),this.browse=new Gi(this.options),this.autocomplete=new Vi(this.options),this.recommendations=new Ki(this.options),this.tracker=new fr(this.options),this.quizzes=new Xi(this.options),new Ji(r.eventDispatcher).queue("instantiated",this.options)}return(0,Mi.default)(n,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var t=e.apiKey,i=e.segments,s=e.testCells,o=e.userId;t&&(this.options.apiKey=t),i&&(this.options.segments=i),s&&(this.options.testCells=s),o&&(this.options.userId=o)}}}]),n}();Xe.Tracker=fr;Qe.canUseDOM()&&(window.ConstructorioClient=Xe);hr.exports=Xe});Zi();})();
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */
/*! store2 - v2.14.2 - 2022-07-18
* Copyright (c) 2022 Nathan Bubna; Licensed (MIT OR GPL-3.0) */

/*!
 *
 * Constructor.io JavaScript Client, version 2.37.0
 * (c) 2015-2023 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 * ---
 * Includes code from the 'browserify/events' library, licensed under the MIT License.
 * For full license details, see the library documentation.
 *
 */
(()=>{var rt=typeof require!="undefined"?require:n=>{throw new Error('Dynamic require of "'+n+'" is not supported')};var _r=(n,t)=>()=>(n&&(t=n(n=0)),t);var P=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var yr,j,A=_r(()=>{yr={BUNDLED:"true"},j={env:yr}});var Z=P((un,le)=>{A();function br(n){return n&&n.__esModule?n:{default:n}}le.exports=br,le.exports.__esModule=!0,le.exports.default=le.exports});var ee=P((an,fe)=>{A();function wr(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}fe.exports=wr,fe.exports.__esModule=!0,fe.exports.default=fe.exports});var te=P((cn,de)=>{A();function nt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function mr(n,t,e){return t&&nt(n.prototype,t),e&&nt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}de.exports=mr,de.exports.__esModule=!0,de.exports.default=de.exports});var ot=P((ln,De)=>{A();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){"use strict";if(t==null)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null){i=Object(i);for(var s=Object.keys(Object(i)),o=0,a=s.length;a>o;o++){var c=s[o],l=Object.getOwnPropertyDescriptor(i,c);l!==void 0&&l.enumerable&&(e[c]=i[c])}}}return e}});var n=function(t){var e={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,e,t),!this.client_id)if(!this.on_node&&this.persist){var r;this.client_id_storage_location==="cookie"&&(r=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(r=this.get_local_object(this.local_name_client_id)),this.client_id=r||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};n.prototype.set_cookie=function(t,e){if(!this.on_node&&this.persist){var r=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),i=t+"="+e+"; expires="+r.toUTCString()+"; path=/";return this.cookie_domain&&(i+="; domain="+this.cookie_domain),document.cookie=i,i}return null},n.prototype.get_cookie=function(t){for(var e=t+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){var s=r[i];try{for(var o=decodeURIComponent(s);o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}catch(a){}}},n.prototype.delete_cookie=function(t){document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},n.prototype.generate_client_id=function(){var t;if(!this.on_node){var e=this.get_cookie(this.cookie_name_client_id),r=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&r&&(t=r,this.set_cookie(this.cookie_name_client_id,t),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&e&&(t=e,this.set_local_object(this.local_name_client_id,t),this.delete_cookie(this.cookie_name_client_id))}return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,o=i==="x"?s:s&3|8;return o.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,t),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,t)),t},n.prototype.get_local_object=function(t){var e,r=window&&window.localStorage;if(r&&typeof t=="string")try{e=JSON.parse(r.getItem(t))}catch(i){e=r.getItem(t)}return e},n.prototype.set_local_object=function(t,e){var r=window&&window.localStorage;if(r&&typeof t=="string"){if(typeof e=="object")try{r.setItem(t,JSON.stringify(e))}catch(i){}if(typeof e=="string"||typeof e=="number")try{r.setItem(t,e)}catch(i){}}},n.prototype.delete_local_object=function(t){var e=window&&window.localStorage;if(e&&typeof t=="string")try{e.removeItem(t)}catch(r){}},n.prototype.generate_session_id=function(){var t=this.get_cookie(this.cookie_name_session_data),e=this.get_local_object(this.local_name_session_data),r=Date.now(),i=1e3*60*30,s;if(this.session_id_storage_location==="local"&&(s=this.get_local_object(this.local_name_session_data),!s&&t&&(s=t,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){s=this.get_cookie(this.cookie_name_session_data);try{s=JSON.parse(s)}catch(c){}!s&&e&&(s=e,this.delete_local_object(this.local_name_session_data))}var o=1,a=1;return s&&typeof s=="object"&&(a=parseInt(s.sessionId,10)||1,s.lastTime>r-i?o=a:o=a+1),this.session_id=o,this.session_is_new=!(s&&a===o),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,o),this.set_local_object(this.local_name_session_data,{sessionId:o,lastTime:r})),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,o),this.set_cookie(this.cookie_name_session_data,JSON.stringify({sessionId:o,lastTime:r}))),o},typeof De!="undefined"&&typeof rt!="undefined"&&(De.exports=n)})()});var st=P((he,Ue)=>{A();(function(n){"use strict";function t(e){var r=e&&e.Promise||n.Promise,i=e&&e.XMLHttpRequest||n.XMLHttpRequest;return function(){var s=Object.create(n,{fetch:{value:void 0,writable:!0}});return function(o,a){typeof he=="object"&&typeof Ue!="undefined"?a(he):typeof define=="function"&&define.amd?define(["exports"],a):a(o.WHATWGFetch={})}(this,function(o){"use strict";var a=typeof s!="undefined"&&s||typeof self!="undefined"&&self||typeof a!="undefined"&&a,c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(d){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(d){return d&&DataView.prototype.isPrototypeOf(d)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(d){return d&&u.indexOf(Object.prototype.toString.call(d))>-1};function h(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(d)||d==="")throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function b(d){return typeof d!="string"&&(d=String(d)),d}function w(d){var g={next:function(){var S=d.shift();return{done:S===void 0,value:S}}};return c.iterable&&(g[Symbol.iterator]=function(){return g}),g}function v(d){this.map={},d instanceof v?d.forEach(function(g,S){this.append(S,g)},this):Array.isArray(d)?d.forEach(function(g){this.append(g[0],g[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(g){this.append(g,d[g])},this)}v.prototype.append=function(d,g){d=h(d),g=b(g);var S=this.map[d];this.map[d]=S?S+", "+g:g},v.prototype.delete=function(d){delete this.map[h(d)]},v.prototype.get=function(d){return d=h(d),this.has(d)?this.map[d]:null},v.prototype.has=function(d){return this.map.hasOwnProperty(h(d))},v.prototype.set=function(d,g){this.map[h(d)]=b(g)},v.prototype.forEach=function(d,g){for(var S in this.map)this.map.hasOwnProperty(S)&&d.call(g,this.map[S],S,this)},v.prototype.keys=function(){var d=[];return this.forEach(function(g,S){d.push(S)}),w(d)},v.prototype.values=function(){var d=[];return this.forEach(function(g){d.push(g)}),w(d)},v.prototype.entries=function(){var d=[];return this.forEach(function(g,S){d.push([S,g])}),w(d)},c.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function y(d){if(d.bodyUsed)return r.reject(new TypeError("Already read"));d.bodyUsed=!0}function C(d){return new r(function(g,S){d.onload=function(){g(d.result)},d.onerror=function(){S(d.error)}})}function E(d){var g=new FileReader,S=C(g);return g.readAsArrayBuffer(d),S}function k(d){var g=new FileReader,S=C(g);return g.readAsText(d),S}function U(d){for(var g=new Uint8Array(d),S=new Array(g.length),R=0;R<g.length;R++)S[R]=String.fromCharCode(g[R]);return S.join("")}function I(d){if(d.slice)return d.slice(0);var g=new Uint8Array(d.byteLength);return g.set(new Uint8Array(d)),g.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(d){this.bodyUsed=this.bodyUsed,this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:c.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:c.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():c.arrayBuffer&&c.blob&&l(d)?(this._bodyArrayBuffer=I(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||f(d))?this._bodyArrayBuffer=I(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var d=y(this);if(d)return d;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var d=y(this);return d||(ArrayBuffer.isView(this._bodyArrayBuffer)?r.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):r.resolve(this._bodyArrayBuffer))}else return this.blob().then(E)}),this.text=function(){var d=y(this);if(d)return d;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(U(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(d){var g=d.toUpperCase();return p.indexOf(g)>-1?g:d}function _(d,g){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');g=g||{};var S=g.body;if(d instanceof _){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,g.headers||(this.headers=new v(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!S&&d._bodyInit!=null&&(S=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new v(g.headers)),this.method=T(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(S),(this.method==="GET"||this.method==="HEAD")&&(g.cache==="no-store"||g.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var N=/\?/;this.url+=(N.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function q(d){var g=new FormData;return d.trim().split("&").forEach(function(S){if(S){var R=S.split("="),N=R.shift().replace(/\+/g," "),D=R.join("=").replace(/\+/g," ");g.append(decodeURIComponent(N),decodeURIComponent(D))}}),g}function O(d){var g=new v,S=d.replace(/\r?\n[\t ]+/g," ");return S.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var N=R.split(":"),D=N.shift().trim();if(D){var K=N.join(":").trim();g.append(D,K)}}),g}x.call(_.prototype);function m(d,g){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"",this.headers=new v(g.headers),this.url=g.url||"",this._initBody(d)}x.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},m.error=function(){var d=new m(null,{status:0,statusText:""});return d.type="error",d};var M=[301,302,303,307,308];m.redirect=function(d,g){if(M.indexOf(g)===-1)throw new RangeError("Invalid status code");return new m(null,{status:g,headers:{location:d}})},o.DOMException=a.DOMException;try{new o.DOMException}catch(d){o.DOMException=function(g,S){this.message=g,this.name=S;var R=Error(g);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function H(d,g){return new r(function(S,R){var N=new _(d,g);if(N.signal&&N.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var D=new i;function K(){D.abort()}D.onload=function(){var L={status:D.status,statusText:D.statusText,headers:O(D.getAllResponseHeaders()||"")};L.url="responseURL"in D?D.responseURL:L.headers.get("X-Request-URL");var X="response"in D?D.response:D.responseText;setTimeout(function(){S(new m(X,L))},0)},D.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},D.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function Y(L){try{return L===""&&a.location.href?a.location.href:L}catch(X){return L}}D.open(N.method,Y(N.url),!0),N.credentials==="include"?D.withCredentials=!0:N.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(c.blob?D.responseType="blob":c.arrayBuffer&&N.headers.get("Content-Type")&&N.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(D.responseType="arraybuffer")),g&&typeof g.headers=="object"&&!(g.headers instanceof v)?Object.getOwnPropertyNames(g.headers).forEach(function(L){D.setRequestHeader(L,b(g.headers[L]))}):N.headers.forEach(function(L,X){D.setRequestHeader(X,L)}),N.signal&&(N.signal.addEventListener("abort",K),D.onreadystatechange=function(){D.readyState===4&&N.signal.removeEventListener("abort",K)}),D.send(typeof N._bodyInit=="undefined"?null:N._bodyInit)})}H.polyfill=!0,a.fetch||(a.fetch=H,a.Headers=v,a.Request=_,a.Response=m),o.Headers=v,o.Request=_,o.Response=m,o.fetch=H,Object.defineProperty(o,"__esModule",{value:!0})}),{fetch:s.fetch,Headers:s.Headers,Request:s.Request,Response:s.Response,DOMException:s.DOMException}}()}typeof define=="function"&&define.amd?define(function(){return t}):typeof he=="object"?Ue.exports=t:n.fetchPonyfill=t})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:he)});var ve=P((fn,ie)=>{A();function Ie(n){return ie.exports=Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie.exports.__esModule=!0,ie.exports.default=ie.exports,Ie(n)}ie.exports=Ie,ie.exports.__esModule=!0,ie.exports.default=ie.exports});var at=P(Ne=>{A();var ut;(function(n){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof Ne=="object"?n(Ne):typeof define=="function"&&define.amd?define(function(){var t={};return n(t),t}):n(ut={}):n(ut={})})(function(n){n.version="1.2.2";function t(){for(var p=0,T=new Array(256),_=0;_!=256;++_)p=_,p=p&1?-306674912^p>>>1:p>>>1,p=p&1?-306674912^p>>>1:p>>>1,p=p&1?-306674912^p>>>1:p>>>1,p=p&1?-306674912^p>>>1:p>>>1,p=p&1?-306674912^p>>>1:p>>>1,p=p&1?-306674912^p>>>1:p>>>1,p=p&1?-306674912^p>>>1:p>>>1,p=p&1?-306674912^p>>>1:p>>>1,T[_]=p;return typeof Int32Array!="undefined"?new Int32Array(T):T}var e=t();function r(p){var T=0,_=0,q=0,O=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)O[q]=p[q];for(q=0;q!=256;++q)for(_=p[q],T=256+q;T<4096;T+=256)_=O[T]=_>>>8^p[_&255];var m=[];for(q=1;q!=16;++q)m[q-1]=typeof Int32Array!="undefined"?O.subarray(q*256,q*256+256):O.slice(q*256,q*256+256);return m}var i=r(e),s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],f=i[6],h=i[7],b=i[8],w=i[9],v=i[10],y=i[11],C=i[12],E=i[13],k=i[14];function U(p,T){for(var _=T^-1,q=0,O=p.length;q<O;)_=_>>>8^e[(_^p.charCodeAt(q++))&255];return~_}function I(p,T){for(var _=T^-1,q=p.length-15,O=0;O<q;)_=k[p[O++]^_&255]^E[p[O++]^_>>8&255]^C[p[O++]^_>>16&255]^y[p[O++]^_>>>24]^v[p[O++]]^w[p[O++]]^b[p[O++]]^h[p[O++]]^f[p[O++]]^u[p[O++]]^l[p[O++]]^c[p[O++]]^a[p[O++]]^o[p[O++]]^s[p[O++]]^e[p[O++]];for(q+=15;O<q;)_=_>>>8^e[(_^p[O++])&255];return~_}function x(p,T){for(var _=T^-1,q=0,O=p.length,m=0,M=0;q<O;)m=p.charCodeAt(q++),m<128?_=_>>>8^e[(_^m)&255]:m<2048?(_=_>>>8^e[(_^(192|m>>6&31))&255],_=_>>>8^e[(_^(128|m&63))&255]):m>=55296&&m<57344?(m=(m&1023)+64,M=p.charCodeAt(q++)&1023,_=_>>>8^e[(_^(240|m>>8&7))&255],_=_>>>8^e[(_^(128|m>>2&63))&255],_=_>>>8^e[(_^(128|M>>6&15|(m&3)<<4))&255],_=_>>>8^e[(_^(128|M&63))&255]):(_=_>>>8^e[(_^(224|m>>12&15))&255],_=_>>>8^e[(_^(128|m>>6&63))&255],_=_>>>8^e[(_^(128|m&63))&255]);return~_}n.table=e,n.bstr=U,n.buf=I,n.str=x})});var ct=P((qe,Ee)=>{A();(function(n,t){var e={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(i,s){for(var o in i)s.hasOwnProperty(o)||Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(i,o));return s},stringify:function(i,s){return i===void 0||typeof i=="function"?i+"":JSON.stringify(i,s||e.replace)},parse:function(i,s){try{return JSON.parse(i,s||e.revive)}catch(o){return i}},fn:function(i,s){e.storeAPI[i]=s;for(var o in e.apis)e.apis[o][i]=s},get:function(i,s){return i.getItem(s)},set:function(i,s,o){i.setItem(s,o)},remove:function(i,s){i.removeItem(s)},key:function(i,s){return i.key(s)},length:function(i){return i.length},clear:function(i){i.clear()},Store:function(i,s,o){var a=e.inherit(e.storeAPI,function(l,u,f){return arguments.length===0?a.getAll():typeof u=="function"?a.transact(l,u,f):u!==void 0?a.set(l,u,f):typeof l=="string"||typeof l=="number"?a.get(l):typeof l=="function"?a.each(l):l?a.setAll(l,u):a.clear()});a._id=i;try{var c="__store2_test";s.setItem(c,"ok"),a._area=s,s.removeItem(c)}catch(l){a._area=e.storage("fake")}return a._ns=o||"",e.areas[i]||(e.areas[i]=a._area),e.apis[a._ns+a._id]||(e.apis[a._ns+a._id]=a),a},storeAPI:{area:function(i,s){var o=this[i];return(!o||!o.area)&&(o=e.Store(i,s,this._ns),this[i]||(this[i]=o)),o},namespace:function(i,s,o){if(o=o||this._delim||e.nsdelim,!i)return this._ns?this._ns.substring(0,this._ns.length-o.length):"";var a=i,c=this[a];if((!c||!c.namespace)&&(c=e.Store(this._id,this._area,this._ns+a+o),c._delim=o,this[a]||(this[a]=c),!s))for(var l in e.areas)c.area(l,e.areas[l]);return c},isFake:function(i){return i?(this._real=this._area,this._area=e.storage("fake")):i===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(i){return this._area.has?this._area.has(this._in(i)):this._in(i)in this._area},size:function(){return this.keys().length},each:function(i,s){for(var o=0,a=e.length(this._area);o<a;o++){var c=this._out(e.key(this._area,o));if(c!==void 0&&i.call(this,c,this.get(c),s)===!1)break;a>e.length(this._area)&&(a--,o--)}return s||this},keys:function(i){return this.each(function(s,o,a){a.push(s)},i||[])},get:function(i,s){var o=e.get(this._area,this._in(i)),a;return typeof s=="function"&&(a=s,s=null),o!==null?e.parse(o,a):s??o},getAll:function(i){return this.each(function(s,o,a){a[s]=o},i||{})},transact:function(i,s,o){var a=this.get(i,o),c=s(a);return this.set(i,c===void 0?a:c),this},set:function(i,s,o){var a=this.get(i),c;return a!=null&&o===!1?s:(typeof o=="function"&&(c=o,o=void 0),e.set(this._area,this._in(i),e.stringify(s,c),o)||a)},setAll:function(i,s){var o,a;for(var c in i)a=i[c],this.set(c,a,s)!==a&&(o=!0);return o},add:function(i,s,o){var a=this.get(i);if(a instanceof Array)s=a.concat(s);else if(a!==null){var c=typeof a;if(c===typeof s&&c==="object"){for(var l in s)a[l]=s[l];s=a}else s=a+s}return e.set(this._area,this._in(i),e.stringify(s,o)),s},remove:function(i,s){var o=this.get(i,s);return e.remove(this._area,this._in(i)),o},clear:function(){return this._ns?this.each(function(i){e.remove(this._area,this._in(i))},1):e.clear(this._area),this},clearAll:function(){var i=this._area;for(var s in e.areas)e.areas.hasOwnProperty(s)&&(this._area=e.areas[s],this.clear());return this._area=i,this},_in:function(i){return typeof i!="string"&&(i=e.stringify(i)),this._ns?this._ns+i:i},_out:function(i){return this._ns?i&&i.indexOf(this._ns)===0?i.substring(this._ns.length):void 0:i}},storage:function(i){return e.inherit(e.storageAPI,{items:{},name:i})},storageAPI:{length:0,has:function(i){return this.items.hasOwnProperty(i)},key:function(i){var s=0;for(var o in this.items)if(this.has(o)&&i===s++)return o},setItem:function(i,s){this.has(i)||this.length++,this.items[i]=s},removeItem:function(i){this.has(i)&&(delete this.items[i],this.length--)},getItem:function(i){return this.has(i)?this.items[i]:null},clear:function(){for(var i in this.items)this.removeItem(i)}}},r=e.Store("local",function(){try{return localStorage}catch(i){}}());r.local=r,r._=e,r.area("session",function(){try{return sessionStorage}catch(i){}}()),r.area("page",e.storage("page")),typeof t=="function"&&t.amd!==void 0?t("store2",[],function(){return r}):typeof Ee!="undefined"&&Ee.exports?Ee.exports=r:(n.store&&(e.conflict=n.store),n.store=r)})(qe,qe&&qe.define)});var ft=P((hn,lt)=>{A();"use strict";lt.exports=function(n,t){var e=t.set,r=t.get,i=t.remove,s=t.key,o=t.length,a=t.clear;t.overflow=function(c,l){var u=c===t.areas.local?"+local+":c===t.areas.session?"+session+":!1;if(u){var f=t.areas[u];return l&&!f?f=n.area(u)._area:l===!1&&(delete t.areas[u],delete n[u]),f}},t.set=function(c,l,u){try{e.apply(this,arguments)}catch(f){if(f.name==="QUOTA_EXCEEDED_ERR"||f.name==="NS_ERROR_DOM_QUOTA_REACHED"||f.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||f.toString().indexOf("QuotaExceededError")!==-1)return t.set(t.overflow(c,!0),l,u);throw f}},t.get=function(c,l){var u=t.overflow(c);return u&&r.call(this,u,l)||r.apply(this,arguments)},t.remove=function(c,l){var u=t.overflow(c);u&&i.call(this,u,l),i.apply(this,arguments)},t.key=function(c,l){var u=t.overflow(c);if(u){var f=o.call(this,c);if(l>=f){l=l-f;for(var h=0,b=o.call(this,u);h<b;h++)if(h===l)return s.call(this,u,h)}}return s.apply(this,arguments)},t.length=function(c){var l=o(c),u=t.overflow(c);return u?l+o(u):l},t.clear=function(c){t.overflow(c,!1),a.apply(this,arguments)}}});var Se=P((vn,dt)=>{A();"use strict";var Le=ct(),kr=ft();kr(Le,Le._);dt.exports=Le});var $=P((gn,gt)=>{A();"use strict";var qr=Z(),ht=qr(ve()),vt=at(),je=Se(),Fe="_constructorio_purchase_order_ids",Er={email:/^[\w\-+\\.]+@([\w-]+\.)+[\w-]{2,4}$/,phoneNumber:/^(?:\+\d{11,12}|\+\d{1,3}\s\d{3}\s\d{3}\s\d{3,4}|\(\d{3}\)\d{7}|\(\d{3}\)\s\d{3}\s\d{4}|\(\d{3}\)\d{3}-\d{4}|\(\d{3}\)\s\d{3}-\d{4})$/,creditCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$/},W={trimNonBreakingSpaces:function(t){return t.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(t){var e={};return Object.keys(t).forEach(function(r){var i=t[r];typeof i=="string"?e[r]=W.trimNonBreakingSpaces(i):e[r]=i}),e},throwHttpErrorFromResponse:function(t,e){return e.json().then(function(r){throw t.message=r.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,t.headers=e.headers,t})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(t,e,r){W.canUseDOM()&&window.addEventListener(t,e,r)},removeEventListener:function(t,e,r){W.canUseDOM()&&window.removeEventListener(t,e,r)},getNavigator:function(){return W.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(t){return t==null},getWindowLocation:function(){return W.canUseDOM()?window.location:{}},dispatchEvent:function(t){W.canUseDOM()&&window.dispatchEvent(t)},createCustomEvent:function(t,e){if(W.canUseDOM())try{return new window.CustomEvent(t,{detail:e})}catch(i){var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!1,e),r}return null},hasOrderIdRecord:function(t){var e=vt.str(t.toString()),r=je.local.get(Fe);return typeof r=="string"&&(r=JSON.parse(r)),r&&r.includes(e)?!0:null},addOrderIdRecord:function(t){var e=vt.str(t.toString()),r=je.local.get(Fe);if(typeof r=="string"&&(r=JSON.parse(r)),r){if(r.includes(e))return;r.length>=10&&(r=r.slice(-9)),r.push(e)}else r=[e];je.local.set(Fe,r)},applyNetworkTimeout:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=t&&t.networkParameters&&t.networkParameters.timeout,s=e&&e.timeout,o=s||i;typeof o=="number"&&r&&setTimeout(function(){return r.abort()},o)},stringify:function(t,e,r){if(!t)return"";var i=[];return Object.keys(t).forEach(function(s){var o=t[s],a=W.encodeURIComponentRFC3986(s),c;if(o!=null){var l=e?"".concat(e,"%5B").concat(a,"%5D"):a;Array.isArray(o)?c=W.stringify(o,l,"array"):(0,ht.default)(o)==="object"?c=W.stringify(o,l,"object"):r==="object"?c="".concat(l,"=").concat(W.encodeURIComponentRFC3986(o)):c="".concat(e||a,"=").concat(W.encodeURIComponentRFC3986(o)),i.push(c)}}),i.join("&")},toSnakeCase:function(t){return t.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r={};return Object.keys(t).forEach(function(i){var s=W.toSnakeCase(i);r[s]=e&&(0,ht.default)(t[i])==="object"&&!Array.isArray(t[i])?W.toSnakeCaseKeys(t[i],e):t[i]}),r},containsPii:function(t){var e=Object.values(Er),r=t.toLowerCase();return e.some(function(i){return i.test(r)})},requestContainsPii:function(t){try{var e,r,i=new URL(t),s=(e=decodeURI(i==null?void 0:i.pathname))===null||e===void 0?void 0:e.split("/"),o=(r=decodeURIComponent(i==null?void 0:i.search))===null||r===void 0?void 0:r.split("&").map(function(a){var c;return a==null||(c=a.split("="))===null||c===void 0?void 0:c[1]});if(s.some(function(a){return W.containsPii(a)})||o.some(function(a){return W.containsPii(a)}))return!0}catch(a){}return!1}};gt.exports=W});var oe=P((pn,_t)=>{A();"use strict";var pt=Z(),Sr=pt(ee()),Ar=pt(te()),Ae=$(),Cr=function(){function n(t){var e=this;(0,Sr.default)(this,n),this.events=[],this.enabled=!(t&&t.enabled===!1),this.waitForBeacon=!(t&&t.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,Ae.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),Ae.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,Ar.default)(n,[{key:"queue",value:function(e,r){this.events.push({name:e,data:r}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),r=e.name,i=e.data,s="cio.client.".concat(r);Ae.dispatchEvent(Ae.createCustomEvent(s,i))}}}]),n}();_t.exports=Cr});var mt=P((_n,wt)=>{A();"use strict";var yt=Z(),Or=yt(ee()),Rr=yt(te()),xr=oe(),re=$();function bt(n,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e.apiKey,s=e.version,o=e.serviceUrl,a=e.sessionId,c=e.clientId,l=e.userId,u=e.segments,f=e.testCells,h={c:s};if(h.key=i,h.i=c,h.s=a,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(f&&Object.keys(f).forEach(function(m){h["ef-".concat(m)]=f[m]}),u&&u.length&&(h.us=u),l&&(h.ui=String(l)),t){var b=t.offset,w=t.page,v=t.resultsPerPage,y=t.filters,C=t.sortBy,E=t.sortOrder,k=t.section,U=t.fmtOptions,I=t.hiddenFields,x=t.hiddenFacets,p=t.variationsMap,T=t.qsParam,_=t.preFilterExpression;re.isNil(b)||(h.offset=b),re.isNil(w)||(h.page=w),re.isNil(v)||(h.num_results_per_page=v),y&&(h.filters=y),C&&(h.sort_by=C),E&&(h.sort_order=E),k&&(h.section=k),U&&(h.fmt_options=U),I&&(h.fmt_options?h.fmt_options.hidden_fields=I:h.fmt_options={hidden_fields:I}),x&&(h.fmt_options?h.fmt_options.hidden_facets=x:h.fmt_options={hidden_facets:x}),p&&(h.variations_map=JSON.stringify(p)),_&&(h.pre_filter_expression=JSON.stringify(_)),T&&(h.qs=JSON.stringify(T))}h._dt=Date.now(),h=re.cleanParams(h);var q=re.stringify(h),O=r?"search/natural_language":"search";return"".concat(o,"/").concat(O,"/").concat(re.encodeURIComponentRFC3986(re.trimNonBreakingSpaces(n)),"?").concat(q)}var Tr=function(){function n(t){(0,Or.default)(this,n),this.options=t||{},this.eventDispatcher=new xr(t.eventDispatcher)}return(0,Rr.default)(n,[{key:"getSearchResults",value:function(e,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c;if(typeof AbortController=="function"){var l=new AbortController;c=l&&l.signal,re.applyNetworkTimeout(this.options,s,l)}try{o=bt(e,r,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():re.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),i.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return i.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c;if(typeof AbortController=="function"){var l=new AbortController;c=l&&l.signal,re.applyNetworkTimeout(this.options,s,l)}try{var u=!0;o=bt(e,r,this.options,u)}catch(f){return Promise.reject(f)}return a(o,{signal:c}).then(function(f){return f.ok?f.json():re.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(h){h.result_id=f.result_id}),i.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;if(f.response&&f.response.redirect)return i.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;throw new Error("getVoiceSearchResults response data is malformed")})}}]),n}();wt.exports=Tr});var Pe=P((yn,ge)=>{A();function Br(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}ge.exports=Br,ge.exports.__esModule=!0,ge.exports.default=ge.exports});var Et=P((bn,qt)=>{A();"use strict";var Me=Z(),Dr=Me(ee()),Ur=Me(te()),Ir=Me(Pe());function kt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ce(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kt(Object(e),!0).forEach(function(r){(0,Ir.default)(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):kt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var Nr=oe(),G=$();function pe(n,t){var e=t.apiKey,r=t.version,i=t.sessionId,s=t.clientId,o=t.userId,a=t.segments,c=t.testCells,l={c:r};if(l.key=e,l.i=s,l.s=i,c&&Object.keys(c).forEach(function(p){l["ef-".concat(p)]=c[p]}),a&&a.length&&(l.us=a),o&&(l.ui=String(o)),n){var u=n.page,f=n.offset,h=n.resultsPerPage,b=n.filters,w=n.sortBy,v=n.sortOrder,y=n.section,C=n.fmtOptions,E=n.hiddenFields,k=n.hiddenFacets,U=n.variationsMap,I=n.qsParam,x=n.preFilterExpression;G.isNil(u)||(l.page=u),G.isNil(f)||(l.offset=f),G.isNil(h)||(l.num_results_per_page=h),b&&(l.filters=b),w&&(l.sort_by=w),v&&(l.sort_order=v),y&&(l.section=y),C&&(l.fmt_options=C),E&&(l.fmt_options?l.fmt_options.hidden_fields=E:l.fmt_options={hidden_fields:E}),k&&(l.fmt_options?l.fmt_options.hidden_facets=k:l.fmt_options={hidden_facets:k}),U&&(l.variations_map=JSON.stringify(U)),x&&(l.pre_filter_expression=JSON.stringify(x)),I&&(l.qs=JSON.stringify(I))}return l._dt=Date.now(),l=G.cleanParams(l),l}function Lr(n,t,e,r){var i=r.serviceUrl;if(!n||typeof n!="string")throw new Error("filterName is a required parameter of type string");if(!t||typeof t!="string")throw new Error("filterValue is a required parameter of type string");var s=pe(e,r),o=G.stringify(s);return"".concat(i,"/browse/").concat(G.encodeURIComponentRFC3986(G.trimNonBreakingSpaces(n)),"/").concat(G.encodeURIComponentRFC3986(G.trimNonBreakingSpaces(t)),"?").concat(o)}function jr(n,t,e){var r=e.serviceUrl;if(!n||!Array.isArray(n)||!n.length)throw new Error("ids is a required parameter of type array");var i=Ce(Ce({},pe(t,e)),{},{ids:n}),s=G.stringify(i);return"".concat(r,"/browse/items?").concat(s)}function Fr(n,t){var e=t.serviceUrl,r=Ce({},pe(n,t));delete r._dt;var i=G.stringify(r);return"".concat(e,"/browse/facets?").concat(i)}function Pr(n,t,e){var r=e.serviceUrl;if(!n||typeof n!="string")throw new Error("facetName is a required parameter of type string");var i=Ce({},pe(t,e));i.facet_name=n,delete i._dt;var s=G.stringify(i);return"".concat(r,"/browse/facet_options?").concat(s)}var Mr=function(){function n(t){(0,Dr.default)(this,n),this.options=t||{},this.eventDispatcher=new Nr(t.eventDispatcher)}return(0,Ur.default)(n,[{key:"getBrowseResults",value:function(e,r,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a,c=this.options.fetch,l;if(typeof AbortController=="function"){var u=new AbortController;l=u&&u.signal,G.applyNetworkTimeout(this.options,o,u)}try{a=Lr(e,r,i,this.options)}catch(f){return Promise.reject(f)}return c(a,{signal:l}).then(function(f){return f.ok?f.json():G.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(h){h.result_id=f.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",f),f;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c;if(typeof AbortController=="function"){var l=new AbortController;c=l&&l.signal,G.applyNetworkTimeout(this.options,s,l)}try{o=jr(e,r,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():G.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),i.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options.fetch,o=this.options.serviceUrl,a=pe(e,this.options),c;if(typeof AbortController=="function"){var l=new AbortController;c=l&&l.signal,G.applyNetworkTimeout(this.options,i,l)}delete a._dt;var u=G.stringify(a),f="".concat(o,"/browse/groups?").concat(u);return s(f,{signal:c}).then(function(h){return h.ok?h.json():G.throwHttpErrorFromResponse(new Error,h)}).then(function(h){if(h.response&&h.response.groups)return r.eventDispatcher.queue("browse.getBrowseGroups.completed",h),h;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,r){var i=this,s,o=this.options.fetch,a;if(typeof AbortController=="function"){var c=new AbortController;a=c&&c.signal,G.applyNetworkTimeout(this.options,r,c)}try{s=Fr(e,this.options)}catch(l){return Promise.reject(l)}return o(s,{signal:a}).then(function(l){return l.ok?l.json():G.throwHttpErrorFromResponse(new Error,l)}).then(function(l){if(l.response&&l.response.facets)return i.eventDispatcher.queue("browse.getBrowseFacets.completed",l),l;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c;if(typeof AbortController=="function"){var l=new AbortController;c=l&&l.signal,G.applyNetworkTimeout(this.options,s,l)}try{o=Pr(e,i,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():G.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.facets)return r.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),n}();qt.exports=Mr});var Ct=P((wn,At)=>{A();"use strict";var St=Z(),zr=St(ee()),Hr=St(te()),Gr=oe(),ae=$(),Vr=ae.throwHttpErrorFromResponse,Kr=ae.cleanParams,Jr=ae.applyNetworkTimeout,Wr=ae.trimNonBreakingSpaces,Qr=ae.encodeURIComponentRFC3986,Xr=ae.stringify;function Yr(n,t,e){var r=e.apiKey,i=e.version,s=e.serviceUrl,o=e.sessionId,a=e.clientId,c=e.userId,l=e.segments,u=e.testCells,f={c:i};if(f.key=r,f.i=a,f.s=o,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(k){f["ef-".concat(k)]=u[k]}),l&&l.length&&(f.us=l),c&&(f.ui=String(c)),t){var h=t.numResults,b=t.resultsPerSection,w=t.filters,v=t.hiddenFields,y=t.variationsMap;h&&(f.num_results=h),b&&Object.keys(b).forEach(function(k){f["num_results_".concat(k)]=b[k]}),w&&(f.filters=w),v&&(f.fmt_options?f.fmt_options.hidden_fields=v:f.fmt_options={hidden_fields:v}),y&&(f.variations_map=JSON.stringify(y))}f._dt=Date.now(),f=Kr(f);var C=Xr(f),E=n.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(Qr(Wr(E)),"?").concat(C)}var Zr=function(){function n(t){(0,zr.default)(this,n),this.options=t||{},this.eventDispatcher=new Gr(t.eventDispatcher)}return(0,Hr.default)(n,[{key:"getAutocompleteResults",value:function(e,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c;if(typeof AbortController=="function"){var l=new AbortController;c=l&&l.signal,Jr(this.options,s,l)}try{o=Yr(e,r,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():Vr(new Error,u)}).then(function(u){if(u.sections){if(u.result_id){var f=Object.keys(u.sections);f.forEach(function(h){var b=u.sections[h];b.length&&b.forEach(function(w){w.result_id=u.result_id})})}return i.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),n}();At.exports=Zr});var xt=P((mn,Rt)=>{A();"use strict";var Ot=Z(),$r=Ot(ee()),ei=Ot(te()),ti=oe(),se=$();function ri(n,t,e){var r=e.apiKey,i=e.version,s=e.serviceUrl,o=e.sessionId,a=e.userId,c=e.clientId,l=e.segments,u={c:i};if(u.key=r,u.i=c,u.s=o,!n||typeof n!="string")throw new Error("podId is a required parameter of type string");if(l&&l.length&&(u.us=l),a&&(u.ui=String(a)),t){var f=t.numResults,h=t.itemIds,b=t.section,w=t.term,v=t.filters,y=t.variationsMap,C=t.hiddenFields;se.isNil(f)||(u.num_results=f),h&&(u.item_id=h),b&&(u.section=b),w&&(u.term=w),v&&(u.filters=v),C&&(u.fmt_options?u.fmt_options.hidden_fields=C:u.fmt_options={hidden_fields:C}),y&&(u.variations_map=JSON.stringify(y))}u=se.cleanParams(u);var E=se.stringify(u);return"".concat(s,"/recommendations/v1/pods/").concat(se.encodeURIComponentRFC3986(se.trimNonBreakingSpaces(n)),"?").concat(E)}var ii=function(){function n(t){(0,$r.default)(this,n),this.options=t||{},this.eventDispatcher=new ti(t.eventDispatcher)}return(0,ei.default)(n,[{key:"getRecommendations",value:function(e,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c;if(typeof AbortController=="function"){var l=new AbortController;c=l&&l.signal,se.applyNetworkTimeout(this.options,s,l)}try{o=ri(e,r,this.options)}catch(u){return Promise.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():se.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),i.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),n}();Rt.exports=ii});var Mt=P((kn,He)=>{A();"use strict";var ni=Z(),ze=ni(ve()),ce=(typeof Reflect=="undefined"?"undefined":(0,ze.default)(Reflect))==="object"?Reflect:null,Tt=ce&&typeof ce.apply=="function"?ce.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},Oe;ce&&typeof ce.ownKeys=="function"?Oe=ce.ownKeys:Object.getOwnPropertySymbols?Oe=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Oe=function(t){return Object.getOwnPropertyNames(t)};function oi(n){console&&console.warn&&console.warn(n)}var Bt=Number.isNaN||function(t){return t!==t};function z(){z.init.call(this)}He.exports=z;He.exports.once=ci;z.EventEmitter=z;z.prototype._events=void 0;z.prototype._eventsCount=0;z.prototype._maxListeners=void 0;var Dt=10;function Re(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,ze.default)(n))}Object.defineProperty(z,"defaultMaxListeners",{enumerable:!0,get:function(){return Dt},set:function(t){if(typeof t!="number"||t<0||Bt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Dt=t}});z.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};z.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Bt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ut(n){return n._maxListeners===void 0?z.defaultMaxListeners:n._maxListeners}z.prototype.getMaxListeners=function(){return Ut(this)};z.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")Tt(c,this,e);else for(var l=c.length,u=Ft(c,l),r=0;r<l;++r)Tt(u[r],this,e);return!0};function It(n,t,e,r){var i,s,o;if(Re(e),s=n._events,s===void 0?(s=n._events=Object.create(null),n._eventsCount=0):(s.newListener!==void 0&&(n.emit("newListener",t,e.listener?e.listener:e),s=n._events),o=s[t]),o===void 0)o=s[t]=e,++n._eventsCount;else if(typeof o=="function"?o=s[t]=r?[e,o]:[o,e]:r?o.unshift(e):o.push(e),i=Ut(n),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=t,a.count=o.length,oi(a)}return n}z.prototype.addListener=function(t,e){return It(this,t,e,!1)};z.prototype.on=z.prototype.addListener;z.prototype.prependListener=function(t,e){return It(this,t,e,!0)};function si(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nt(n,t,e){var r={fired:!1,wrapFn:void 0,target:n,type:t,listener:e},i=si.bind(r);return i.listener=e,r.wrapFn=i,i}z.prototype.once=function(t,e){return Re(e),this.on(t,Nt(this,t,e)),this};z.prototype.prependOnceListener=function(t,e){return Re(e),this.prependListener(t,Nt(this,t,e)),this};z.prototype.removeListener=function(t,e){var r,i,s,o,a;if(Re(e),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():ui(r,s),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};z.prototype.off=z.prototype.removeListener;z.prototype.removeAllListeners=function(t){var e,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this};function Lt(n,t,e){var r=n._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?ai(i):Ft(i,i.length)}z.prototype.listeners=function(t){return Lt(this,t,!0)};z.prototype.rawListeners=function(t){return Lt(this,t,!1)};z.listenerCount=function(n,t){return typeof n.listenerCount=="function"?n.listenerCount(t):jt.call(n,t)};z.prototype.listenerCount=jt;function jt(n){var t=this._events;if(t!==void 0){var e=t[n];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}z.prototype.eventNames=function(){return this._eventsCount>0?Oe(this._events):[]};function Ft(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n[r];return e}function ui(n,t){for(;t+1<n.length;t++)n[t]=n[t+1];n.pop()}function ai(n){for(var t=new Array(n.length),e=0;e<t.length;++e)t[e]=n[e].listener||n[e];return t}function ci(n,t){return new Promise(function(e,r){function i(o){n.removeListener(t,s),r(o)}function s(){typeof n.removeListener=="function"&&n.removeListener("error",i),e([].slice.call(arguments))}Pt(n,t,s,{once:!0}),t!=="error"&&li(n,i,{once:!0})})}function li(n,t,e){typeof n.on=="function"&&Pt(n,"error",t,e)}function Pt(n,t,e,r){if(typeof n.on=="function")r.once?n.once(t,e):n.on(t,e);else if(typeof n.addEventListener=="function")n.addEventListener(t,function i(s){r.once&&n.removeEventListener(t,i),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,ze.default)(n))}});var Ht=P((qn,zt)=>{A();"use strict";zt.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot","Bytespider"]});var Jt=P((En,Kt)=>{A();"use strict";var Gt=Z(),fi=Gt(ee()),di=Gt(te()),Ge=Se(),hi=Ht(),Ve=$(),Ke="_constructorio_is_human",Vt=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],vi=function(){function n(){var t=this;(0,fi.default)(this,n),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var e=function r(){t.isHumanBoolean=!0,Ge.session.set(Ke,!0),Vt.forEach(function(i){Ve.removeEventListener(i,r,!0)})};this.isHumanBoolean||Vt.forEach(function(r){Ve.addEventListener(r,e,!0)})}return(0,di.default)(n,[{key:"getIsHumanFromSessionStorage",value:function(){return!!Ge.session.get(Ke)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!Ge.session.get(Ke)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var e=Ve.getNavigator(),r=e.userAgent,i=e.webdriver,s=new RegExp("(".concat(hi.join("|"),")"));return Boolean(r.match(s))||Boolean(i)}}]),n}();Kt.exports=vi});var Xt=P((Sn,Qt)=>{A();"use strict";var Wt=Z(),gi=Wt(ee()),pi=Wt(te()),Je=Se(),_i=Jt(),We=$(),yi=$(),bi=yi.requestContainsPii,Qe="_constructorio_requests",wi=18e4,mi=function(){function n(t,e){var r=this;(0,gi.default)(this,n),this.options=t,this.eventemitter=e,this.humanity=new _i,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(t&&t.sendTrackingEvents===!0),We.addEventListener("beforeunload",function(){r.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,pi.default)(n,[{key:"queue",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){if(bi(e,i))return;var o=n.get();o.push({url:e,method:r,body:i,networkParameters:s}),n.set(o)}}},{key:"sendEvents",value:function(){var e=this,r=this.options.fetch,i=n.get();if((!We.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&i.length){var s,o=i.shift(),a=o,c=a.networkParameters,l,u=this;if(n.set(i),c&&typeof AbortController=="function"){var f=new AbortController;l=f.signal,We.applyNetworkTimeout(this.options,c,f)}if(typeof o=="string"&&(o={url:o,method:"GET"}),o.url){var h=o.url.match(/\?.*_dt=([^&]+)/),b=parseInt(h&&h[1],10),w=+new Date;if(b&&Number.isInteger(b)&&w-b>wi){this.sendTrackingEvents=!1,n.remove();return}}o.method==="GET"&&(s=r(o.url,{signal:l})),o.method==="POST"&&(s=r(o.url,{method:o.method,body:JSON.stringify(o.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:l})),s&&(this.requestPending=!0,s.then(function(v){v.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:o.url,method:o.method,message:"ok"}),e.requestPending=!1,e.send()):v.json().then(function(y){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:y&&y.message}),e.requestPending=!1,e.send()}).catch(function(y){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:y.type}),e.requestPending=!1,e.send()})}).catch(function(v){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:v&&v.toString&&v.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return Je.local.get(Qe)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?n.remove():Je.local.set(Qe,e);var r=n.get();Array.isArray(r)&&r.length!==e.length&&(this.sendTrackingEvents=!1,n.remove())}},{key:"remove",value:function(){Je.local.remove(Qe)}}]),n}();Qt.exports=mi});var tr=P((An,er)=>{A();"use strict";var xe=Z(),ki=xe(Pe()),J=xe(ve()),qi=xe(ee()),Ei=xe(te());function Yt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function F(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Yt(Object(e),!0).forEach(function(r){(0,ki.default)(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Yt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var Si=Mt(),B=$(),Zt=Xt();function Q(n,t){var e=t.apiKey,r=t.version,i=t.sessionId,s=t.clientId,o=t.userId,a=t.segments,c=t.testCells,l=t.requestMethod,u=t.beaconMode,f=B.getWindowLocation(),h=f.host,b=f.pathname,w=t.sendReferrerWithTrackingEvents!==!1,v=Object.assign(n);return r&&(v.c=r),s&&(v.i=s),i&&(v.s=i),o&&(v.ui=String(o)),a&&a.length&&(v.us=a),e&&(v.key=e),c&&Object.keys(c).forEach(function(y){v["ef-".concat(y)]=c[y]}),u&&l&&l.match(/POST/i)&&(v.beacon=!0),w&&h&&(v.origin_referrer=h,b&&(v.origin_referrer+=b)),v._dt=Date.now(),v=B.cleanParams(v),v}function V(n,t){return B.stringify(Q(n,t))}var $t=function(){function n(t){(0,qi.default)(this,n),this.options=t||{},this.eventemitter=new Si,this.requests=new Zt(t,this.eventemitter),this.behavioralV2Url="https://ac.cnstrc.com/v2/behavioral_action/"}return(0,Ei.default)(n,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.behavioralV2Url,"session_start?");return this.requests.queue("".concat(r).concat(V({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),i={action:"session_start"};return this.requests.queue("".concat(r).concat(V(i,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i="".concat(this.behavioralV2Url,"focus?"),s={},o=r,a=e;(0,J.default)(e)==="object"&&(o=e,a=""),s.user_input=a;var c="POST",l=Q(s,F(F({},this.options),{},{requestMethod:c}));return this.requests.queue("".concat(i).concat(V({},this.options)),c,l,o),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),i={action:"focus"};return this.requests.queue("".concat(r).concat(V(i,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},o={},a=e.item_name,c=e.name,l=e.item_id,u=e.customer_id,f=e.customerId,h=f===void 0?u:f,b=e.variation_id,w=e.itemName,v=w===void 0?a||c:w,y=e.itemId,C=y===void 0?l||h:y,E=e.variationId,k=E===void 0?b:E,U=e.url;v&&(o.item_name=v),C&&(o.item_id=C),k&&(o.variation_id=k),U&&(o.url=U);var I="".concat(i).concat(V(s,this.options)),x="POST",p=Q(o,F(F({},this.options),{},{requestMethod:x}));return this.requests.queue(I,x,p,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.behavioralV2Url,"autocomplete_select?"),o=r.original_query,a=r.originalQuery,c=a===void 0?o:a,l=r.user_input,u=r.userInput,f=u===void 0?c||l:u,h=r.original_section,b=r.section,w=b===void 0?h:b,v=r.tr,y=r.group_id,C=r.groupId,E=C===void 0?y:C,k=r.item_id,U=r.itemId,I=U===void 0?k:U,x=r.variation_id,p=r.variationId,T=p===void 0?x:p,_={},q={user_input:f,tr:v,group_id:E,item_id:I,variation_id:T,item_name:e,section:w};w&&(_.section=w);var O="".concat(s).concat(V(_,this.options)),m="POST",M=Q(q,F(F({},this.options),{},{requestMethod:m}));return this.requests.queue(O,m,M,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(B.encodeURIComponentRFC3986(B.trimNonBreakingSpaces(e)),"/select?"),o={},a=r.original_query,c=r.originalQuery,l=c===void 0?a:c,u=r.section,f=r.original_section,h=r.originalSection,b=h===void 0?f:h,w=r.tr,v=r.group_id,y=r.groupId,C=y===void 0?v:y,E=r.display_name,k=r.displayName,U=k===void 0?E:k;return l&&(o.original_query=l),w&&(o.tr=w),(b||u)&&(o.section=b||u),C&&(o.group={group_id:C,display_name:U}),this.requests.queue("".concat(s).concat(V(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.behavioralV2Url,"search_submit?"),o=r.original_query,a=r.originalQuery,c=a===void 0?o:a,l=r.user_input,u=r.userInput,f=u===void 0?c||l:u,h=r.group_id,b=r.groupId,w=b===void 0?h:b,v=r.section,y={},C={user_input:f,search_term:e,section:v};w&&(C.filters={group_id:w}),v&&(y.section=v);var E="".concat(s).concat(V(y,this.options)),k="POST",U=Q(C,F(F({},this.options),{},{requestMethod:k}));return this.requests.queue(E,k,U,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(B.encodeURIComponentRFC3986(B.trimNonBreakingSpaces(e)),"/search?"),o={},a=r.original_query,c=r.originalQuery,l=c===void 0?a:c,u=r.group_id,f=r.groupId,h=f===void 0?u:f,b=r.display_name,w=r.displayName,v=w===void 0?b:w;return l&&(o.original_query=l),h&&(o.group={group_id:h,display_name:v}),this.requests.queue("".concat(s).concat(V(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoadedV2",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.behavioralV2Url,"search_result_load?"),o=r.num_results,a=r.numResults,c=a===void 0?o:a,l=r.result_count,u=r.resultCount,f=u===void 0?c||l:u,h=r.customer_ids,b=r.item_ids,w=r.items,v=w===void 0?h||b:w,y=r.result_page,C=r.resultPage,E=C===void 0?y:C,k=r.result_id,U=r.resultId,I=U===void 0?k:U,x=r.sort_order,p=r.sortOrder,T=p===void 0?x:p,_=r.sort_by,q=r.sortBy,O=q===void 0?_:q,m=r.selected_filters,M=r.selectedFilters,H=M===void 0?m:M,d=r.url,g=r.section,S={},R;v&&Array.isArray(v)&&v.length!==0&&(R=v,typeof v[0]=="string"||typeof v[0]=="number"?R=v.map(function(L){return{item_id:String(L)}}):R=v.map(function(L){return B.toSnakeCaseKeys(L,!1)})),g&&(S.section=g);var N={search_term:e,result_count:f,items:R,result_page:E,result_id:I,sort_order:T,sort_by:O,selected_filters:H,url:d,section:g},D="".concat(s).concat(V(S,this.options)),K="POST",Y=Q(N,F(F({},this.options),{},{requestMethod:K}));return this.requests.queue(D,K,Y,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/behavior?"),o={action:"search-results",term:e},a=r.num_results,c=r.numResults,l=c===void 0?a:c,u=r.customer_ids,f=r.customerIds,h=f===void 0?u:f,b=r.item_ids,w=r.itemIds,v=w===void 0?b:w,y;return B.isNil(l)||(o.num_results=l),v&&Array.isArray(v)?y=v:h&&Array.isArray(h)&&(y=h),y&&Array.isArray(y)&&y.length&&(o.customer_ids=y.slice(0,100).join(",")),this.requests.queue("".concat(s).concat(V(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.behavioralV2Url,"search_result_click?"),o=r.num_results,a=r.customer_id,c=r.item_id,l=r.itemId,u=l===void 0?a||c:l,f=r.name,h=r.item_name,b=r.itemName,w=b===void 0?f||h:b,v=r.variation_id,y=r.variationId,C=y===void 0?v:y,E=r.result_id,k=r.resultId,U=k===void 0?E:k,I=r.result_count,x=r.resultCount,p=x===void 0?o||I:x,T=r.result_page,_=r.resultPage,q=_===void 0?T:_,O=r.result_position_on_page,m=r.resultPositionOnPage,M=m===void 0?O:m,H=r.num_results_per_page,d=r.numResultsPerPage,g=d===void 0?H:d,S=r.selected_filters,R=r.selectedFilters,N=R===void 0?S:R,D=r.section,K={item_name:w,item_id:u,variation_id:C,result_id:U,result_count:p,result_page:q,result_position_on_page:M,num_results_per_page:g,selected_filters:N,section:D,search_term:e},Y={};D&&(Y.section=D);var L="".concat(s).concat(V(Y,this.options)),X="POST",ue=Q(K,F(F({},this.options),{},{requestMethod:X}));return this.requests.queue(L,X,ue,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(B.encodeURIComponentRFC3986(B.trimNonBreakingSpaces(e)),"/click_through?"),o={},a=r.item_name,c=r.name,l=r.itemName,u=l===void 0?a||c:l,f=r.item_id,h=r.itemId,b=h===void 0?f:h,w=r.customer_id,v=r.customerId,y=v===void 0?w||b:v,C=r.variation_id,E=r.variationId,k=E===void 0?C:E,U=r.result_id,I=r.resultId,x=I===void 0?U:I,p=r.item_is_convertible,T=r.itemIsConvertible,_=T===void 0?p:T,q=r.section;return u&&(o.name=u),y&&(o.customer_id=y),k&&(o.variation_id=k),x&&(o.result_id=x),typeof _=="boolean"&&(o.item_is_convertible=_),q&&(o.section=q),this.requests.queue("".concat(s).concat(V(o,this.options)),void 0,void 0,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r&&(0,J.default)(r)==="object"&&!Array.isArray(r)){var s=e||"TERM_UNKNOWN",o="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},c={},l=r.name,u=r.item_name,f=r.itemName,h=f===void 0?u||l:f,b=r.customer_id,w=r.customerId,v=w===void 0?b:w,y=r.item_id,C=r.itemId,E=C===void 0?y||v:C,k=r.variation_id,U=r.variationId,I=U===void 0?k:U,x=r.revenue,p=r.section,T=p===void 0?"Products":p,_=r.display_name,q=r.displayName,O=q===void 0?_:q,m=r.type,M=r.is_custom_type,H=r.isCustomType,d=H===void 0?M:H;E&&(c.item_id=E),h&&(c.item_name=h),I&&(c.variation_id=I),(x||x===0)&&(c.revenue=x.toString()),T&&(a.section=T,c.section=T),s&&(c.search_term=s),m&&(c.type=m),d&&(c.is_custom_type=d),O&&(c.display_name=O);var g="".concat(o).concat(V(a,this.options)),S="POST",R=Q(c,F(F({},this.options),{},{requestMethod:S}));return this.requests.queue(g,S,R,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},o={},a=e.items,c=e.revenue,l=e.order_id,u=e.orderId,f=u===void 0?l:u,h=e.section;if(f){if(B.hasOrderIdRecord(f))return!1;B.addOrderIdRecord(f),o.order_id=f}a&&Array.isArray(a)&&(o.items=a.slice(0,100).map(function(y){return B.toSnakeCaseKeys(y,!1)})),(c||c===0)&&(o.revenue=c),h?s.section=h:s.section="Products";var b="".concat(i).concat(V(s,this.options)),w="POST",v=Q(o,F(F({},this.options),{},{requestMethod:w}));return this.requests.queue(b,w,v,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},o=e.result_count,a=e.resultCount,c=a===void 0?o:a,l=e.result_page,u=e.resultPage,f=u===void 0?l:u,h=e.result_id,b=e.resultId,w=b===void 0?h:b,v=e.section,y=e.url,C=e.pod_id,E=e.podId,k=E===void 0?C:E,U=e.num_results_viewed,I=e.numResultsViewed,x=I===void 0?U:I,p=e.items;B.isNil(c)||(s.result_count=c),B.isNil(f)||(s.result_page=f),w&&(s.result_id=w),v?s.section=v:s.section="Products",y&&(s.url=y),k&&(s.pod_id=k),B.isNil(x)||(s.num_results_viewed=x),p&&Array.isArray(p)&&(s.items=p.slice(0,100).map(function(O){return B.toSnakeCaseKeys(O,!1)}));var T="".concat(i).concat(V({},this.options)),_="POST",q=Q(s,F(F({},this.options),{},{requestMethod:_}));return this.requests.queue(T,_,q,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},o=e.variation_id,a=e.variationId,c=a===void 0?o:a,l=e.section,u=l===void 0?"Products":l,f=e.result_id,h=e.resultId,b=h===void 0?f:h,w=e.result_count,v=e.resultCount,y=v===void 0?w:v,C=e.result_page,E=e.resultPage,k=E===void 0?C:E,U=e.result_position_on_page,I=e.resultPositionOnPage,x=I===void 0?U:I,p=e.num_results_per_page,T=e.numResultsPerPage,_=T===void 0?p:T,q=e.pod_id,O=e.podId,m=O===void 0?q:O,M=e.strategy_id,H=e.strategyId,d=H===void 0?M:H,g=e.item_id,S=e.itemId,R=S===void 0?g:S,N=e.item_name,D=e.itemName,K=D===void 0?N:D;c&&(s.variation_id=c),u&&(s.section=u),b&&(s.result_id=b),B.isNil(y)||(s.result_count=y),B.isNil(k)||(s.result_page=k),B.isNil(x)||(s.result_position_on_page=x),B.isNil(_)||(s.num_results_per_page=_),m&&(s.pod_id=m),d&&(s.strategy_id=d),R&&(s.item_id=R),K&&(s.item_name=K);var Y="".concat(i).concat(V({},this.options)),L="POST",X=Q(s,F(F({},this.options),{},{requestMethod:L}));return this.requests.queue(Y,L,X,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),s={},o=e.section,a=o===void 0?"Products":o,c=e.result_count,l=e.resultCount,u=l===void 0?c:l,f=e.result_page,h=e.resultPage,b=h===void 0?f:h,w=e.result_id,v=e.resultId,y=v===void 0?w:v,C=e.selected_filters,E=e.selectedFilters,k=E===void 0?C:E,U=e.url,I=e.sort_order,x=e.sortOrder,p=x===void 0?I:x,T=e.sort_by,_=e.sortBy,q=_===void 0?T:_,O=e.filter_name,m=e.filterName,M=m===void 0?O:m,H=e.filter_value,d=e.filterValue,g=d===void 0?H:d,S=e.items;a&&(s.section=a),B.isNil(u)||(s.result_count=u),B.isNil(b)||(s.result_page=b),y&&(s.result_id=y),k&&(s.selected_filters=k),U&&(s.url=U),p&&(s.sort_order=p),q&&(s.sort_by=q),M&&(s.filter_name=M),g&&(s.filter_value=g),S&&Array.isArray(S)&&(s.items=S.slice(0,100).map(function(K){return B.toSnakeCaseKeys(K,!1)}));var R="".concat(i).concat(V({},this.options)),N="POST",D=Q(s,F(F({},this.options),{},{requestMethod:N}));return this.requests.queue(R,N,D,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},o=e.section,a=o===void 0?"Products":o,c=e.variation_id,l=e.variationId,u=l===void 0?c:l,f=e.result_id,h=e.resultId,b=h===void 0?f:h,w=e.result_count,v=e.resultCount,y=v===void 0?w:v,C=e.result_page,E=e.resultPage,k=E===void 0?C:E,U=e.result_position_on_page,I=e.resultPositionOnPage,x=I===void 0?U:I,p=e.num_results_per_page,T=e.numResultsPerPage,_=T===void 0?p:T,q=e.selected_filters,O=e.selectedFilters,m=O===void 0?q:O,M=e.filter_name,H=e.filterName,d=H===void 0?M:H,g=e.filter_value,S=e.filterValue,R=S===void 0?g:S,N=e.customer_id,D=e.customerId,K=D===void 0?N:D,Y=e.item_id,L=e.itemId,X=L===void 0?K||Y:L,ue=e.item_name,Be=e.name,$e=e.itemName,et=$e===void 0?ue||Be:$e;a&&(s.section=a),u&&(s.variation_id=u),b&&(s.result_id=b),B.isNil(y)||(s.result_count=y),B.isNil(k)||(s.result_page=k),B.isNil(x)||(s.result_position_on_page=x),B.isNil(_)||(s.num_results_per_page=_),m&&(s.selected_filters=m),d&&(s.filter_name=d),R&&(s.filter_value=R),X&&(s.item_id=X),et&&(s.item_name=et);var gr="".concat(i).concat(V({},this.options)),tt="POST",pr=Q(s,F(F({},this.options),{},{requestMethod:tt}));return this.requests.queue(gr,tt,pr,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,J.default)(e)==="object"){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},o=e.item_id,a=e.itemId,c=a===void 0?o:a,l=e.item_name,u=e.itemName,f=u===void 0?l:u,h=e.variation_id,b=e.variationId,w=b===void 0?h:b,v=e.section,y=v===void 0?"Products":v;if(c){s.section=y,s.item_id=c,f&&(s.item_name=f),w&&(s.variation_id=w);var C="".concat(i).concat(V({},this.options)),E="POST",k=Q(s,F(F({},this.options),{},{requestMethod:E}));return this.requests.queue(C,E,k,r),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,c=e.quiz_version_id,l=e.quizVersionId,u=l===void 0?c:l,f=e.quiz_session_id,h=e.quizSessionId,b=h===void 0?f:h,w=e.url,v=e.section,y=v===void 0?"Products":v,C=e.result_count,E=e.resultCount,k=E===void 0?C:E,U=e.result_id,I=e.resultId,x=I===void 0?U:I,p=e.result_page,T=e.resultPage,_=T===void 0?p:T,q=e.items,O={},m={};if(q&&Array.isArray(q)&&(m.items=q.slice(0,100).map(function(g){return B.toSnakeCaseKeys(g,!1)})),typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof b!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof w!="string")return new Error('"url" is a required parameter of type string');if(m.quiz_id=a,m.quiz_version_id=u,m.quiz_session_id=b,m.url=w,!B.isNil(y)){if(typeof y!="string")return new Error('"section" must be a string');O.section=y,m.section=y}if(!B.isNil(k)){if(typeof k!="number")return new Error('"resultCount" must be a number');m.result_count=k}if(!B.isNil(x)){if(typeof x!="string")return new Error('"resultId" must be a string');m.result_id=x}if(!B.isNil(_)){if(typeof _!="number")return new Error('"resultPage" must be a number');m.result_page=_}var M="".concat(i).concat(V(O,this.options)),H="POST",d=Q(m,F(F({},this.options),{},{requestMethod:H}));return this.requests.queue(M,H,d,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,c=e.quiz_version_id,l=e.quizVersionId,u=l===void 0?c:l,f=e.quiz_session_id,h=e.quizSessionId,b=h===void 0?f:h,w=e.item_id,v=e.itemId,y=v===void 0?w:v,C=e.item_name,E=e.itemName,k=E===void 0?C:E,U=e.result_count,I=e.resultCount,x=I===void 0?U:I,p=e.result_id,T=e.resultId,_=T===void 0?p:T,q=e.result_page,O=e.resultPage,m=O===void 0?q:O,M=e.num_results_per_page,H=e.numResultsPerPage,d=H===void 0?M:H,g=e.result_position_on_page,S=e.resultPositionOnPage,R=S===void 0?g:S,N=e.section,D=N===void 0?"Products":N,K=e.variationId,Y={},L={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof b!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string"&&typeof k!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(L.quiz_id=a,L.quiz_version_id=u,L.quiz_session_id=b,!B.isNil(y)){if(typeof y!="string")return new Error('"itemId" must be a string');L.item_id=y}if(!B.isNil(k)){if(typeof k!="string")return new Error('"itemName" must be a string');L.item_name=k}if(!B.isNil(K)){if(typeof K!="string")return new Error('"variationId" must be a string');L.variation_id=K}if(!B.isNil(D)){if(typeof D!="string")return new Error('"section" must be a string');Y.section=D}if(!B.isNil(x)){if(typeof x!="number")return new Error('"resultCount" must be a number');L.result_count=x}if(!B.isNil(_)){if(typeof _!="string")return new Error('"resultId" must be a string');L.result_id=_}if(!B.isNil(m)){if(typeof m!="number")return new Error('"resultPage" must be a number');L.result_page=m}if(!B.isNil(d)){if(typeof d!="number")return new Error('"numResultsPerPage" must be a number');L.num_results_per_page=d}if(!B.isNil(R)){if(typeof R!="number")return new Error('"resultPositionOnPage" must be a number');L.result_position_on_page=R}var X="".concat(i).concat(V(Y,this.options)),ue="POST",Be=Q(L,F(F({},this.options),{},{requestMethod:ue}));return this.requests.queue(X,ue,Be,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,J.default)(e)==="object"&&!Array.isArray(e)){var i="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),s=e.quiz_id,o=e.quizId,a=o===void 0?s:o,c=e.quiz_version_id,l=e.quizVersionId,u=l===void 0?c:l,f=e.quiz_session_id,h=e.quizSessionId,b=h===void 0?f:h,w=e.item_id,v=e.itemId,y=v===void 0?w:v,C=e.item_name,E=e.itemName,k=E===void 0?C:E,U=e.variation_id,I=e.variationId,x=I===void 0?U:I,p=e.revenue,T=e.section,_=T===void 0?"Products":T,q=e.type,O=e.is_custom_type,m=e.isCustomType,M=m===void 0?O:m,H=e.display_name,d=e.displayName,g=d===void 0?H:d,S={},R={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof b!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string"&&typeof k!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(R.quiz_id=a,R.quiz_version_id=u,R.quiz_session_id=b,!B.isNil(y)){if(typeof y!="string")return new Error('"itemId" must be a string');R.item_id=y}if(!B.isNil(k)){if(typeof k!="string")return new Error('"itemName" must be a string');R.item_name=k}if(!B.isNil(x)){if(typeof x!="string")return new Error('"variationId" must be a string');R.variation_id=x}if(!B.isNil(p)){if(typeof p!="string")return new Error('"revenue" must be a string');R.revenue=p}if(!B.isNil(_)){if(typeof _!="string")return new Error('"section" must be a string');R.section=_}if(!B.isNil(q)){if(typeof q!="string")return new Error('"type" must be a string');R.type=q}if(!B.isNil(M)){if(typeof M!="boolean")return new Error('"isCustomType" must be a boolean');R.is_custom_type=M}if(!B.isNil(g)){if(typeof g!="string")return new Error('"displayName" must be a string');R.display_name=g}var N="".concat(i).concat(V(S,this.options)),D="POST",K=Q(R,F(F({},this.options),{},{requestMethod:D}));return this.requests.queue(N,D,K,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"on",value:function(e,r){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!r||typeof r!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,r),!0)}}]),n}();$t.RequestQueue=Zt;er.exports=$t});var rr=P((Cn,Ai)=>{Ai.exports={name:"@constructor-io/constructorio-client-javascript",version:"2.37.0",description:"Constructor.io JavaScript client",main:"lib/constructorio.js",types:"lib/types/index.d.ts",scripts:{clean:"sudo rm -rf node_modules package-lock.json",version:"npm run verify-node-version && npm run docs && git add ./docs/* && npm run bundle && git add -A ./dist","check-license":"license-checker --production --onlyAllow 'Apache-2.0;BSD-3-Clause;MIT;0BSD;BSD-2-Clause'","verify-node-version":"chmod +x ./scripts/verify-node-version.sh && ./scripts/verify-node-version.sh",lint:"eslint 'src/**/*.js' 'spec/**/*.js' 'src/**/*.d.ts'",test:"npm run compile && mkdir -p test && cp -rf lib/* test && mocha --retries 3 ./spec/*","test:types":"tsd .","test:parallel":"npm run compile && mkdir -p test && cp -rf lib/* test && mocha --parallel --retries 3 ./spec/*","test:src":"mkdir -p test && cp -rf src/* test && mocha --retries 3 ./spec/*","test:src:parallel":"mkdir -p test && cp -rf src/* test && mocha --parallel --retries 3 ./spec/*","test:bundled":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha --retries 3 ./spec/*","test:bundled:parallel":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha --parallel --retries 3 ./spec/*","test:all":"npm run test && npm run test:bundled","test:all:parallel":"npm run test:parallel && npm run test:bundled:parallel",precoverage:"rm -rf ./coverage && rm -rf ./.nyc_output",coverage:"nyc --all --reporter=html npm run test:src",postcoverage:"open coverage/index.html && rm -rf test",docs:"jsdoc --configure ./.jsdoc.json ./README.md --recurse ./src --destination ./docs",compile:"babel src/ -d lib/ --copy-files && rm -rf lib/types/tests",prepublish:"npm run compile",bundle:"rm -rf ./dist/* && npm run compile && node bundle.js",prepare:"husky install"},repository:{type:"git",url:"git+https://github.com/Constructor-io/constructorio-client-javascript.git"},author:"constructor.io",license:"MIT",bugs:{url:"https://github.com/Constructor-io/constructorio-client-javascript/issues"},homepage:"https://github.com/Constructor-io/constructorio-client-javascript#readme",files:["lib/**/*"],devDependencies:{"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/plugin-transform-runtime":"^7.16.4","@babel/preset-env":"^7.15.8","@babel/register":"^7.15.3","@cspell/eslint-plugin":"^6.8.2","@typescript-eslint/eslint-plugin":"^5.48.1","@typescript-eslint/parser":"^5.48.1",chai:"^4.2.0","chai-as-promised":"^7.1.1",docdash:"^2.0.1",dotenv:"^8.6.0",esbuild:"^0.12.28",eslint:"^8.17.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2",husky:"^7.0.4",jsdoc:"^4.0.2",jsdom:"^16.7.0","license-checker":"^25.0.1","lodash.clonedeep":"^4.5.0",mocha:"^9.1.3",nyc:"^15.1.0",qs:"^6.11.0",sinon:"^7.5.0","sinon-chai":"^3.7.0",tsd:"^0.24.1"},dependencies:{"@constructor-io/constructorio-id":"^2.4.10","crc-32":"^1.2.2","fetch-ponyfill":"^7.1.0",store2:"^2.14.2"},peerDependencies:{"@babel/runtime":"^7.19.0"},tsd:{directory:"src/types/tests"}}});var Xe=P((On,_e)=>{A();function Ci(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}_e.exports=Ci,_e.exports.__esModule=!0,_e.exports.default=_e.exports});var ir=P((Rn,ye)=>{A();var Oi=Xe();function Ri(n){if(Array.isArray(n))return Oi(n)}ye.exports=Ri,ye.exports.__esModule=!0,ye.exports.default=ye.exports});var nr=P((xn,be)=>{A();function xi(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}be.exports=xi,be.exports.__esModule=!0,be.exports.default=be.exports});var sr=P((Tn,we)=>{A();var or=Xe();function Ti(n,t){if(!!n){if(typeof n=="string")return or(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return or(n,t)}}we.exports=Ti,we.exports.__esModule=!0,we.exports.default=we.exports});var ur=P((Bn,me)=>{A();function Bi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}me.exports=Bi,me.exports.__esModule=!0,me.exports.default=me.exports});var ar=P((Dn,ke)=>{A();var Di=ir(),Ui=nr(),Ii=sr(),Ni=ur();function Li(n){return Di(n)||Ui(n)||Ii(n)||Ni()}ke.exports=Li,ke.exports.__esModule=!0,ke.exports.default=ke.exports});var fr=P((Un,lr)=>{A();"use strict";var Te=Z(),ji=Te(ee()),Fi=Te(te()),Pi=Te(ar()),Mi=Te(ve()),zi=oe(),ne=$();function cr(n,t,e,r){var i=e.apiKey,s=e.clientId,o=e.sessionId,a=e.segments,c=e.userId,l=e.version,u=e.quizzesServiceUrl,f={c:l},h="";if(f.key=i,f.i=s,f.s=o,a&&a.length&&(f.us=a),c&&(f.ui=String(c)),!n||typeof n!="string")throw new Error("quizId is a required parameter of type string");if(r==="results"&&((0,Mi.default)(t.answers)!=="object"||!Array.isArray(t.answers)||t.answers.length===0))throw new Error("answers is a required parameter of type array");if(t){var b=t.section,w=t.answers,v=t.quizSessionId,y=t.quizVersionId,C=t.page,E=t.resultsPerPage,k=t.filters;b&&(f.section=b),y&&(f.quiz_version_id=y),v&&(f.quiz_session_id=v),w&&w.length&&(h="&".concat(ne.stringify({a:w.map(function(I){return(0,Pi.default)(I).join(",")})}))),ne.isNil(C)||(f.page=C),ne.isNil(E)||(f.num_results_per_page=E),k&&(f.filters=k)}f._dt=Date.now(),f=ne.cleanParams(f);var U=ne.stringify(f);return"".concat(u,"/v1/quizzes/").concat(encodeURIComponent(n),"/").concat(encodeURIComponent(r),"/?").concat(U).concat(h)}var Hi=function(){function n(t){(0,ji.default)(this,n),this.options=t||{},this.eventDispatcher=new zi(t.eventDispatcher)}return(0,Fi.default)(n,[{key:"getQuizNextQuestion",value:function(e,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c=new AbortController,l=c.signal;try{o=cr(e,r,this.options,"next")}catch(u){return Promise.reject(u)}return ne.applyNetworkTimeout(this.options,s,c),a(o,{signal:l}).then(function(u){return u.ok?u.json():ne.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.quiz_version_id)return i.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",u),u;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options.fetch,c=new AbortController,l=c.signal;try{o=cr(e,r,this.options,"results")}catch(u){return Promise.reject(u)}return ne.applyNetworkTimeout(this.options,s,c),a(o,{signal:l}).then(function(u){return u.ok?u.json():ne.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.quiz_version_id)return i.eventDispatcher.queue("quizzes.getQuizResults.completed",u),u;throw new Error("getQuizResults response data is malformed")})}}]),n}();lr.exports=Hi});var nn=P((In,vr)=>{A();"use strict";var dr=Z(),Gi=dr(ee()),Vi=dr(te()),Ki=ot(),Ji=st(),Wi=mt(),Qi=Et(),Xi=Ct(),Yi=xt(),hr=tr(),Zi=oe(),Ye=$(),$i=rr(),en=$i.version,tn=fr(),rn=function(){var t="ciojs-client-",e=[];return Ye.canUseDOM()||e.push("domless"),typeof j!="undefined"&&typeof j.env!="undefined"&&j.env.BUNDLED&&e.push("bundled"),"".concat(t).concat(e.join("-")).concat(e.length?"-":"").concat(en)},Ze=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Gi.default)(this,n);var e=t.apiKey,r=t.version,i=t.serviceUrl,s=t.quizzesServiceUrl,o=t.segments,a=t.testCells,c=t.clientId,l=t.sessionId,u=t.userId,f=t.fetch,h=t.trackingSendDelay,b=t.sendReferrerWithTrackingEvents,w=t.sendTrackingEvents,v=t.eventDispatcher,y=t.idOptions,C=t.beaconMode,E=t.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var k,U,I=typeof window!="undefined"&&window.CLIENT_VERSION;if(Ye.canUseDOM()){var x=new Ki(y||{});k=x.session_id,U=x.client_id}else{if(!l||typeof l!="number")throw new Error("sessionId is a required user parameter of type number");if(!c||typeof c!="string")throw new Error("clientId is a required user parameter of type string")}this.options={apiKey:e,version:r||I||rn(),serviceUrl:i&&i.replace(/\/$/,"")||"https://ac.cnstrc.com",quizzesServiceUrl:s&&s.replace(/\/$/,"")||"https://quizzes.cnstrc.com",sessionId:l||k,clientId:c||U,userId:u,segments:o,testCells:a,fetch:f||Ji({Promise}).fetch,trackingSendDelay:h,sendTrackingEvents:w,sendReferrerWithTrackingEvents:b,eventDispatcher:v,beaconMode:C!==!1,networkParameters:E||{}},this.search=new Wi(this.options),this.browse=new Qi(this.options),this.autocomplete=new Xi(this.options),this.recommendations=new Yi(this.options),this.tracker=new hr(this.options),this.quizzes=new tn(this.options),new Zi(t.eventDispatcher).queue("instantiated",this.options)}return(0,Vi.default)(n,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var r=e.apiKey,i=e.segments,s=e.testCells,o=e.userId;r&&(this.options.apiKey=r),i&&(this.options.segments=i),s&&(this.options.testCells=s),o&&(this.options.userId=o)}}}]),n}();Ze.Tracker=hr;Ye.canUseDOM()&&(window.ConstructorioClient=Ze);vr.exports=Ze});nn();})();
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */
/*! store2 - v2.14.2 - 2022-07-18
* Copyright (c) 2022 Nathan Bubna; Licensed (MIT OR GPL-3.0) */

/*!
 *
 * Constructor.io JavaScript Client, version 2.29.3
 * (c) 2015-2022 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 *
 */
(()=>{var Fe=(i=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(i,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):i)(function(i){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+i+'" is not supported')});var $r=(i,e)=>()=>(i&&(e=i(i=0)),e);var P=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Zr,B,E=$r(()=>{Zr={BUNDLED:"true"},B={env:Zr}});var re=P((ns,Oe)=>{E();function en(i){return i&&i.__esModule?i:{default:i}}Oe.exports=en,Oe.exports.__esModule=!0,Oe.exports.default=Oe.exports});var oe=P((is,qe)=>{E();function tn(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}qe.exports=tn,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var ae=P((ss,Ae)=>{E();function qt(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function rn(i,e,t){return e&&qt(i.prototype,e),t&&qt(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}Ae.exports=rn,Ae.exports.__esModule=!0,Ae.exports.default=Ae.exports});var At=P((os,$e)=>{E();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(e==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null){n=Object(n);for(var s=Object.keys(Object(n)),o=0,a=s.length;a>o;o++){var c=s[o],f=Object.getOwnPropertyDescriptor(n,c);f!==void 0&&f.enumerable&&(t[c]=n[c])}}}return t}});var i=function(e){var t={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,t,e),!this.client_id)if(!this.on_node&&this.persist){var r;this.client_id_storage_location==="cookie"&&(r=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(r=this.get_local_object(this.local_name_client_id)),this.client_id=r||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};i.prototype.set_cookie=function(e,t){if(!this.on_node&&this.persist){var r=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),n=e+"="+t+"; expires="+r.toUTCString()+"; path=/";return this.cookie_domain&&(n+="; domain="+this.cookie_domain),document.cookie=n,n}return null},i.prototype.get_cookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var s=r[n];try{for(var o=decodeURIComponent(s);o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}catch(a){}}},i.prototype.delete_cookie=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},i.prototype.generate_client_id=function(){var e;if(!this.on_node){var t=this.get_cookie(this.cookie_name_client_id),r=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&r&&(e=r,this.set_cookie(this.cookie_name_client_id,e),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&t&&(e=t,this.set_local_object(this.local_name_client_id,e),this.delete_cookie(this.cookie_name_client_id))}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var s=Math.random()*16|0,o=n==="x"?s:s&3|8;return o.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,e),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,e)),e},i.prototype.get_local_object=function(e){var t,r=window&&window.localStorage;if(r&&typeof e=="string")try{t=JSON.parse(r.getItem(e))}catch(n){t=r.getItem(e)}return t},i.prototype.set_local_object=function(e,t){var r=window&&window.localStorage;if(r&&typeof e=="string"){if(typeof t=="object")try{r.setItem(e,JSON.stringify(t))}catch(n){}if(typeof t=="string"||typeof t=="number")try{r.setItem(e,t)}catch(n){}}},i.prototype.delete_local_object=function(e){var t=window&&window.localStorage;if(t&&typeof e=="string")try{t.removeItem(e)}catch(r){}},i.prototype.generate_session_id=function(){var e=this.get_cookie(this.cookie_name_session_data),t=this.get_local_object(this.local_name_session_data),r=Date.now(),n=1e3*60*30,s;if(this.session_id_storage_location==="local"&&(s=this.get_local_object(this.local_name_session_data),!s&&e&&(s=e,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){s=this.get_cookie(this.cookie_name_session_data);try{s=JSON.parse(s)}catch(c){}!s&&t&&(s=t,this.delete_local_object(this.local_name_session_data))}var o=1,a=1;return s&&typeof s=="object"&&(a=parseInt(s.sessionId,10)||1,s.lastTime>r-n?o=a:o=a+1),this.session_id=o,this.session_is_new=!(s&&a===o),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,o),this.set_local_object(this.local_name_session_data,{sessionId:o,lastTime:r})),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,o),this.set_cookie(this.cookie_name_session_data,JSON.stringify({sessionId:o,lastTime:r}))),o},typeof $e!="undefined"&&typeof Fe!="undefined"&&($e.exports=i)})()});var Pe=P((as,Ct)=>{E();"use strict";var Ze=Object.prototype.hasOwnProperty,ge=Array.isArray,ue=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),nn=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(ge(r)){for(var n=[],s=0;s<r.length;++s)typeof r[s]!="undefined"&&n.push(r[s]);t.obj[t.prop]=n}}},St=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]!="undefined"&&(r[n]=e[n]);return r},sn=function i(e,t,r){if(!t)return e;if(typeof t!="object"){if(ge(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Ze.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return ge(e)&&!ge(t)&&(n=St(e,r)),ge(e)&&ge(t)?(t.forEach(function(s,o){if(Ze.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=i(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return Ze.call(s,o)?s[o]=i(s[o],a,r):s[o]=a,s},n)},on=function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},an=function(i,e,t){var r=i.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(n){return r}},un=function(e,t,r){if(e.length===0)return e;var n=typeof e=="string"?e:String(e);if(r==="iso-8859-1")return escape(n).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",o=0;o<n.length;++o){var a=n.charCodeAt(o);if(a===45||a===46||a===95||a===126||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122){s+=n.charAt(o);continue}if(a<128){s=s+ue[a];continue}if(a<2048){s=s+(ue[192|a>>6]+ue[128|a&63]);continue}if(a<55296||a>=57344){s=s+(ue[224|a>>12]+ue[128|a>>6&63]+ue[128|a&63]);continue}o+=1,a=65536+((a&1023)<<10|n.charCodeAt(o)&1023),s+=ue[240|a>>18]+ue[128|a>>12&63]+ue[128|a>>6&63]+ue[128|a&63]}return s},cn=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var f=a[c],u=o[f];typeof u=="object"&&u!==null&&r.indexOf(u)===-1&&(t.push({obj:o,prop:f}),r.push(u))}return nn(t),e},fn=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ln=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},hn=function(e,t){return[].concat(e,t)};Ct.exports={arrayToObject:St,assign:on,combine:hn,compact:cn,decode:an,encode:un,isBuffer:ln,isRegExp:fn,merge:sn}});var et=P((us,Rt)=>{E();"use strict";var dn=String.prototype.replace,vn=/%20/g,pn=Pe(),xt={RFC1738:"RFC1738",RFC3986:"RFC3986"};Rt.exports=pn.assign({default:xt.RFC3986,formatters:{RFC1738:function(i){return dn.call(i,vn,"+")},RFC3986:function(i){return String(i)}}},xt)});var It=P((cs,jt)=>{E();"use strict";var Tt=Pe(),Se=et(),gn=Object.prototype.hasOwnProperty,Bt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},me=Array.isArray,mn=Array.prototype.push,tt=function(i,e){mn.apply(i,me(e)?e:[e])},yn=Date.prototype.toISOString,Dt=Se.default,Y={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Tt.encode,encodeValuesOnly:!1,format:Dt,formatter:Se.formatters[Dt],indices:!1,serializeDate:function(e){return yn.call(e)},skipNulls:!1,strictNullHandling:!1},_n=function i(e,t,r,n,s,o,a,c,f,u,l,v,w){var y=e;if(typeof a=="function"?y=a(t,y):y instanceof Date?y=u(y):r==="comma"&&me(y)&&(y=y.join(",")),y===null){if(n)return o&&!v?o(t,Y.encoder,w):t;y=""}if(typeof y=="string"||typeof y=="number"||typeof y=="boolean"||Tt.isBuffer(y)){if(o){var m=v?t:o(t,Y.encoder,w);return[l(m)+"="+l(o(y,Y.encoder,w))]}return[l(t)+"="+l(String(y))]}var q=[];if(typeof y=="undefined")return q;var D;if(me(a))D=a;else{var F=Object.keys(y);D=c?F.sort(c):F}for(var j=0;j<D.length;++j){var N=D[j];s&&y[N]===null||(me(y)?tt(q,i(y[N],typeof r=="function"?r(t,N):t,r,n,s,o,a,c,f,u,l,v,w)):tt(q,i(y[N],t+(f?"."+N:"["+N+"]"),r,n,s,o,a,c,f,u,l,v,w)))}return q},bn=function(e){if(!e)return Y;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Y.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Se.default;if(typeof e.format!="undefined"){if(!gn.call(Se.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Se.formatters[r],s=Y.filter;return(typeof e.filter=="function"||me(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Y.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?Y.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Y.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?Y.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Y.encode,encoder:typeof e.encoder=="function"?e.encoder:Y.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Y.encodeValuesOnly,filter:s,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Y.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Y.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Y.strictNullHandling}};jt.exports=function(i,e){var t=i,r=bn(e),n,s;typeof r.filter=="function"?(s=r.filter,t=s("",t)):me(r.filter)&&(s=r.filter,n=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in Bt?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Bt[a];n||(n=Object.keys(t)),r.sort&&n.sort(r.sort);for(var f=0;f<n.length;++f){var u=n[f];r.skipNulls&&t[u]===null||tt(o,_n(t[u],u,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.formatter,r.encodeValuesOnly,r.charset))}var l=o.join(r.delimiter),v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),l.length>0?v+l:""}});var Lt=P((fs,Nt)=>{E();"use strict";var Ce=Pe(),rt=Object.prototype.hasOwnProperty,Ft=Array.isArray,V={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ce.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},wn=function(i){return i.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Pt=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},kn=function(e,t){if(Ft(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},En="utf8=%26%2310003%3B",On="utf8=%E2%9C%93",qn=function(e,t){var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,c,f=t.charset;if(t.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===On?f="utf-8":o[c]===En&&(f="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var u=o[c],l=u.indexOf("]="),v=l===-1?u.indexOf("="):l+1,w,y;v===-1?(w=t.decoder(u,V.decoder,f),y=t.strictNullHandling?null:""):(w=t.decoder(u.slice(0,v),V.decoder,f),y=kn(Pt(u.slice(v+1),t),function(m){return t.decoder(m,V.decoder,f)})),y&&t.interpretNumericEntities&&f==="iso-8859-1"&&(y=wn(y)),u.indexOf("[]=")>-1&&(y=Ft(y)?[y]:y),rt.call(r,w)?r[w]=Ce.combine(r[w],y):r[w]=y}return r},An=function(i,e,t,r){for(var n=r?e:Pt(e,t),s=i.length-1;s>=0;--s){var o,a=i[s];if(a==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,f=parseInt(c,10);!t.parseArrays&&c===""?o={0:n}:!isNaN(f)&&a!==c&&String(f)===c&&f>=0&&t.parseArrays&&f<=t.arrayLimit?(o=[],o[f]=n):o[c]=n}n=o}return n},Sn=function(e,t,r,n){if(!!e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=o.exec(s),f=c?s.slice(0,c.index):s,u=[];if(f){if(!r.plainObjects&&rt.call(Object.prototype,f)&&!r.allowPrototypes)return;u.push(f)}for(var l=0;(c=a.exec(s))!==null&&l<r.depth;){if(l+=1,!r.plainObjects&&rt.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+s.slice(c.index)+"]"),An(u,t,r,n)}},Cn=function(e){if(!e)return V;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset=="undefined"?V.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?V.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:V.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:V.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:V.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:V.comma,decoder:typeof e.decoder=="function"?e.decoder:V.decoder,delimiter:typeof e.delimiter=="string"||Ce.isRegExp(e.delimiter)?e.delimiter:V.delimiter,depth:typeof e.depth=="number"?e.depth:V.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:V.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:V.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:V.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:V.strictNullHandling}};Nt.exports=function(i,e){var t=Cn(e);if(i===""||i===null||typeof i=="undefined")return t.plainObjects?Object.create(null):{};for(var r=typeof i=="string"?qn(i,t):i,n=t.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],c=Sn(a,r[a],t,typeof i=="string");n=Ce.merge(n,c,t)}return Ce.compact(n)}});var ye=P((ls,Ut)=>{E();"use strict";var xn=It(),Rn=Lt(),Tn=et();Ut.exports={formats:Tn,parse:Rn,stringify:xn}});var _e=P((xe,nt)=>{E();(function(i){"use strict";function e(t){var r=t&&t.Promise||i.Promise,n=t&&t.XMLHttpRequest||i.XMLHttpRequest;return function(){var s=Object.create(i,{fetch:{value:void 0,writable:!0}});return function(o,a){typeof xe=="object"&&typeof nt!="undefined"?a(xe):typeof define=="function"&&define.amd?define(["exports"],a):a(o.WHATWGFetch={})}(this,function(o){"use strict";var a=typeof s!="undefined"&&s||typeof self!="undefined"&&self||typeof a!="undefined"&&a,c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(h){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(h){return h&&DataView.prototype.isPrototypeOf(h)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(h){return h&&u.indexOf(Object.prototype.toString.call(h))>-1};function v(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function w(h){return typeof h!="string"&&(h=String(h)),h}function y(h){var p={next:function(){var A=h.shift();return{done:A===void 0,value:A}}};return c.iterable&&(p[Symbol.iterator]=function(){return p}),p}function m(h){this.map={},h instanceof m?h.forEach(function(p,A){this.append(A,p)},this):Array.isArray(h)?h.forEach(function(p){this.append(p[0],p[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(p){this.append(p,h[p])},this)}m.prototype.append=function(h,p){h=v(h),p=w(p);var A=this.map[h];this.map[h]=A?A+", "+p:p},m.prototype.delete=function(h){delete this.map[v(h)]},m.prototype.get=function(h){return h=v(h),this.has(h)?this.map[h]:null},m.prototype.has=function(h){return this.map.hasOwnProperty(v(h))},m.prototype.set=function(h,p){this.map[v(h)]=w(p)},m.prototype.forEach=function(h,p){for(var A in this.map)this.map.hasOwnProperty(A)&&h.call(p,this.map[A],A,this)},m.prototype.keys=function(){var h=[];return this.forEach(function(p,A){h.push(A)}),y(h)},m.prototype.values=function(){var h=[];return this.forEach(function(p){h.push(p)}),y(h)},m.prototype.entries=function(){var h=[];return this.forEach(function(p,A){h.push([A,p])}),y(h)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function q(h){if(h.bodyUsed)return r.reject(new TypeError("Already read"));h.bodyUsed=!0}function D(h){return new r(function(p,A){h.onload=function(){p(h.result)},h.onerror=function(){A(h.error)}})}function F(h){var p=new FileReader,A=D(p);return p.readAsArrayBuffer(h),A}function j(h){var p=new FileReader,A=D(p);return p.readAsText(h),A}function N(h){for(var p=new Uint8Array(h),A=new Array(p.length),U=0;U<p.length;U++)A[U]=String.fromCharCode(p[U]);return A.join("")}function z(h){if(h.slice)return h.slice(0);var p=new Uint8Array(h.byteLength);return p.set(new Uint8Array(h)),p.buffer}function ne(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:c.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:c.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():c.arrayBuffer&&c.blob&&f(h)?(this._bodyArrayBuffer=z(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||l(h))?this._bodyArrayBuffer=z(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var h=q(this);if(h)return h;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=q(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?r.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):r.resolve(this._bodyArrayBuffer))}else return this.blob().then(F)}),this.text=function(){var h=q(this);if(h)return h;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function J(h){var p=h.toUpperCase();return b.indexOf(p)>-1?p:h}function k(h,p){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');p=p||{};var A=p.body;if(h instanceof k){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,p.headers||(this.headers=new m(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!A&&h._bodyInit!=null&&(A=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new m(p.headers)),this.method=J(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(A),(this.method==="GET"||this.method==="HEAD")&&(p.cache==="no-store"||p.cache==="no-cache")){var U=/([?&])_=[^&]*/;if(U.test(this.url))this.url=this.url.replace(U,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function T(h){var p=new FormData;return h.trim().split("&").forEach(function(A){if(A){var U=A.split("="),H=U.shift().replace(/\+/g," "),I=U.join("=").replace(/\+/g," ");p.append(decodeURIComponent(H),decodeURIComponent(I))}}),p}function R(h){var p=new m,A=h.replace(/\r?\n[\t ]+/g," ");return A.split("\r").map(function(U){return U.indexOf(`
`)===0?U.substr(1,U.length):U}).forEach(function(U){var H=U.split(":"),I=H.shift().trim();if(I){var se=H.join(":").trim();p.append(I,se)}}),p}ne.call(k.prototype);function C(h,p){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"",this.headers=new m(p.headers),this.url=p.url||"",this._initBody(h)}ne.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},C.error=function(){var h=new C(null,{status:0,statusText:""});return h.type="error",h};var te=[301,302,303,307,308];C.redirect=function(h,p){if(te.indexOf(p)===-1)throw new RangeError("Invalid status code");return new C(null,{status:p,headers:{location:h}})},o.DOMException=a.DOMException;try{new o.DOMException}catch(h){o.DOMException=function(p,A){this.message=p,this.name=A;var U=Error(p);this.stack=U.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ie(h,p){return new r(function(A,U){var H=new k(h,p);if(H.signal&&H.signal.aborted)return U(new o.DOMException("Aborted","AbortError"));var I=new n;function se(){I.abort()}I.onload=function(){var G={status:I.status,statusText:I.statusText,headers:R(I.getAllResponseHeaders()||"")};G.url="responseURL"in I?I.responseURL:G.headers.get("X-Request-URL");var W="response"in I?I.response:I.responseText;setTimeout(function(){A(new C(W,G))},0)},I.onerror=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},I.ontimeout=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},I.onabort=function(){setTimeout(function(){U(new o.DOMException("Aborted","AbortError"))},0)};function Ke(G){try{return G===""&&a.location.href?a.location.href:G}catch(W){return G}}I.open(H.method,Ke(H.url),!0),H.credentials==="include"?I.withCredentials=!0:H.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&(c.blob?I.responseType="blob":c.arrayBuffer&&H.headers.get("Content-Type")&&H.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(I.responseType="arraybuffer")),p&&typeof p.headers=="object"&&!(p.headers instanceof m)?Object.getOwnPropertyNames(p.headers).forEach(function(G){I.setRequestHeader(G,w(p.headers[G]))}):H.headers.forEach(function(G,W){I.setRequestHeader(W,G)}),H.signal&&(H.signal.addEventListener("abort",se),I.onreadystatechange=function(){I.readyState===4&&H.signal.removeEventListener("abort",se)}),I.send(typeof H._bodyInit=="undefined"?null:H._bodyInit)})}ie.polyfill=!0,a.fetch||(a.fetch=ie,a.Headers=m,a.Request=k,a.Response=C),o.Headers=m,o.Request=k,o.Response=C,o.fetch=ie,Object.defineProperty(o,"__esModule",{value:!0})}),{fetch:s.fetch,Headers:s.Headers,Request:s.Request,Response:s.Response,DOMException:s.DOMException}}()}typeof define=="function"&&define.amd?define(function(){return e}):typeof xe=="object"?nt.exports=e:i.fetchPonyfill=e})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:xe)});var be=P((it,st)=>{E();(function(i,e){typeof it=="object"&&typeof st!="undefined"?st.exports=e():typeof define=="function"&&define.amd?define(e):i.ES6Promise=e()})(it,function(){"use strict";function i(d){var g=typeof d;return d!==null&&(g==="object"||g==="function")}function e(d){return typeof d=="function"}var t=void 0;Array.isArray?t=Array.isArray:t=function(d){return Object.prototype.toString.call(d)==="[object Array]"};var r=t,n=0,s=void 0,o=void 0,a=function(g,_){N[n]=g,N[n+1]=_,n+=2,n===2&&(o?o(z):b())};function c(d){o=d}function f(d){a=d}var u=typeof window!="undefined"?window:void 0,l=u||{},v=l.MutationObserver||l.WebKitMutationObserver,w=typeof self=="undefined"&&typeof B!="undefined"&&{}.toString.call(B)==="[object process]",y=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function m(){return function(){return B.nextTick(z)}}function q(){return typeof s!="undefined"?function(){s(z)}:j()}function D(){var d=0,g=new v(z),_=document.createTextNode("");return g.observe(_,{characterData:!0}),function(){_.data=d=++d%2}}function F(){var d=new MessageChannel;return d.port1.onmessage=z,function(){return d.port2.postMessage(0)}}function j(){var d=setTimeout;return function(){return d(z,1)}}var N=new Array(1e3);function z(){for(var d=0;d<n;d+=2){var g=N[d],_=N[d+1];g(_),N[d]=void 0,N[d+1]=void 0}n=0}function ne(){try{var d=Function("return this")().require("vertx");return s=d.runOnLoop||d.runOnContext,q()}catch(g){return j()}}var b=void 0;w?b=m():v?b=D():y?b=F():u===void 0&&typeof Fe=="function"?b=ne():b=j();function J(d,g){var _=this,O=new this.constructor(R);O[T]===void 0&&Et(O);var S=_._state;if(S){var x=arguments[S-1];a(function(){return wt(S,O,x,_._result)})}else Ve(_,O,d,g);return O}function k(d){var g=this;if(d&&typeof d=="object"&&d.constructor===g)return d;var _=new g(R);return se(_,d),_}var T=Math.random().toString(36).substring(2);function R(){}var C=void 0,te=1,ie=2;function h(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function A(d,g,_,O){try{d.call(g,_,O)}catch(S){return S}}function U(d,g,_){a(function(O){var S=!1,x=A(_,g,function(K){S||(S=!0,g!==K?se(O,K):G(O,K))},function(K){S||(S=!0,W(O,K))},"Settle: "+(O._label||" unknown promise"));!S&&x&&(S=!0,W(O,x))},d)}function H(d,g){g._state===te?G(d,g._result):g._state===ie?W(d,g._result):Ve(g,void 0,function(_){return se(d,_)},function(_){return W(d,_)})}function I(d,g,_){g.constructor===d.constructor&&_===J&&g.constructor.resolve===k?H(d,g):_===void 0?G(d,g):e(_)?U(d,g,_):G(d,g)}function se(d,g){if(d===g)W(d,h());else if(i(g)){var _=void 0;try{_=g.then}catch(O){W(d,O);return}I(d,g,_)}else G(d,g)}function Ke(d){d._onerror&&d._onerror(d._result),Xe(d)}function G(d,g){d._state===C&&(d._result=g,d._state=te,d._subscribers.length!==0&&a(Xe,d))}function W(d,g){d._state===C&&(d._state=ie,d._result=g,a(Ke,d))}function Ve(d,g,_,O){var S=d._subscribers,x=S.length;d._onerror=null,S[x]=g,S[x+te]=_,S[x+ie]=O,x===0&&d._state&&a(Xe,d)}function Xe(d){var g=d._subscribers,_=d._state;if(g.length!==0){for(var O=void 0,S=void 0,x=d._result,K=0;K<g.length;K+=3)O=g[K],S=g[K+_],O?wt(_,O,S,x):S(x);d._subscribers.length=0}}function wt(d,g,_,O){var S=e(_),x=void 0,K=void 0,pe=!0;if(S){try{x=_(O)}catch(Ie){pe=!1,K=Ie}if(g===x){W(g,p());return}}else x=O;g._state!==C||(S&&pe?se(g,x):pe===!1?W(g,K):d===te?G(g,x):d===ie&&W(g,x))}function Hr(d,g){try{g(function(O){se(d,O)},function(O){W(d,O)})}catch(_){W(d,_)}}var kt=0;function Gr(){return kt++}function Et(d){d[T]=kt++,d._state=void 0,d._result=void 0,d._subscribers=[]}function zr(){return new Error("Array Methods must be provided an Array")}var Jr=function(){function d(g,_){this._instanceConstructor=g,this.promise=new g(R),this.promise[T]||Et(this.promise),r(_)?(this.length=_.length,this._remaining=_.length,this._result=new Array(this.length),this.length===0?G(this.promise,this._result):(this.length=this.length||0,this._enumerate(_),this._remaining===0&&G(this.promise,this._result))):W(this.promise,zr())}return d.prototype._enumerate=function(_){for(var O=0;this._state===C&&O<_.length;O++)this._eachEntry(_[O],O)},d.prototype._eachEntry=function(_,O){var S=this._instanceConstructor,x=S.resolve;if(x===k){var K=void 0,pe=void 0,Ie=!1;try{K=_.then}catch(Qe){Ie=!0,pe=Qe}if(K===J&&_._state!==C)this._settledAt(_._state,O,_._result);else if(typeof K!="function")this._remaining--,this._result[O]=_;else if(S===$){var Ye=new S(R);Ie?W(Ye,pe):I(Ye,_,K),this._willSettleAt(Ye,O)}else this._willSettleAt(new S(function(Qe){return Qe(_)}),O)}else this._willSettleAt(x(_),O)},d.prototype._settledAt=function(_,O,S){var x=this.promise;x._state===C&&(this._remaining--,_===ie?W(x,S):this._result[O]=S),this._remaining===0&&G(x,this._result)},d.prototype._willSettleAt=function(_,O){var S=this;Ve(_,void 0,function(x){return S._settledAt(te,O,x)},function(x){return S._settledAt(ie,O,x)})},d}();function Wr(d){return new Jr(this,d).promise}function Kr(d){var g=this;return r(d)?new g(function(_,O){for(var S=d.length,x=0;x<S;x++)g.resolve(d[x]).then(_,O)}):new g(function(_,O){return O(new TypeError("You must pass an array to race."))})}function Vr(d){var g=this,_=new g(R);return W(_,d),_}function Xr(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Yr(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var $=function(){function d(g){this[T]=Gr(),this._result=this._state=void 0,this._subscribers=[],R!==g&&(typeof g!="function"&&Xr(),this instanceof d?Hr(this,g):Yr())}return d.prototype.catch=function(_){return this.then(null,_)},d.prototype.finally=function(_){var O=this,S=O.constructor;return e(_)?O.then(function(x){return S.resolve(_()).then(function(){return x})},function(x){return S.resolve(_()).then(function(){throw x})}):O.then(_,_)},d}();$.prototype.then=J,$.all=Wr,$.race=Kr,$.resolve=k,$.reject=Vr,$._setScheduler=c,$._setAsap=f,$._asap=a;function Qr(){var d=void 0;if(typeof window!="undefined")d=window;else if(typeof self!="undefined")d=self;else try{d=Function("return this")()}catch(O){throw new Error("polyfill failed because global object is unavailable in this environment")}var g=d.Promise;if(g){var _=null;try{_=Object.prototype.toString.call(g.resolve())}catch(O){}if(_==="[object Promise]"&&!g.cast)return}d.Promise=$}return $.polyfill=Qr,$.Promise=$,$})});var Ne=P((hs,Re)=>{E();function Bn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}Re.exports=Bn,Re.exports.__esModule=!0,Re.exports.default=Re.exports});var Ht=P(ot=>{E();var Mt;(function(i){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof ot=="object"?i(ot):typeof define=="function"&&define.amd?define(function(){var e={};return i(e),e}):i(Mt={}):i(Mt={})})(function(i){i.version="1.2.2";function e(){for(var b=0,J=new Array(256),k=0;k!=256;++k)b=k,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,J[k]=b;return typeof Int32Array!="undefined"?new Int32Array(J):J}var t=e();function r(b){var J=0,k=0,T=0,R=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)R[T]=b[T];for(T=0;T!=256;++T)for(k=b[T],J=256+T;J<4096;J+=256)k=R[J]=k>>>8^b[k&255];var C=[];for(T=1;T!=16;++T)C[T-1]=typeof Int32Array!="undefined"?R.subarray(T*256,T*256+256):R.slice(T*256,T*256+256);return C}var n=r(t),s=n[0],o=n[1],a=n[2],c=n[3],f=n[4],u=n[5],l=n[6],v=n[7],w=n[8],y=n[9],m=n[10],q=n[11],D=n[12],F=n[13],j=n[14];function N(b,J){for(var k=J^-1,T=0,R=b.length;T<R;)k=k>>>8^t[(k^b.charCodeAt(T++))&255];return~k}function z(b,J){for(var k=J^-1,T=b.length-15,R=0;R<T;)k=j[b[R++]^k&255]^F[b[R++]^k>>8&255]^D[b[R++]^k>>16&255]^q[b[R++]^k>>>24]^m[b[R++]]^y[b[R++]]^w[b[R++]]^v[b[R++]]^l[b[R++]]^u[b[R++]]^f[b[R++]]^c[b[R++]]^a[b[R++]]^o[b[R++]]^s[b[R++]]^t[b[R++]];for(T+=15;R<T;)k=k>>>8^t[(k^b[R++])&255];return~k}function ne(b,J){for(var k=J^-1,T=0,R=b.length,C=0,te=0;T<R;)C=b.charCodeAt(T++),C<128?k=k>>>8^t[(k^C)&255]:C<2048?(k=k>>>8^t[(k^(192|C>>6&31))&255],k=k>>>8^t[(k^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,te=b.charCodeAt(T++)&1023,k=k>>>8^t[(k^(240|C>>8&7))&255],k=k>>>8^t[(k^(128|C>>2&63))&255],k=k>>>8^t[(k^(128|te>>6&15|(C&3)<<4))&255],k=k>>>8^t[(k^(128|te&63))&255]):(k=k>>>8^t[(k^(224|C>>12&15))&255],k=k>>>8^t[(k^(128|C>>6&63))&255],k=k>>>8^t[(k^(128|C&63))&255]);return~k}i.table=t,i.bstr=N,i.buf=z,i.str=ne})});var Gt=P((Le,Ue)=>{E();(function(i,e){var t={version:"2.13.2",areas:{},apis:{},inherit:function(n,s){for(var o in n)s.hasOwnProperty(o)||Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o));return s},stringify:function(n,s){return n===void 0||typeof n=="function"?n+"":JSON.stringify(n,s||t.replace)},parse:function(n,s){try{return JSON.parse(n,s||t.revive)}catch(o){return n}},fn:function(n,s){t.storeAPI[n]=s;for(var o in t.apis)t.apis[o][n]=s},get:function(n,s){return n.getItem(s)},set:function(n,s,o){n.setItem(s,o)},remove:function(n,s){n.removeItem(s)},key:function(n,s){return n.key(s)},length:function(n){return n.length},clear:function(n){n.clear()},Store:function(n,s,o){var a=t.inherit(t.storeAPI,function(f,u,l){return arguments.length===0?a.getAll():typeof u=="function"?a.transact(f,u,l):u!==void 0?a.set(f,u,l):typeof f=="string"||typeof f=="number"?a.get(f):typeof f=="function"?a.each(f):f?a.setAll(f,u):a.clear()});a._id=n;try{var c="__store2_test";s.setItem(c,"ok"),a._area=s,s.removeItem(c)}catch(f){a._area=t.storage("fake")}return a._ns=o||"",t.areas[n]||(t.areas[n]=a._area),t.apis[a._ns+a._id]||(t.apis[a._ns+a._id]=a),a},storeAPI:{area:function(n,s){var o=this[n];return(!o||!o.area)&&(o=t.Store(n,s,this._ns),this[n]||(this[n]=o)),o},namespace:function(n,s){if(!n)return this._ns?this._ns.substring(0,this._ns.length-1):"";var o=n,a=this[o];if((!a||!a.namespace)&&(a=t.Store(this._id,this._area,this._ns+o+"."),this[o]||(this[o]=a),!s))for(var c in t.areas)a.area(c,t.areas[c]);return a},isFake:function(n){return n?(this._real=this._area,this._area=t.storage("fake")):n===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(n){return this._area.has?this._area.has(this._in(n)):this._in(n)in this._area},size:function(){return this.keys().length},each:function(n,s){for(var o=0,a=t.length(this._area);o<a;o++){var c=this._out(t.key(this._area,o));if(c!==void 0&&n.call(this,c,this.get(c),s)===!1)break;a>t.length(this._area)&&(a--,o--)}return s||this},keys:function(n){return this.each(function(s,o,a){a.push(s)},n||[])},get:function(n,s){var o=t.get(this._area,this._in(n)),a;return typeof s=="function"&&(a=s,s=null),o!==null?t.parse(o,a):s??o},getAll:function(n){return this.each(function(s,o,a){a[s]=o},n||{})},transact:function(n,s,o){var a=this.get(n,o),c=s(a);return this.set(n,c===void 0?a:c),this},set:function(n,s,o){var a=this.get(n),c;return a!=null&&o===!1?s:(typeof o!="boolean"&&(c=o),t.set(this._area,this._in(n),t.stringify(s,c))||a)},setAll:function(n,s){var o,a;for(var c in n)a=n[c],this.set(c,a,s)!==a&&(o=!0);return o},add:function(n,s,o){var a=this.get(n);if(a instanceof Array)s=a.concat(s);else if(a!==null){var c=typeof a;if(c===typeof s&&c==="object"){for(var f in s)a[f]=s[f];s=a}else s=a+s}return t.set(this._area,this._in(n),t.stringify(s,o)),s},remove:function(n,s){var o=this.get(n,s);return t.remove(this._area,this._in(n)),o},clear:function(){return this._ns?this.each(function(n){t.remove(this._area,this._in(n))},1):t.clear(this._area),this},clearAll:function(){var n=this._area;for(var s in t.areas)t.areas.hasOwnProperty(s)&&(this._area=t.areas[s],this.clear());return this._area=n,this},_in:function(n){return typeof n!="string"&&(n=t.stringify(n)),this._ns?this._ns+n:n},_out:function(n){return this._ns?n&&n.indexOf(this._ns)===0?n.substring(this._ns.length):void 0:n}},storage:function(n){return t.inherit(t.storageAPI,{items:{},name:n})},storageAPI:{length:0,has:function(n){return this.items.hasOwnProperty(n)},key:function(n){var s=0;for(var o in this.items)if(this.has(o)&&n===s++)return o},setItem:function(n,s){this.has(n)||this.length++,this.items[n]=s},removeItem:function(n){this.has(n)&&(delete this.items[n],this.length--)},getItem:function(n){return this.has(n)?this.items[n]:null},clear:function(){for(var n in this.items)this.removeItem(n)}}},r=t.Store("local",function(){try{return localStorage}catch(n){}}());r.local=r,r._=t,r.area("session",function(){try{return sessionStorage}catch(n){}}()),r.area("page",t.storage("page")),typeof e=="function"&&e.amd!==void 0?e("store2",[],function(){return r}):typeof Ue!="undefined"&&Ue.exports?Ue.exports=r:(i.store&&(t.conflict=i.store),i.store=r)})(Le,Le&&Le.define)});var Jt=P((vs,zt)=>{E();"use strict";zt.exports=function(i,e){var t=e.set,r=e.get,n=e.remove,s=e.key,o=e.length,a=e.clear;e.overflow=function(c,f){var u=c===e.areas.local?"+local+":c===e.areas.session?"+session+":!1;if(u){var l=e.areas[u];return f&&!l?l=i.area(u)._area:f===!1&&(delete e.areas[u],delete i[u]),l}},e.set=function(c,f,u){try{t.apply(this,arguments)}catch(l){if(l.name==="QUOTA_EXCEEDED_ERR"||l.name==="NS_ERROR_DOM_QUOTA_REACHED"||l.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||l.toString().indexOf("QuotaExceededError")!==-1)return e.set(e.overflow(c,!0),f,u);throw l}},e.get=function(c,f){var u=e.overflow(c);return u&&r.call(this,u,f)||r.apply(this,arguments)},e.remove=function(c,f){var u=e.overflow(c);u&&n.call(this,u,f),n.apply(this,arguments)},e.key=function(c,f){var u=e.overflow(c);if(u){var l=o.call(this,c);if(f>=l){f=f-l;for(var v=0,w=o.call(this,u);v<w;v++)if(v===f)return s.call(this,u,v)}}return s.apply(this,arguments)},e.length=function(c){var f=o(c),u=e.overflow(c);return u?f+o(u):f},e.clear=function(c){e.overflow(c,!1),a.apply(this,arguments)}}});var Me=P((ps,Wt)=>{E();"use strict";var at=Gt(),Dn=Jt();Dn(at,at._);Wt.exports=at});var ce=P((gs,Vt)=>{E();"use strict";var jn=re(),In=jn(Ne()),Kt=Ht(),ut=Me(),ct="_constructorio_purchase_order_ids",de={trimNonBreakingSpaces:function(e){return e.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];typeof n=="string"?t[r]=de.trimNonBreakingSpaces(n):t[r]=n}),t},throwHttpErrorFromResponse:function(e,t){return t.json().then(function(r){throw e.message=r.message,e.status=t.status,e.statusText=t.statusText,e.url=t.url,e.headers=t.headers,e})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(e,t,r){de.canUseDOM()&&window.addEventListener(e,t,r)},removeEventListener:function(e,t,r){de.canUseDOM()&&window.removeEventListener(e,t,r)},getNavigator:function(){return de.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(e){return e==null},getWindowLocation:function(){return de.canUseDOM()?window.location:{}},dispatchEvent:function(e){de.canUseDOM()&&window.dispatchEvent(e)},createCustomEvent:function(e,t){if(de.canUseDOM())try{return new window.CustomEvent(e,{detail:t})}catch(n){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!1,t),r}return null},hasOrderIdRecord:function(e){var t=Kt.str(e.toString()),r=ut.session.get(ct);return typeof r=="string"&&(r=JSON.parse(r)),r&&r[t]?!0:null},addOrderIdRecord:function(e){var t=Kt.str(e.toString()),r=ut.session.get(ct);if(typeof r=="string"&&(r=JSON.parse(r)),r){if(r[t])return;r[t]=!0}else r=(0,In.default)({},t,!0);ut.session.set(ct,JSON.stringify(r))},applyNetworkTimeout:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=e&&e.networkParameters&&e.networkParameters.timeout,s=t&&t.timeout,o=n||s;typeof o=="number"&&setTimeout(function(){return r.abort()},o)}};Vt.exports=de});var we=P((ms,Yt)=>{E();"use strict";var Xt=re(),Fn=Xt(oe()),Pn=Xt(ae()),He=ce(),Nn=function(){function i(e){var t=this;(0,Fn.default)(this,i),this.events=[],this.enabled=!(e&&e.enabled===!1),this.waitForBeacon=!(e&&e.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,He.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),He.addEventListener("cio.beacon.loaded",function(){t.enabled&&(t.active=!0,t.dispatchEvents())}))}return(0,Pn.default)(i,[{key:"queue",value:function(t,r){this.events.push({name:t,data:r}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var t=this.events.shift(),r=t.name,n=t.data,s="cio.client.".concat(r);He.dispatchEvent(He.createCustomEvent(s,n))}}}]),i}();Yt.exports=Nn});var er=P((ys,Zt)=>{E();"use strict";var Qt=re(),Ln=Qt(oe()),Un=Qt(ae()),Mn=ye(),Hn=_e(),$t=be(),Gn=we(),ve=ce();function zn(i,e,t){var r=t.apiKey,n=t.version,s=t.serviceUrl,o=t.sessionId,a=t.clientId,c=t.userId,f=t.segments,u=t.testCells,l={c:n};if(l.key=r,l.i=a,l.s=o,!i||typeof i!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(b){l["ef-".concat(b)]=u[b]}),f&&f.length&&(l.us=f),c&&(l.ui=c),e){var v=e.page,w=e.resultsPerPage,y=e.filters,m=e.sortBy,q=e.sortOrder,D=e.section,F=e.fmtOptions,j=e.hiddenFields,N=e.hiddenFacets,z=e.variationsMap;ve.isNil(v)||(l.page=v),ve.isNil(w)||(l.num_results_per_page=w),y&&(l.filters=y),m&&(l.sort_by=m),q&&(l.sort_order=q),D&&(l.section=D),F&&(l.fmt_options=F),j&&(l.fmt_options?l.fmt_options.hidden_fields=j:l.fmt_options={hidden_fields:j}),N&&(l.fmt_options?l.fmt_options.hidden_facets=N:l.fmt_options={hidden_facets:N}),z&&(l.variations_map=JSON.stringify(z))}l._dt=Date.now(),l=ve.cleanParams(l);var ne=Mn.stringify(l,{indices:!1});return"".concat(s,"/search/").concat(ve.encodeURIComponentRFC3986(ve.trimNonBreakingSpaces(i)),"?").concat(ne)}var Jn=function(){function i(e){(0,Ln.default)(this,i),this.options=e||{},this.eventDispatcher=new Gn(e.eventDispatcher)}return(0,Un.default)(i,[{key:"getSearchResults",value:function(t,r){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options&&this.options.fetch||Hn({Promise:$t}).fetch,c;if(typeof AbortController=="function"){var f=new AbortController;c=f&&f.signal,ve.applyNetworkTimeout(this.options,s,f)}try{o=zn(t,r,this.options)}catch(u){return $t.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():ve.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),n.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return n.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}}]),i}();Zt.exports=Jn});var nr=P((_s,rr)=>{E();"use strict";var ft=re(),Wn=ft(oe()),Kn=ft(ae()),Vn=ft(Ne());function tr(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function Ge(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tr(Object(t),!0).forEach(function(r){(0,Vn.default)(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):tr(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Te=ye(),Be=_e(),fe=be(),Xn=we(),X=ce();function De(i,e){var t=e.apiKey,r=e.version,n=e.sessionId,s=e.clientId,o=e.userId,a=e.segments,c=e.testCells,f={c:r};if(f.key=t,f.i=s,f.s=n,c&&Object.keys(c).forEach(function(N){f["ef-".concat(N)]=c[N]}),a&&a.length&&(f.us=a),o&&(f.ui=o),i){var u=i.page,l=i.resultsPerPage,v=i.filters,w=i.sortBy,y=i.sortOrder,m=i.section,q=i.fmtOptions,D=i.hiddenFields,F=i.hiddenFacets,j=i.variationsMap;X.isNil(u)||(f.page=u),X.isNil(l)||(f.num_results_per_page=l),v&&(f.filters=v),w&&(f.sort_by=w),y&&(f.sort_order=y),m&&(f.section=m),q&&(f.fmt_options=q),D&&(f.fmt_options?f.fmt_options.hidden_fields=D:f.fmt_options={hidden_fields:D}),F&&(f.fmt_options?f.fmt_options.hidden_facets=F:f.fmt_options={hidden_facets:F}),j&&(f.variations_map=JSON.stringify(j))}return f._dt=Date.now(),f=X.cleanParams(f),f}function Yn(i,e,t,r){var n=r.serviceUrl;if(!i||typeof i!="string")throw new Error("filterName is a required parameter of type string");if(!e||typeof e!="string")throw new Error("filterValue is a required parameter of type string");var s=De(t,r),o=Te.stringify(s,{indices:!1});return"".concat(n,"/browse/").concat(X.encodeURIComponentRFC3986(X.trimNonBreakingSpaces(i)),"/").concat(X.encodeURIComponentRFC3986(X.trimNonBreakingSpaces(e)),"?").concat(o)}function Qn(i,e,t){var r=t.serviceUrl;if(!i||!Array.isArray(i)||!i.length)throw new Error("ids is a required parameter of type array");var n=Ge(Ge({},De(e,t)),{},{ids:i}),s=Te.stringify(n,{indices:!1});return"".concat(r,"/browse/items?").concat(s)}function $n(i,e){var t=e.serviceUrl,r=Ge({},De(i,e));delete r._dt;var n=Te.stringify(r,{indices:!1});return"".concat(t,"/browse/facets?").concat(n)}function Zn(i,e,t){var r=t.serviceUrl;if(!i||typeof i!="string")throw new Error("facetName is a required parameter of type string");var n=Ge({},De(e,t));n.facet_name=i,delete n._dt;var s=Te.stringify(n,{indices:!1});return"".concat(r,"/browse/facet_options?").concat(s)}var ei=function(){function i(e){(0,Wn.default)(this,i),this.options=e||{},this.eventDispatcher=new Xn(e.eventDispatcher)}return(0,Kn.default)(i,[{key:"getBrowseResults",value:function(t,r,n){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a,c=this.options&&this.options.fetch||Be({Promise:fe}).fetch,f;if(typeof AbortController=="function"){var u=new AbortController;f=u&&u.signal,X.applyNetworkTimeout(this.options,o,u)}try{a=Yn(t,r,n,this.options)}catch(l){return fe.reject(l)}return c(a,{signal:f}).then(function(l){return l.ok?l.json():X.throwHttpErrorFromResponse(new Error,l)}).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(v){v.result_id=l.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",l),l;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(t,r){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options&&this.options.fetch||Be({Promise:fe}).fetch,c;if(typeof AbortController=="function"){var f=new AbortController;c=f&&f.signal,X.applyNetworkTimeout(this.options,s,f)}try{o=Qn(t,r,this.options)}catch(u){return fe.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():X.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),n.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options&&this.options.fetch||Be({Promise:fe}).fetch,o=this.options.serviceUrl,a=De(t,this.options),c;if(typeof AbortController=="function"){var f=new AbortController;c=f&&f.signal,X.applyNetworkTimeout(this.options,n,f)}delete a._dt;var u=Te.stringify(a,{indices:!1}),l="".concat(o,"/browse/groups?").concat(u);return s(l,{signal:c}).then(function(v){return v.ok?v.json():X.throwHttpErrorFromResponse(new Error,v)}).then(function(v){if(v.response&&v.response.groups)return r.eventDispatcher.queue("browse.getBrowseGroups.completed",v),v;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(t,r){var n=this,s,o=this.options&&this.options.fetch||Be({Promise:fe}).fetch,a;if(typeof AbortController=="function"){var c=new AbortController;a=c&&c.signal,X.applyNetworkTimeout(this.options,r,c)}try{s=$n(t,this.options)}catch(f){return fe.reject(f)}return o(s,{signal:a}).then(function(f){return f.ok?f.json():X.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.facets)return n.eventDispatcher.queue("browse.getBrowseFacets.completed",f),f;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(t){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options&&this.options.fetch||Be({Promise:fe}).fetch,c;if(typeof AbortController=="function"){var f=new AbortController;c=f&&f.signal,X.applyNetworkTimeout(this.options,s,f)}try{o=Zn(t,n,this.options)}catch(u){return fe.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():X.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.facets)return r.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),i}();rr.exports=ei});var ar=P((bs,or)=>{E();"use strict";var ir=re(),ti=ir(oe()),ri=ir(ae()),ni=ye(),ii=_e(),sr=be(),si=we(),je=ce(),oi=je.throwHttpErrorFromResponse,ai=je.cleanParams,ui=je.applyNetworkTimeout,ci=je.trimNonBreakingSpaces,fi=je.encodeURIComponentRFC3986;function li(i,e,t){var r=t.apiKey,n=t.version,s=t.serviceUrl,o=t.sessionId,a=t.clientId,c=t.userId,f=t.segments,u=t.testCells,l={c:n};if(l.key=r,l.i=a,l.s=o,!i||typeof i!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(j){l["ef-".concat(j)]=u[j]}),f&&f.length&&(l.us=f),c&&(l.ui=c),e){var v=e.numResults,w=e.resultsPerSection,y=e.filters,m=e.hiddenFields,q=e.variationsMap;v&&(l.num_results=v),w&&Object.keys(w).forEach(function(j){l["num_results_".concat(j)]=w[j]}),y&&(l.filters=y),m&&(l.fmt_options?l.fmt_options.hidden_fields=m:l.fmt_options={hidden_fields:m}),q&&(l.variations_map=JSON.stringify(q))}l._dt=Date.now(),l=ai(l);var D=ni.stringify(l,{indices:!1}),F=i.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(fi(ci(F)),"?").concat(D)}var hi=function(){function i(e){(0,ti.default)(this,i),this.options=e||{},this.eventDispatcher=new si(e.eventDispatcher)}return(0,ri.default)(i,[{key:"getAutocompleteResults",value:function(t,r){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options&&this.options.fetch||ii({Promise:sr}).fetch,c;if(typeof AbortController=="function"){var f=new AbortController;c=f&&f.signal,ui(this.options,s,f)}try{o=li(t,r,this.options)}catch(u){return sr.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():oi(new Error,u)}).then(function(u){if(u.sections){if(u.result_id){var l=Object.keys(u.sections);l.forEach(function(v){var w=u.sections[v];w.length&&w.forEach(function(y){y.result_id=u.result_id})})}return n.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),i}();or.exports=hi});var lr=P((ws,fr)=>{E();"use strict";var ur=re(),di=ur(oe()),vi=ur(ae()),pi=ye(),gi=_e(),cr=be(),mi=we(),ke=ce();function yi(i,e,t){var r=t.apiKey,n=t.version,s=t.serviceUrl,o=t.sessionId,a=t.userId,c=t.clientId,f=t.segments,u={c:n};if(u.key=r,u.i=c,u.s=o,!i||typeof i!="string")throw new Error("podId is a required parameter of type string");if(f&&f.length&&(u.us=f),a&&(u.ui=a),e){var l=e.numResults,v=e.itemIds,w=e.section,y=e.term,m=e.filters,q=e.variationsMap;ke.isNil(l)||(u.num_results=l),v&&(u.item_id=v),w&&(u.section=w),y&&(u.term=y),m&&(u.filters=m),q&&(u.variations_map=JSON.stringify(q))}u=ke.cleanParams(u);var D=pi.stringify(u,{indices:!1});return"".concat(s,"/recommendations/v1/pods/").concat(ke.encodeURIComponentRFC3986(ke.trimNonBreakingSpaces(i)),"?").concat(D)}var _i=function(){function i(e){(0,di.default)(this,i),this.options=e||{},this.eventDispatcher=new mi(e.eventDispatcher)}return(0,vi.default)(i,[{key:"getRecommendations",value:function(t,r){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a=this.options&&this.options.fetch||gi({Promise:cr}).fetch,c;if(typeof AbortController=="function"){var f=new AbortController;c=f&&f.signal,ke.applyNetworkTimeout(this.options,s,f)}r=r||{};try{o=yi(t,r,this.options)}catch(u){return cr.reject(u)}return a(o,{signal:c}).then(function(u){return u.ok?u.json():ke.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),n.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),i}();fr.exports=_i});var hr=P((ks,le)=>{E();function lt(i){return le.exports=lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le.exports.__esModule=!0,le.exports.default=le.exports,lt(i)}le.exports=lt,le.exports.__esModule=!0,le.exports.default=le.exports});var Er=P((Es,ht)=>{E();"use strict";var Ee=typeof Reflect=="object"?Reflect:null,dr=Ee&&typeof Ee.apply=="function"?Ee.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ze;Ee&&typeof Ee.ownKeys=="function"?ze=Ee.ownKeys:Object.getOwnPropertySymbols?ze=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ze=function(e){return Object.getOwnPropertyNames(e)};function bi(i){console&&console.warn&&console.warn(i)}var vr=Number.isNaN||function(e){return e!==e};function L(){L.init.call(this)}ht.exports=L;ht.exports.once=Oi;L.EventEmitter=L;L.prototype._events=void 0;L.prototype._eventsCount=0;L.prototype._maxListeners=void 0;var pr=10;function Je(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return pr},set:function(i){if(typeof i!="number"||i<0||vr(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");pr=i}});L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};L.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||vr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function gr(i){return i._maxListeners===void 0?L.defaultMaxListeners:i._maxListeners}L.prototype.getMaxListeners=function(){return gr(this)};L.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")dr(c,this,t);else for(var f=c.length,u=wr(c,f),r=0;r<f;++r)dr(u[r],this,t);return!0};function mr(i,e,t,r){var n,s,o;if(Je(t),s=i._events,s===void 0?(s=i._events=Object.create(null),i._eventsCount=0):(s.newListener!==void 0&&(i.emit("newListener",e,t.listener?t.listener:t),s=i._events),o=s[e]),o===void 0)o=s[e]=t,++i._eventsCount;else if(typeof o=="function"?o=s[e]=r?[t,o]:[o,t]:r?o.unshift(t):o.push(t),n=gr(i),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=i,a.type=e,a.count=o.length,bi(a)}return i}L.prototype.addListener=function(e,t){return mr(this,e,t,!1)};L.prototype.on=L.prototype.addListener;L.prototype.prependListener=function(e,t){return mr(this,e,t,!0)};function wi(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yr(i,e,t){var r={fired:!1,wrapFn:void 0,target:i,type:e,listener:t},n=wi.bind(r);return n.listener=t,r.wrapFn=n,n}L.prototype.once=function(e,t){return Je(t),this.on(e,yr(this,e,t)),this};L.prototype.prependOnceListener=function(e,t){return Je(t),this.prependListener(e,yr(this,e,t)),this};L.prototype.removeListener=function(e,t){var r,n,s,o,a;if(Je(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():ki(r,s),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};L.prototype.off=L.prototype.removeListener;L.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function _r(i,e,t){var r=i._events;if(r===void 0)return[];var n=r[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?Ei(n):wr(n,n.length)}L.prototype.listeners=function(e){return _r(this,e,!0)};L.prototype.rawListeners=function(e){return _r(this,e,!1)};L.listenerCount=function(i,e){return typeof i.listenerCount=="function"?i.listenerCount(e):br.call(i,e)};L.prototype.listenerCount=br;function br(i){var e=this._events;if(e!==void 0){var t=e[i];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?ze(this._events):[]};function wr(i,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=i[r];return t}function ki(i,e){for(;e+1<i.length;e++)i[e]=i[e+1];i.pop()}function Ei(i){for(var e=new Array(i.length),t=0;t<e.length;++t)e[t]=i[t].listener||i[t];return e}function Oi(i,e){return new Promise(function(t,r){function n(o){i.removeListener(e,s),r(o)}function s(){typeof i.removeListener=="function"&&i.removeListener("error",n),t([].slice.call(arguments))}kr(i,e,s,{once:!0}),e!=="error"&&qi(i,n,{once:!0})})}function qi(i,e,t){typeof i.on=="function"&&kr(i,"error",e,t)}function kr(i,e,t,r){if(typeof i.on=="function")r.once?i.once(e,t):i.on(e,t);else if(typeof i.addEventListener=="function")i.addEventListener(e,function n(s){r.once&&i.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}});var qr=P((Os,Or)=>{E();"use strict";Or.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot"]});var xr=P((qs,Cr)=>{E();"use strict";var Ar=re(),Ai=Ar(oe()),Si=Ar(ae()),dt=Me(),Ci=qr(),vt=ce(),pt="_constructorio_is_human",Sr=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],xi=function(){function i(){var e=this;(0,Ai.default)(this,i),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var t=function r(){e.isHumanBoolean=!0,dt.session.set(pt,!0),Sr.forEach(function(n){vt.removeEventListener(n,r,!0)})};this.isHumanBoolean||Sr.forEach(function(r){vt.addEventListener(r,t,!0)})}return(0,Si.default)(i,[{key:"getIsHumanFromSessionStorage",value:function(){return!!dt.session.get(pt)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!dt.session.get(pt)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var t=vt.getNavigator(),r=t.userAgent,n=t.webdriver,s=new RegExp("(".concat(Ci.join("|"),")"));return Boolean(r.match(s))||Boolean(n)}}]),i}();Cr.exports=xi});var Br=P((As,Tr)=>{E();"use strict";var Rr=re(),Ri=Rr(oe()),Ti=Rr(ae()),Bi=_e(),Di=be(),gt=Me(),ji=xr(),mt=ce(),yt="_constructorio_requests",Ii=18e4,Fi=function(){function i(e,t){var r=this;(0,Ri.default)(this,i),this.options=e,this.eventemitter=t,this.humanity=new ji,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(e&&e.sendTrackingEvents===!0),mt.addEventListener("beforeunload",function(){r.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,Ti.default)(i,[{key:"queue",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var o=i.get();o.push({url:t,method:r,body:n,networkParameters:s}),i.set(o)}}},{key:"sendEvents",value:function(){var t=this,r=this.options&&this.options.fetch||Bi({Promise:Di}).fetch,n=i.get();if((!mt.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&n.length){var s,o=n.shift(),a=o,c=a.networkParameters,f,u=this;if(i.set(n),c&&typeof AbortController=="function"){var l=new AbortController;f=l.signal,mt.applyNetworkTimeout(this.options,c,l)}if(typeof o=="string"&&(o={url:o,method:"GET"}),o.url){var v=o.url.match(/\?.*_dt=([^&]+)/),w=parseInt(v&&v[1],10),y=+new Date;if(w&&Number.isInteger(w)&&y-w>Ii){this.sendTrackingEvents=!1,i.remove();return}}o.method==="GET"&&(s=r(o.url,{signal:f})),o.method==="POST"&&(s=r(o.url,{method:o.method,body:JSON.stringify(o.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:f})),s&&(this.requestPending=!0,s.then(function(m){m.ok?u.eventemitter&&u.eventemitter.emit("success",{url:o.url,method:o.method,message:"ok"}):m.json().then(function(q){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:q&&q.message})}).catch(function(q){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:q.type})})}).catch(function(m){u.eventemitter&&u.eventemitter.emit("error",{url:o.url,method:o.method,message:m.toString()})}).finally(function(){t.requestPending=!1,t.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return gt.local.get(yt)||[]}},{key:"set",value:function(t){!t||Array.isArray(t)&&t.length===0?i.remove():gt.local.set(yt,t);var r=i.get();Array.isArray(r)&&r.length!==t.length&&(this.sendTrackingEvents=!1,i.remove())}},{key:"remove",value:function(){gt.local.remove(yt)}}]),i}();Tr.exports=Fi});var Pr=P((Ss,Fr)=>{E();"use strict";var We=re(),Pi=We(Ne()),ee=We(hr()),Ni=We(oe()),Li=We(ae());function Dr(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function Q(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dr(Object(t),!0).forEach(function(r){(0,Pi.default)(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Dr(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Ui=ye(),Mi=Er(),M=ce(),jr=Br();function he(i,e){var t=e.apiKey,r=e.version,n=e.sessionId,s=e.clientId,o=e.userId,a=e.segments,c=e.testCells,f=e.requestMethod,u=e.beaconMode,l=M.getWindowLocation(),v=l.host,w=l.pathname,y=e.sendReferrerWithTrackingEvents!==!1,m=Object.assign(i);return r&&(m.c=r),s&&(m.i=s),n&&(m.s=n),o&&(m.ui=o),a&&a.length&&(m.us=a),t&&(m.key=t),c&&Object.keys(c).forEach(function(q){m["ef-".concat(q)]=c[q]}),u&&f&&f.match(/POST/i)&&(m.beacon=!0),y&&v&&(m.origin_referrer=v,w&&(m.origin_referrer+=w)),m._dt=Date.now(),m=M.cleanParams(m),m}function Z(i,e){return Ui.stringify(he(i,e),{indices:!1})}var Ir=function(){function i(e){(0,Ni.default)(this,i),this.options=e||{},this.eventemitter=new Mi,this.requests=new jr(e,this.eventemitter)}return(0,Li.default)(i,[{key:"trackSessionStart",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),n={action:"session_start"};return this.requests.queue("".concat(r).concat(Z(n,this.options)),void 0,void 0,t),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r="".concat(this.options.serviceUrl,"/behavior?"),n={action:"focus"};return this.requests.queue("".concat(r).concat(Z(n,this.options)),void 0,void 0,t),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,ee.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},o={},a=t.item_name,c=t.name,f=t.item_id,u=t.customer_id,l=t.variation_id,v=t.url;a?o.item_name=a:c&&(o.item_name=c),f?o.item_id=f:u&&(o.item_id=u),l&&(o.variation_id=l),v&&(o.url=v);var w="".concat(n).concat(Z(s,this.options)),y="POST",m=he(o,Q(Q({},this.options),{},{requestMethod:y}));return this.requests.queue(w,y,m,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelect",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,ee.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(M.encodeURIComponentRFC3986(M.trimNonBreakingSpaces(t)),"/select?"),o={},a=r.original_query,c=r.section,f=r.original_section,u=r.tr,l=r.group_id,v=r.display_name;return a&&(o.original_query=a),u&&(o.tr=u),(f||c)&&(o.section=f||c),l&&(o.group={group_id:l,display_name:v}),this.requests.queue("".concat(s).concat(Z(o,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,ee.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(M.encodeURIComponentRFC3986(M.trimNonBreakingSpaces(t)),"/search?"),o={},a=r.original_query,c=r.group_id,f=r.display_name;return a&&(o.original_query=a),c&&(o.group={group_id:c,display_name:f}),this.requests.queue("".concat(s).concat(Z(o,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,ee.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/behavior?"),o={action:"search-results",term:t},a=r.num_results,c=r.customer_ids,f=r.item_ids,u;return M.isNil(a)||(o.num_results=a),f&&Array.isArray(f)&&f.length?u=f:c&&Array.isArray(c)&&c.length&&(u=c),u&&u.length&&(o.customer_ids=u.slice(0,100).join(",")),this.requests.queue("".concat(s).concat(Z(o,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&typeof t=="string"){if(r&&(0,ee.default)(r)==="object"&&!Array.isArray(r)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(M.encodeURIComponentRFC3986(M.trimNonBreakingSpaces(t)),"/click_through?"),o={},a=r.item_name,c=r.name,f=r.item_id,u=r.customer_id,l=r.variation_id,v=r.result_id,w=r.item_is_convertible;return a?o.name=a:c&&(o.name=c),f?o.customer_id=f:u&&(o.customer_id=u),l&&(o.variation_id=l),v&&(o.result_id=v),typeof w=="boolean"&&(o.item_is_convertible=w),this.requests.queue("".concat(s).concat(Z(o,this.options)),void 0,void 0,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r&&(0,ee.default)(r)==="object"&&!Array.isArray(r)){var s=t||"TERM_UNKNOWN",o="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},c={},f=r.name,u=r.item_name,l=r.item_id,v=r.customer_id,w=r.variation_id,y=r.revenue,m=r.section,q=m===void 0?"Products":m,D=r.display_name,F=r.type,j=r.is_custom_type;l?c.item_id=l:v&&(c.item_id=v),u?c.item_name=u:f&&(c.item_name=f),w&&(c.variation_id=w),y&&(c.revenue=y.toString()),q&&(a.section=q,c.section=q),s&&(c.search_term=s),F&&(c.type=F),j&&(c.is_custom_type=j),D&&(c.display_name=D);var N="".concat(o).concat(Z(a,this.options)),z="POST",ne=he(c,Q(Q({},this.options),{},{requestMethod:z}));return this.requests.queue(N,z,ne,n),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,ee.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},o={},a=t.items,c=t.revenue,f=t.order_id,u=t.section;if(f){if(M.hasOrderIdRecord(f))return!1;M.addOrderIdRecord(f),o.order_id=f}a&&Array.isArray(a)&&(o.items=a.slice(0,100)),c&&(o.revenue=c),u?s.section=u:s.section="Products";var l="".concat(n).concat(Z(s,this.options)),v="POST",w=he(o,Q(Q({},this.options),{},{requestMethod:v}));return this.requests.queue(l,v,w,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,ee.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},o=t.result_count,a=t.result_page,c=t.result_id,f=t.section,u=t.url,l=t.pod_id,v=t.num_results_viewed,w=t.items;M.isNil(o)||(s.result_count=o),M.isNil(a)||(s.result_page=a),c&&(s.result_id=c),f?s.section=f:s.section="Products",u&&(s.url=u),l&&(s.pod_id=l),M.isNil(v)||(s.num_results_viewed=v),w&&Array.isArray(w)&&(s.items=w.slice(0,100));var y="".concat(n).concat(Z({},this.options)),m="POST",q=he(s,Q(Q({},this.options),{},{requestMethod:m}));return this.requests.queue(y,m,q,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,ee.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},o=t.variation_id,a=t.section,c=t.result_id,f=t.result_count,u=t.result_page,l=t.result_position_on_page,v=t.num_results_per_page,w=t.pod_id,y=t.strategy_id,m=t.item_id;o&&(s.variation_id=o),a?s.section=a:s.section="Products",c&&(s.result_id=c),M.isNil(f)||(s.result_count=f),M.isNil(u)||(s.result_page=u),M.isNil(l)||(s.result_position_on_page=l),M.isNil(v)||(s.num_results_per_page=v),w&&(s.pod_id=w),y&&(s.strategy_id=y),m&&(s.item_id=m);var q="".concat(n).concat(Z({},this.options)),D="POST",F=he(s,Q(Q({},this.options),{},{requestMethod:D}));return this.requests.queue(q,D,F,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,ee.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),s={},o=t.section,a=t.result_count,c=t.result_page,f=t.result_id,u=t.selected_filters,l=t.url,v=t.sort_order,w=t.sort_by,y=t.filter_name,m=t.filter_value,q=t.items;o?s.section=o:s.section="Products",M.isNil(a)||(s.result_count=a),M.isNil(c)||(s.result_page=c),f&&(s.result_id=f),u&&(s.selected_filters=u),l&&(s.url=l),v&&(s.sort_order=v),w&&(s.sort_by=w),y&&(s.filter_name=y),m&&(s.filter_value=m),q&&Array.isArray(q)&&(s.items=q.slice(0,100));var D="".concat(n).concat(Z({},this.options)),F="POST",j=he(s,Q(Q({},this.options),{},{requestMethod:F}));return this.requests.queue(D,F,j,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t&&(0,ee.default)(t)==="object"&&!Array.isArray(t)){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},o=t.section,a=t.variation_id,c=t.result_id,f=t.result_count,u=t.result_page,l=t.result_position_on_page,v=t.num_results_per_page,w=t.selected_filters,y=t.filter_name,m=t.filter_value,q=t.item_id;o?s.section=o:s.section="Products",a&&(s.variation_id=a),c&&(s.result_id=c),M.isNil(f)||(s.result_count=f),M.isNil(u)||(s.result_page=u),M.isNil(l)||(s.result_position_on_page=l),M.isNil(v)||(s.num_results_per_page=v),w&&(s.selected_filters=w),y&&(s.filter_name=y),m&&(s.filter_value=m),q&&(s.item_id=q);var D="".concat(n).concat(Z({},this.options)),F="POST",j=he(s,Q(Q({},this.options),{},{requestMethod:F}));return this.requests.queue(D,F,j,r),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,ee.default)(t)==="object"&&!!t.item_id){var n="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},o=t.item_id,a=t.item_name,c=t.variation_id,f=t.section;s.section=f||"Products",s.item_id=o,a&&(s.item_name=a),c&&(s.variation_id=c);var u="".concat(n).concat(Z({},this.options)),l="POST",v=he(s,Q(Q({},this.options),{},{requestMethod:l}));return this.requests.queue(u,l,v,r),this.requests.send(),!0}return this.requests.send(),new Error('A parameters object with an "item_id" property is required.')}},{key:"on",value:function(t,r){return t!=="success"&&t!=="error"?new Error('messageType must be a string of value "success" or "error"'):!r||typeof r!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(t,r),!0)}}]),i}();Ir.RequestQueue=jr;Fr.exports=Ir});var Nr=P((Cs,Hi)=>{Hi.exports={name:"@constructor-io/constructorio-client-javascript",version:"2.29.3",description:"Constructor.io JavaScript client",main:"lib/constructorio.js",scripts:{clean:"sudo rm -rf node_modules package-lock.json",version:"chmod +x ./scripts/verify-node-version.sh && ./scripts/verify-node-version.sh && npm run docs && git add ./docs/* && npm run bundle && git add -A ./dist","check-lisc":"license-checker --production --onlyAllow 'Apache-2.0;BSD-3-Clause;MIT'",lint:"eslint 'src/**/*.js' 'spec/**/*.js'",test:"npm run compile && mkdir -p test && cp -rf lib/* test && mocha ./spec/*","test:src":"mkdir -p test && cp -rf src/* test && mocha ./spec/*","test:bundled":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha ./spec/*","test:all":"npm run test && npm run test:bundled",precoverage:"rm -rf ./coverage && rm -rf ./.nyc_output",coverage:"nyc --all --reporter=html npm run test:src",postcoverage:"serve --listen 8080 --config ./serve.json && rm -rf test",docs:"jsdoc --configure ./.jsdoc.json ./README.md --recurse ./src --destination ./docs",compile:"babel src/ -d lib/",prepublish:"npm run compile",bundle:"rm -rf ./dist/* && npm run compile && node bundle.js",prepare:"husky install"},repository:{type:"git",url:"git+https://github.com/Constructor-io/constructorio-client-javascript.git"},author:"constructor.io",license:"MIT",bugs:{url:"https://github.com/Constructor-io/constructorio-client-javascript/issues"},homepage:"https://github.com/Constructor-io/constructorio-client-javascript#readme",files:["lib/**/*"],devDependencies:{"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/plugin-transform-runtime":"^7.16.4","@babel/preset-env":"^7.15.8","@babel/register":"^7.15.3",chai:"^4.2.0","chai-as-promised":"^7.1.1",dotenv:"^8.6.0",esbuild:"^0.12.28",eslint:"^8.0.1","eslint-config-airbnb-base":"^13.1.0","eslint-plugin-import":"^2.25.2","global-jsdom":"^8.5.0",husky:"^7.0.4",jsdoc:"^3.6.7",jsdom:"^20.0.0","license-checker":"^25.0.1","lodash.clonedeep":"^4.5.0",minami:"^1.2.3",mocha:"^9.1.3",nyc:"^15.1.0",serve:"^13.0.2",sinon:"^7.5.0","sinon-chai":"^3.7.0"},dependencies:{"@constructor-io/constructorio-id":"^2.4.10","crc-32":"^1.2.0","es6-promise":"^4.2.8",events:"^3.0.0","fetch-ponyfill":"^7.1.0",qs:"6.7.2",store2:"^2.9.0"}}});var es=P((xs,Mr)=>{E();"use strict";var Lr=re(),Gi=Lr(oe()),zi=Lr(ae()),Ji=At(),Wi=er(),Ki=nr(),Vi=ar(),Xi=lr(),Ur=Pr(),Yi=we(),_t=ce(),Qi=Nr(),$i=Qi.version,Zi=function(){var e="ciojs-client-",t=[];return _t.canUseDOM()||t.push("domless"),typeof B!="undefined"&&typeof B.env!="undefined"&&B.env.BUNDLED&&t.push("bundled"),"".concat(e).concat(t.join("-")).concat(t.length?"-":"").concat($i)},bt=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Gi.default)(this,i);var t=e.apiKey,r=e.version,n=e.serviceUrl,s=e.segments,o=e.testCells,a=e.clientId,c=e.sessionId,f=e.userId,u=e.fetch,l=e.trackingSendDelay,v=e.sendReferrerWithTrackingEvents,w=e.sendTrackingEvents,y=e.eventDispatcher,m=e.idOptions,q=e.beaconMode,D=e.networkParameters;if(!t||typeof t!="string")throw new Error("API key is a required parameter of type string");var F,j,N=typeof window!="undefined"&&window.CLIENT_VERSION;if(_t.canUseDOM()){var z=new Ji(m||{});F=z.session_id,j=z.client_id}else{if(!c||typeof c!="number")throw new Error("sessionId is a required user parameter of type number");if(!a||typeof a!="string")throw new Error("clientId is a required user parameter of type string")}this.options={apiKey:t,version:r||N||Zi(),serviceUrl:n&&n.replace(/\/$/,"")||"https://ac.cnstrc.com",sessionId:c||F,clientId:a||j,userId:f,segments:s,testCells:o,fetch:u,trackingSendDelay:l,sendTrackingEvents:w,sendReferrerWithTrackingEvents:v,eventDispatcher:y,beaconMode:q!==!1,networkParameters:D||{}},this.search=new Wi(this.options),this.browse=new Ki(this.options),this.autocomplete=new Vi(this.options),this.recommendations=new Xi(this.options),this.tracker=new Ur(this.options),new Yi(e.eventDispatcher).queue("instantiated",this.options)}return(0,zi.default)(i,[{key:"setClientOptions",value:function(t){if(Object.keys(t).length){var r=t.apiKey,n=t.segments,s=t.testCells,o=t.userId;r&&(this.options.apiKey=r),n&&(this.options.segments=n),s&&(this.options.testCells=s),o&&(this.options.userId=o)}}}]),i}();bt.Tracker=Ur;_t.canUseDOM()&&(window.ConstructorioClient=bt);Mr.exports=bt});es();})();
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */
/*! store2 - v2.13.2 - 2022-03-14
* Copyright (c) 2022 Nathan Bubna; Licensed (MIT OR GPL-3.0) */

/*!
 *
 * Constructor.io JavaScript Client, version 2.71.3
 * (c) 2015-2025 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 * ---
 * Includes code from the 'browserify/events' library, licensed under the MIT License.
 * For full license details, see the library documentation.
 *
 */
(()=>{var pt=typeof require!="undefined"?require:r=>{throw new Error('Dynamic require of "'+r+'" is not supported')};var Pi=(r,t)=>()=>(r&&(t=r(r=0)),t);var D=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Fi,U,k=Pi(()=>{Fi={BUNDLED:"true"},U={env:Fi}});var Z=D((io,be)=>{k();function zi(r){return r&&r.__esModule?r:{default:r}}be.exports=zi,be.exports.__esModule=!0,be.exports.default=be.exports});var $=D((ro,ke)=>{k();function Mi(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}ke.exports=Mi,ke.exports.__esModule=!0,ke.exports.default=ke.exports});var ee=D((no,qe)=>{k();function wt(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function Ji(r,t,e){return t&&wt(r.prototype,t),e&&wt(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}qe.exports=Ji,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var bt=D((oo,et)=>{k();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){"use strict";if(t==null)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null){o=Object(o);for(var s=Object.keys(Object(o)),n=0,l=s.length;l>n;n++){var c=s[n],a=Object.getOwnPropertyDescriptor(o,c);a!==void 0&&a.enumerable&&(e[c]=o[c])}}}return e}});var r=function(t){var e={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_secure:null,cookie_samesite:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,new_to_beacon:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,e,t),!this.client_id)if(!this.on_node&&this.persist){var i;this.client_id_storage_location==="cookie"&&(i=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(i=this.get_local_object(this.local_name_client_id)),this.client_id=i||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};r.prototype.set_cookie=function(t,e){if(!this.on_node&&this.persist){var i=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),o=t+"="+e+"; expires="+i.toUTCString()+"; path=/";return this.cookie_domain&&(o+="; domain="+this.cookie_domain),this.cookie_secure&&(o+="; secure"),this.cookie_samesite&&(o+="; samesite="+this.cookie_samesite),document.cookie=o,o}return null},r.prototype.get_cookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){var s=i[o];try{for(var n=decodeURIComponent(s);n.charAt(0)===" ";)n=n.substring(1);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}catch(l){}}},r.prototype.delete_cookie=function(t){document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},r.prototype.generate_client_id=function(){var t;if(!this.on_node){var e=this.get_cookie(this.cookie_name_client_id),i=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&i&&(t=i,this.set_cookie(this.cookie_name_client_id,t),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&e&&(t=e,this.set_local_object(this.local_name_client_id,t),this.delete_cookie(this.cookie_name_client_id))}return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,n=o==="x"?s:s&3|8;return n.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,t),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,t)),t},r.prototype.get_local_object=function(t){var e,i=window&&window.localStorage;if(i&&typeof t=="string")try{e=JSON.parse(i.getItem(t))}catch(o){e=i.getItem(t)}return e},r.prototype.set_local_object=function(t,e){var i=window&&window.localStorage;if(i&&typeof t=="string"){if(typeof e=="object")try{i.setItem(t,JSON.stringify(e))}catch(o){}if(typeof e=="string"||typeof e=="number")try{i.setItem(t,e)}catch(o){}}},r.prototype.delete_local_object=function(t){var e=window&&window.localStorage;if(e&&typeof t=="string")try{e.removeItem(t)}catch(i){}},r.prototype.generate_session_id=function(){var t=this.get_cookie(this.cookie_name_session_data),e=this.get_local_object(this.local_name_session_data),i=Date.now(),o=1e3*60*30,s;if(this.session_id_storage_location==="local"&&(s=this.get_local_object(this.local_name_session_data),!s&&t&&(s=t,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){s=this.get_cookie(this.cookie_name_session_data);try{s=JSON.parse(s)}catch(a){}!s&&e&&(s=e,this.delete_local_object(this.local_name_session_data))}var n=1,l=1;s&&typeof s=="object"&&(l=parseInt(s.sessionId,10)||1,s.lastTime>i-o?n=l:n=l+1),this.session_id=n,this.session_is_new=!(s&&l===n),s&&s.newToBeacon&&(this.new_to_beacon=!0);let c={sessionId:n,lastTime:i};return this.session_is_new&&(c.newToBeacon=!0),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,n),this.set_local_object(this.local_name_session_data,c)),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,n),this.set_cookie(this.cookie_name_session_data,JSON.stringify(c))),n},typeof et!="undefined"&&typeof pt!="undefined"&&(et.exports=r)})()});var _e=D((so,ce)=>{k();function tt(r){return ce.exports=tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce.exports.__esModule=!0,ce.exports.default=ce.exports,tt(r)}ce.exports=tt,ce.exports.__esModule=!0,ce.exports.default=ce.exports});var qt=D(it=>{k();var kt;(function(r){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof it=="object"?r(it):typeof define=="function"&&define.amd?define(function(){var t={};return r(t),t}):r(kt={}):r(kt={})})(function(r){r.version="1.2.2";function t(){for(var d=0,O=new Array(256),g=0;g!=256;++g)d=g,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,O[g]=d;return typeof Int32Array!="undefined"?new Int32Array(O):O}var e=t();function i(d){var O=0,g=0,A=0,T=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)T[A]=d[A];for(A=0;A!=256;++A)for(g=d[A],O=256+A;O<4096;O+=256)g=T[O]=g>>>8^d[g&255];var S=[];for(A=1;A!=16;++A)S[A-1]=typeof Int32Array!="undefined"?T.subarray(A*256,A*256+256):T.slice(A*256,A*256+256);return S}var o=i(e),s=o[0],n=o[1],l=o[2],c=o[3],a=o[4],u=o[5],f=o[6],v=o[7],h=o[8],_=o[9],p=o[10],y=o[11],q=o[12],w=o[13],b=o[14];function C(d,O){for(var g=O^-1,A=0,T=d.length;A<T;)g=g>>>8^e[(g^d.charCodeAt(A++))&255];return~g}function m(d,O){for(var g=O^-1,A=d.length-15,T=0;T<A;)g=b[d[T++]^g&255]^w[d[T++]^g>>8&255]^q[d[T++]^g>>16&255]^y[d[T++]^g>>>24]^p[d[T++]]^_[d[T++]]^h[d[T++]]^v[d[T++]]^f[d[T++]]^u[d[T++]]^a[d[T++]]^c[d[T++]]^l[d[T++]]^n[d[T++]]^s[d[T++]]^e[d[T++]];for(A+=15;T<A;)g=g>>>8^e[(g^d[T++])&255];return~g}function E(d,O){for(var g=O^-1,A=0,T=d.length,S=0,L=0;A<T;)S=d.charCodeAt(A++),S<128?g=g>>>8^e[(g^S)&255]:S<2048?(g=g>>>8^e[(g^(192|S>>6&31))&255],g=g>>>8^e[(g^(128|S&63))&255]):S>=55296&&S<57344?(S=(S&1023)+64,L=d.charCodeAt(A++)&1023,g=g>>>8^e[(g^(240|S>>8&7))&255],g=g>>>8^e[(g^(128|S>>2&63))&255],g=g>>>8^e[(g^(128|L>>6&15|(S&3)<<4))&255],g=g>>>8^e[(g^(128|L&63))&255]):(g=g>>>8^e[(g^(224|S>>12&15))&255],g=g>>>8^e[(g^(128|S>>6&63))&255],g=g>>>8^e[(g^(128|S&63))&255]);return~g}r.table=e,r.bstr=C,r.buf=m,r.str=E})});var Pe=D((ao,mt)=>{k();"use strict";function oe(r){var t;try{t=window[r];var e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(i){return typeof DOMException!="undefined"&&i instanceof DOMException&&(i.name==="QuotaExceededError"||i.name==="QUOTA_EXCEEDED_ERR"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||i.toString().indexOf("QuotaExceededError")!==-1)&&t&&t.length!==0}}var Gi={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(!oe("sessionStorage"))return null;var i=sessionStorage.getItem(t);if(i)try{return JSON.parse(i)}catch(o){return i}return null},set:function(t,e){try{sessionStorage.setItem(t,JSON.stringify(e))}catch(i){this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],oe("sessionStorage")&&sessionStorage.removeItem(t)},key:function(t){var e,i;if(!oe("sessionStorage")){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[t]}var s=(e=sessionStorage)===null||e===void 0?void 0:e.key(t),n=((i=sessionStorage)===null||i===void 0?void 0:i.length)||0;if(t>=n){var l,c=t-n;return(l=Object.keys(this.overflow))===null||l===void 0?void 0:l[c]}return s},length:function(){var t=Object.keys(this.overflow).length;return oe("sessionStorage")?sessionStorage.length+t:t},clear:function(){this.overflow={},oe("sessionStorage")&&sessionStorage.clear()}},Ki={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(!oe("localStorage"))return null;var i=localStorage.getItem(t);if(i)try{return JSON.parse(i)}catch(o){return i}return null},set:function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(i){this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],oe("localStorage")&&localStorage.removeItem(t)},key:function(t){var e,i;if(!oe("localStorage")){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[t]}var s=(e=localStorage)===null||e===void 0?void 0:e.key(t),n=((i=localStorage)===null||i===void 0?void 0:i.length)||0;if(t>=n){var l,c=t-n;return(l=Object.keys(this.overflow))===null||l===void 0?void 0:l[c]}return s},length:function(){var t=Object.keys(this.overflow).length;return oe("localStorage")?localStorage.length+t:t},clear:function(){this.overflow={},oe("localStorage")&&localStorage.clear()}},Vi={local:Ki,session:Gi,canUseStorage:oe};mt.exports=Vi});var te=D((co,At)=>{k();"use strict";var Hi=Z(),St=Hi(_e()),Et=qt(),rt=Pe(),nt="_constructorio_purchase_order_ids",Wi=[{pattern:/[\w\-+\\.]+@([\w-]+\.)+[\w-]{2,4}/,replaceWith:"<email_omitted>"},{pattern:/^(?:\+\d{11,12}|\+\d{1,3}\s\d{3}\s\d{3}\s\d{3,4}|\(\d{3}\)\d{7}|\(\d{3}\)\s\d{3}\s\d{4}|\(\d{3}\)\d{3}-\d{4}|\(\d{3}\)\s\d{3}-\d{4})$/,replaceWith:"<phone_omitted>"},{pattern:/^(?:4[0-9]{15}|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$/,replaceWith:"<credit_omitted>"}],W={trimNonBreakingSpaces:function(t){return t.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(t){var e={};return Object.keys(t).forEach(function(i){var o=t[i];typeof o=="string"?e[i]=W.trimNonBreakingSpaces(o):e[i]=o}),e},throwHttpErrorFromResponse:function(t,e){return e.json().then(function(i){throw t.message=i.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,t.headers=e.headers,t})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(t,e,i){W.canUseDOM()&&window.addEventListener(t,e,i)},removeEventListener:function(t,e,i){W.canUseDOM()&&window.removeEventListener(t,e,i)},getNavigator:function(){return W.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(t){return t==null},getWindowLocation:function(){return W.canUseDOM()?window.location:{}},getDocumentReferrer:function(){if(W.canUseDOM()){var t;return(t=document)===null||t===void 0?void 0:t.referrer}return null},getCanonicalUrl:function(){var t=null;try{if(W.canUseDOM()){var e,i=(e=document)===null||e===void 0?void 0:e.querySelector('link[rel="canonical"]'),o=i==null?void 0:i.getAttribute("href");if(o){var s=new URL(o,document.location.href);t=s.toString()}}}catch(n){}return t},dispatchEvent:function(t){W.canUseDOM()&&window.dispatchEvent(t)},createCustomEvent:function(t,e){if(W.canUseDOM())try{return new window.CustomEvent(t,{detail:e})}catch(o){var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!1,e),i}return null},hasOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,o=e;i&&(o="".concat(i,"-").concat(e));var s=Et.str(o.toString()),n=rt.local.get(nt);return typeof n=="string"&&(n=JSON.parse(n)),n&&n.includes(s)?!0:null},addOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,o=e;i&&(o="".concat(i,"-").concat(e));var s=Et.str(o.toString()),n=rt.local.get(nt);if(typeof n=="string"&&(n=JSON.parse(n)),n){if(n.includes(s))return;n.length>=10&&(n=n.slice(-9)),n.push(s)}else n=[s];rt.local.set(nt,n)},applyNetworkTimeout:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=t&&t.networkParameters&&t.networkParameters.timeout,s=e&&e.timeout,n=s||o;typeof n=="number"&&i&&setTimeout(function(){return i.abort()},n)},stringify:function(t,e,i){if(!t)return"";var o=[];return Object.keys(t).forEach(function(s){var n=t[s],l=W.encodeURIComponentRFC3986(s),c;if(n!=null){var a=e?"".concat(e,"%5B").concat(l,"%5D"):l;Array.isArray(n)?c=W.stringify(n,a,"array"):(0,St.default)(n)==="object"?c=W.stringify(n,a,"object"):i==="object"?c="".concat(a,"=").concat(W.encodeURIComponentRFC3986(n)):c="".concat(e||l,"=").concat(W.encodeURIComponentRFC3986(n)),o.push(c)}}),o.join("&")},toSnakeCase:function(t){return t.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={};return Object.keys(t).forEach(function(o){var s=W.toSnakeCase(o);i[s]=e&&(0,St.default)(t[o])==="object"&&!Array.isArray(t[o])?W.toSnakeCaseKeys(t[o],e):t[o]}),i},containsPii:function(t,e){var i=t.toLowerCase();return e.test(i)},obfuscatePiiRequest:function(t){var e=t;try{var i,o,s,n=new URL(t),l=n==null||(i=n.pathname)===null||i===void 0?void 0:i.split("/"),c=n==null||(o=n.search)===null||o===void 0||(s=o.split("&"))===null||s===void 0?void 0:s.map(function(a){var u;return(u=a.split("="))===null||u===void 0?void 0:u[1]});Wi.forEach(function(a){var u=a.pattern,f=a.replaceWith;l.forEach(function(v){var h=decodeURIComponent(v);W.containsPii(h,u)&&(e=e.replaceAll(v,f))}),c.forEach(function(v){var h=decodeURIComponent(v);W.containsPii(h,u)&&(e=e.replaceAll(h,f))})})}catch(a){}return e},convertResponseToJson:function(t){return t.ok?t.json().catch(function(){return t.text().then(function(e){throw new Error("Server responded with an invalid JSON object. Response code: ".concat(t.code,", Response: ").concat(e))})}):W.throwHttpErrorFromResponse(new Error,t)},addHTTPSToString:function(t){if(typeof t!="string")return null;var e=t.startsWith("https://"),i=t.startsWith("http://");if(!e&&i)return t.replace("http","https");if(!i&&!e){var o="https://".concat(t);return o}return t},truncateString:function(t,e){return t.slice(0,e)}};At.exports=W});var ve=D((lo,Ct)=>{k();"use strict";var Rt=Z(),Qi=Rt($()),Xi=Rt(ee()),Fe=te(),Yi=function(){function r(t){var e=this;(0,Qi.default)(this,r),this.events=[],this.enabled=!(t&&t.enabled===!1),this.waitForBeacon=!(t&&t.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,Fe.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),Fe.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,Xi.default)(r,[{key:"queue",value:function(e,i){this.events.push({name:e,data:i}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),i=e.name,o=e.data,s="cio.client.".concat(i);Fe.dispatchEvent(Fe.createCustomEvent(s,o))}}}]),r}();Ct.exports=Yi});var Ut=D((fo,xt)=>{k();"use strict";var Ot=Z(),Zi=Ot($()),$i=Ot(ee()),er=ve(),se=te();function Tt(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e.apiKey,s=e.version,n=e.serviceUrl,l=e.sessionId,c=e.clientId,a=e.userId,u=e.segments,f=e.testCells,v={c:s};if(v.key=o,v.i=c,v.s=l,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(f&&Object.keys(f).forEach(function(L){v["ef-".concat(L)]=f[L]}),u&&u.length&&(v.us=u),a&&(v.ui=String(a)),t){var h=t.offset,_=t.page,p=t.resultsPerPage,y=t.filters,q=t.sortBy,w=t.sortOrder,b=t.section,C=t.fmtOptions,m=t.hiddenFields,E=t.hiddenFacets,d=t.variationsMap,O=t.qsParam,g=t.preFilterExpression,A=t.filterMatchTypes;se.isNil(h)||(v.offset=h),se.isNil(_)||(v.page=_),se.isNil(p)||(v.num_results_per_page=p),y&&(v.filters=y),A&&(v.filter_match_types=A),q&&(v.sort_by=q),w&&(v.sort_order=w),b&&(v.section=b),C&&(v.fmt_options=C),m&&(v.fmt_options?v.fmt_options.hidden_fields=m:v.fmt_options={hidden_fields:m}),E&&(v.fmt_options?v.fmt_options.hidden_facets=E:v.fmt_options={hidden_facets:E}),d&&(v.variations_map=JSON.stringify(d)),g&&(v.pre_filter_expression=JSON.stringify(g)),O&&(v.qs=JSON.stringify(O))}v._dt=Date.now(),v=se.cleanParams(v);var T=se.stringify(v),S=i?"search/natural_language":"search";return"".concat(n,"/").concat(S,"/").concat(se.encodeURIComponentRFC3986(se.trimNonBreakingSpaces(r)),"?").concat(T)}var tr=function(){function r(t){(0,Zi.default)(this,r),this.options=t||{},this.eventDispatcher=new er(t.eventDispatcher)}return(0,$i.default)(r,[{key:"getSearchResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,se.applyNetworkTimeout(this.options,s,a)}try{n=Tt(e,i,this.options)}catch(u){return Promise.reject(u)}return l(n,{signal:c}).then(se.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),o.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return o.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,se.applyNetworkTimeout(this.options,s,a)}try{var u=!0;n=Tt(e,i,this.options,u)}catch(f){return Promise.reject(f)}return l(n,{signal:c}).then(se.convertResponseToJson).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(v){v.result_id=f.result_id}),o.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;if(f.response&&f.response.redirect)return o.eventDispatcher.queue("search.getVoiceSearchResults.completed",f),f;throw new Error("getVoiceSearchResults response data is malformed")})}}]),r}();xt.exports=tr});var Se=D((vo,me)=>{k();function ir(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}me.exports=ir,me.exports.__esModule=!0,me.exports.default=me.exports});var Nt=D((ho,Dt)=>{k();"use strict";var ot=Z(),rr=ot($()),nr=ot(ee()),or=ot(Se());function It(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function ze(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?It(Object(e),!0).forEach(function(i){(0,or.default)(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):It(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}var sr=ve(),G=te();function Ee(r,t){var e=t.apiKey,i=t.version,o=t.sessionId,s=t.clientId,n=t.userId,l=t.segments,c=t.testCells,a={c:i};if(a.key=e,a.i=s,a.s=o,c&&Object.keys(c).forEach(function(O){a["ef-".concat(O)]=c[O]}),l&&l.length&&(a.us=l),n&&(a.ui=String(n)),r){var u=r.page,f=r.offset,v=r.resultsPerPage,h=r.filters,_=r.sortBy,p=r.sortOrder,y=r.section,q=r.fmtOptions,w=r.hiddenFields,b=r.hiddenFacets,C=r.variationsMap,m=r.qsParam,E=r.preFilterExpression,d=r.filterMatchTypes;G.isNil(u)||(a.page=u),G.isNil(f)||(a.offset=f),G.isNil(v)||(a.num_results_per_page=v),h&&(a.filters=h),d&&(a.filter_match_types=d),_&&(a.sort_by=_),p&&(a.sort_order=p),y&&(a.section=y),q&&(a.fmt_options=q),w&&(a.fmt_options?a.fmt_options.hidden_fields=w:a.fmt_options={hidden_fields:w}),b&&(a.fmt_options?a.fmt_options.hidden_facets=b:a.fmt_options={hidden_facets:b}),C&&(a.variations_map=JSON.stringify(C)),E&&(a.pre_filter_expression=JSON.stringify(E)),m&&(a.qs=JSON.stringify(m))}return a._dt=Date.now(),a=G.cleanParams(a),a}function ur(r,t,e,i){var o=i.serviceUrl;if(!r||typeof r!="string")throw new Error("filterName is a required parameter of type string");if(!t||typeof t!="string")throw new Error("filterValue is a required parameter of type string");var s=Ee(e,i),n=G.stringify(s);return"".concat(o,"/browse/").concat(G.encodeURIComponentRFC3986(G.trimNonBreakingSpaces(r)),"/").concat(G.encodeURIComponentRFC3986(G.trimNonBreakingSpaces(t)),"?").concat(n)}function ar(r,t,e){var i=e.serviceUrl;if(!r||!Array.isArray(r)||!r.length)throw new Error("ids is a required parameter of type array");var o=ze(ze({},Ee(t,e)),{},{ids:r}),s=G.stringify(o);return"".concat(i,"/browse/items?").concat(s)}function cr(r,t){var e=t.serviceUrl,i=ze({},Ee(r,t));delete i._dt;var o=G.stringify(i);return"".concat(e,"/browse/facets?").concat(o)}function lr(r,t,e){var i=e.serviceUrl;if(!r||typeof r!="string")throw new Error("facetName is a required parameter of type string");var o=ze({},Ee(t,e));o.facet_name=r,delete o._dt;var s=G.stringify(o);return"".concat(i,"/browse/facet_options?").concat(s)}var fr=function(){function r(t){(0,rr.default)(this,r),this.options=t||{},this.eventDispatcher=new sr(t.eventDispatcher)}return(0,nr.default)(r,[{key:"getBrowseResults",value:function(e,i,o){var s=this,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l,c=this.options.fetch,a;if(typeof AbortController=="function"){var u=new AbortController;a=u&&u.signal,G.applyNetworkTimeout(this.options,n,u)}try{l=ur(e,i,o,this.options)}catch(f){return Promise.reject(f)}return c(l,{signal:a}).then(G.convertResponseToJson).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(v){v.result_id=f.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",f),f;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,G.applyNetworkTimeout(this.options,s,a)}try{n=ar(e,i,this.options)}catch(u){return Promise.reject(u)}return l(n,{signal:c}).then(G.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),o.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options.fetch,n=this.options.serviceUrl,l=Ee(e,this.options),c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,G.applyNetworkTimeout(this.options,o,a)}delete l._dt;var u=G.stringify(l),f="".concat(n,"/browse/groups?").concat(u);return s(f,{signal:c}).then(G.convertResponseToJson).then(function(v){if(v.response&&v.response.groups)return i.eventDispatcher.queue("browse.getBrowseGroups.completed",v),v;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,i){var o=this,s,n=this.options.fetch,l;if(typeof AbortController=="function"){var c=new AbortController;l=c&&c.signal,G.applyNetworkTimeout(this.options,i,c)}try{s=cr(e,this.options)}catch(a){return Promise.reject(a)}return n(s,{signal:l}).then(G.convertResponseToJson).then(function(a){if(a.response&&a.response.facets)return o.eventDispatcher.queue("browse.getBrowseFacets.completed",a),a;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,G.applyNetworkTimeout(this.options,s,a)}try{n=lr(e,o,this.options)}catch(u){return Promise.reject(u)}return l(n,{signal:c}).then(G.convertResponseToJson).then(function(u){if(u.response&&u.response.facets)return i.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),r}();Dt.exports=fr});var jt=D((go,Bt)=>{k();"use strict";var Lt=Z(),vr=Lt($()),dr=Lt(ee()),hr=ve(),pe=te(),gr=pe.convertResponseToJson,_r=pe.cleanParams,pr=pe.applyNetworkTimeout,yr=pe.trimNonBreakingSpaces,wr=pe.encodeURIComponentRFC3986,br=pe.stringify;function kr(r,t,e){var i=e.apiKey,o=e.version,s=e.serviceUrl,n=e.sessionId,l=e.clientId,c=e.userId,a=e.segments,u=e.testCells,f={c:o};if(f.key=i,f.i=l,f.s=n,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(d){f["ef-".concat(d)]=u[d]}),a&&a.length&&(f.us=a),c&&(f.ui=String(c)),t){var v=t.numResults,h=t.resultsPerSection,_=t.filters,p=t.filtersPerSection,y=t.hiddenFields,q=t.variationsMap,w=t.preFilterExpression,b=t.qsParam,C=t.fmtOptions;v&&(f.num_results=v),h&&Object.keys(h).forEach(function(d){f["num_results_".concat(d)]=h[d]}),_&&(f.filters=_),p&&Object.keys(p).forEach(function(d){f["filters[".concat(d,"]")]=p[d]}),w&&(f.pre_filter_expression=JSON.stringify(w)),C&&(f.fmt_options=C),y&&(f.fmt_options?f.fmt_options.hidden_fields=y:f.fmt_options={hidden_fields:y}),q&&(f.variations_map=JSON.stringify(q)),b&&(f.qs=JSON.stringify(b))}f._dt=Date.now(),f=_r(f);var m=br(f),E=r.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(wr(yr(E)),"?").concat(m)}var qr=function(){function r(t){(0,vr.default)(this,r),this.options=t||{},this.eventDispatcher=new hr(t.eventDispatcher)}return(0,dr.default)(r,[{key:"getAutocompleteResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,pr(this.options,s,a)}try{n=kr(e,i,this.options)}catch(u){return Promise.reject(u)}return l(n,{signal:c}).then(gr).then(function(u){if(u.sections){if(u.result_id){var f=Object.keys(u.sections);f.forEach(function(v){var h=u.sections[v];h.length&&h.forEach(function(_){_.result_id=u.result_id})})}return o.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),r}();Bt.exports=qr});var zt=D((_o,Ft)=>{k();"use strict";var Pt=Z(),mr=Pt($()),Sr=Pt(ee()),Er=ve(),de=te();function Ar(r,t,e){var i=e.apiKey,o=e.version,s=e.serviceUrl,n=e.sessionId,l=e.userId,c=e.clientId,a=e.segments,u={c:o};if(u.key=i,u.i=c,u.s=n,!r||typeof r!="string")throw new Error("podId is a required parameter of type string");if(a&&a.length&&(u.us=a),l&&(u.ui=String(l)),t){var f=t.numResults,v=t.itemIds,h=t.section,_=t.term,p=t.filters,y=t.variationsMap,q=t.hiddenFields,w=t.preFilterExpression,b=t.fmtOptions;de.isNil(f)||(u.num_results=f),v&&(u.item_id=v),h&&(u.section=h),_&&(u.term=_),p&&(u.filters=p),b&&(u.fmt_options=b),q&&(u.fmt_options?u.fmt_options.hidden_fields=q:u.fmt_options={hidden_fields:q}),y&&(u.variations_map=JSON.stringify(y)),w&&(u.pre_filter_expression=JSON.stringify(w))}u=de.cleanParams(u);var C=de.stringify(u);return"".concat(s,"/recommendations/v1/pods/").concat(de.encodeURIComponentRFC3986(de.trimNonBreakingSpaces(r)),"?").concat(C)}var Rr=function(){function r(t){(0,mr.default)(this,r),this.options=t||{},this.eventDispatcher=new Er(t.eventDispatcher)}return(0,Sr.default)(r,[{key:"getRecommendations",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c;if(typeof AbortController=="function"){var a=new AbortController;c=a&&a.signal,de.applyNetworkTimeout(this.options,s,a)}try{n=Ar(e,i,this.options)}catch(u){return Promise.reject(u)}return l(n,{signal:c}).then(de.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(f){f.result_id=u.result_id}),o.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),r}();Ft.exports=Rr});var Zt=D((po,ut)=>{k();"use strict";var Cr=Z(),st=Cr(_e()),ye=(typeof Reflect=="undefined"?"undefined":(0,st.default)(Reflect))==="object"?Reflect:null,Mt=ye&&typeof ye.apply=="function"?ye.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)},Me;ye&&typeof ye.ownKeys=="function"?Me=ye.ownKeys:Object.getOwnPropertySymbols?Me=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Me=function(t){return Object.getOwnPropertyNames(t)};function Or(r){console&&console.warn&&console.warn(r)}var Jt=Number.isNaN||function(t){return t!==t};function F(){F.init.call(this)}ut.exports=F;ut.exports.once=Ir;F.EventEmitter=F;F.prototype._events=void 0;F.prototype._eventsCount=0;F.prototype._maxListeners=void 0;var Gt=10;function Je(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,st.default)(r))}Object.defineProperty(F,"defaultMaxListeners",{enumerable:!0,get:function(){return Gt},set:function(t){if(typeof t!="number"||t<0||Jt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Gt=t}});F.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};F.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Jt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Kt(r){return r._maxListeners===void 0?F.defaultMaxListeners:r._maxListeners}F.prototype.getMaxListeners=function(){return Kt(this)};F.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var n;if(e.length>0&&(n=e[0]),n instanceof Error)throw n;var l=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw l.context=n,l}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")Mt(c,this,e);else for(var a=c.length,u=Xt(c,a),i=0;i<a;++i)Mt(u[i],this,e);return!0};function Vt(r,t,e,i){var o,s,n;if(Je(e),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),s=r._events),n=s[t]),n===void 0)n=s[t]=e,++r._eventsCount;else if(typeof n=="function"?n=s[t]=i?[e,n]:[n,e]:i?n.unshift(e):n.push(e),o=Kt(r),o>0&&n.length>o&&!n.warned){n.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=r,l.type=t,l.count=n.length,Or(l)}return r}F.prototype.addListener=function(t,e){return Vt(this,t,e,!1)};F.prototype.on=F.prototype.addListener;F.prototype.prependListener=function(t,e){return Vt(this,t,e,!0)};function Tr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ht(r,t,e){var i={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},o=Tr.bind(i);return o.listener=e,i.wrapFn=o,o}F.prototype.once=function(t,e){return Je(e),this.on(t,Ht(this,t,e)),this};F.prototype.prependOnceListener=function(t,e){return Je(e),this.prependListener(t,Ht(this,t,e)),this};F.prototype.removeListener=function(t,e){var i,o,s,n,l;if(Je(e),o=this._events,o===void 0)return this;if(i=o[t],i===void 0)return this;if(i===e||i.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,i.listener||e));else if(typeof i!="function"){for(s=-1,n=i.length-1;n>=0;n--)if(i[n]===e||i[n].listener===e){l=i[n].listener,s=n;break}if(s<0)return this;s===0?i.shift():xr(i,s),i.length===1&&(o[t]=i[0]),o.removeListener!==void 0&&this.emit("removeListener",t,l||e)}return this};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(t){var e,i,o;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var s=Object.keys(i),n;for(o=0;o<s.length;++o)n=s[o],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=i[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this};function Wt(r,t,e){var i=r._events;if(i===void 0)return[];var o=i[t];return o===void 0?[]:typeof o=="function"?e?[o.listener||o]:[o]:e?Ur(o):Xt(o,o.length)}F.prototype.listeners=function(t){return Wt(this,t,!0)};F.prototype.rawListeners=function(t){return Wt(this,t,!1)};F.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):Qt.call(r,t)};F.prototype.listenerCount=Qt;function Qt(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}F.prototype.eventNames=function(){return this._eventsCount>0?Me(this._events):[]};function Xt(r,t){for(var e=new Array(t),i=0;i<t;++i)e[i]=r[i];return e}function xr(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function Ur(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function Ir(r,t){return new Promise(function(e,i){function o(n){r.removeListener(t,s),i(n)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",o),e([].slice.call(arguments))}Yt(r,t,s,{once:!0}),t!=="error"&&Dr(r,o,{once:!0})})}function Dr(r,t,e){typeof r.on=="function"&&Yt(r,"error",t,e)}function Yt(r,t,e,i){if(typeof r.on=="function")i.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function o(s){i.once&&r.removeEventListener(t,o),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,st.default)(r))}});var ei=D((yo,$t)=>{k();"use strict";$t.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot","Bytespider","BTTAgent","OnCrawl"]});var si=D((wo,oi)=>{k();"use strict";var ti=Z(),Nr=ti($()),Lr=ti(ee()),ii=Pe(),Br=ei(),at=te(),ri="_constructorio_is_human",ni=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],jr=function(){function r(){var t=this;(0,Nr.default)(this,r),this.hasPerformedHumanEvent=this.getIsHumanFromSessionStorage();var e=function i(){t.hasPerformedHumanEvent=!0,ii.session.set(ri,!0),ni.forEach(function(o){at.removeEventListener(o,i,!0)})};this.hasPerformedHumanEvent||ni.forEach(function(i){at.addEventListener(i,e,!0)})}return(0,Lr.default)(r,[{key:"getIsHumanFromSessionStorage",value:function(){return!!ii.session.get(ri)||!1}},{key:"isBot",value:function(){var e=at.getNavigator(),i=e.userAgent,o=e.webdriver,s=new RegExp("(".concat(Br.join("|"),")"));return!!(Boolean(i.match(s))||Boolean(o)||!this.getIsHumanFromSessionStorage())}}]),r}();oi.exports=jr});var ci=D((bo,ai)=>{k();"use strict";var ui=Z(),Pr=ui($()),Fr=ui(ee()),ct=Pe(),zr=si(),Ge=te(),Mr=te(),Jr=Mr.obfuscatePiiRequest,lt="_constructorio_requests",Gr=18e4,Kr=function(){function r(t,e){var i=this;(0,Pr.default)(this,r),this.options=t,this.eventemitter=e,this.humanity=new zr,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(t&&t.sendTrackingEvents===!0),Ge.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"?i.pageUnloading=!0:document.visibilityState==="visible"&&i.pageUnloading===!0&&(i.pageUnloading=!1,i.sendTrackingEvents&&i.send())}),this.sendTrackingEvents&&this.send()}return(0,Fr.default)(r,[{key:"queue",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&(!Ge.canUseDOM()||!this.humanity.isBot())){var n=r.get(),l=Jr(e);n.push({url:l,method:i,body:o,networkParameters:s}),r.set(n)}}},{key:"sendEvents",value:function(){var e=this,i=this.options.fetch,o=r.get();if((!Ge.canUseDOM()||!this.humanity.isBot())&&!this.requestPending&&!this.pageUnloading&&o.length){var s,n=o.shift(),l=n,c=l.networkParameters,a,u=this;if(r.set(o),c&&typeof AbortController=="function"){var f=new AbortController;a=f.signal,Ge.applyNetworkTimeout(this.options,c,f)}if(typeof n=="string"&&(n={url:n,method:"GET"}),n.url){var v=n.url.match(/\?.*_dt=([^&]+)/),h=parseInt(v&&v[1],10),_=+new Date;if(h&&Number.isInteger(h)&&_-h>Gr){this.sendTrackingEvents=!1,r.remove();return}}n.method==="GET"&&(s=i(n.url,{signal:a})),n.method==="POST"&&(s=i(n.url,{method:n.method,body:JSON.stringify(n.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:a})),s&&(this.requestPending=!0,s.then(function(p){p.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:n.url,method:n.method,message:"ok"}),e.requestPending=!1,e.send()):p.json().then(function(y){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:y&&y.message}),e.requestPending=!1,e.send()}).catch(function(y){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:y.type}),e.requestPending=!1,e.send()})}).catch(function(p){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:p&&p.toString&&p.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return ct.local.get(lt)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?r.remove():ct.local.set(lt,e);var i=r.get();Array.isArray(i)&&i.length!==e.length&&(this.sendTrackingEvents=!1,r.remove())}},{key:"remove",value:function(){ct.local.remove(lt)}}]),r}();ai.exports=Kr});var hi=D((ko,di)=>{k();"use strict";var Ke=Z(),N=Ke(_e()),Vr=Ke(Se()),Hr=Ke($()),Wr=Ke(ee());function li(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function R(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?li(Object(e),!0).forEach(function(i){(0,Vr.default)(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):li(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}var Qr=Zt(),x=te(),fi=ci(),Ae=2048;function j(r,t){var e=t.apiKey,i=t.version,o=t.sessionId,s=t.clientId,n=t.userId,l=t.segments,c=t.testCells,a=t.requestMethod,u=t.beaconMode,f=x.getWindowLocation(),v=f.host,h=f.pathname,_=f.search,p=x.getCanonicalUrl(),y=x.getDocumentReferrer(),q=t.sendReferrerWithTrackingEvents!==!1,w=Object.assign(r);if(i&&(w.c=i),s&&(w.i=s),o&&(w.s=o),n&&(w.ui=String(n)),l&&l.length&&(w.us=l),e&&(w.key=e),y&&(w.document_referrer=y),p&&(w.canonical_url=p),c&&Object.keys(c).forEach(function(m){w["ef-".concat(m)]=c[m]}),u&&a&&a.match(/POST/i)&&(w.beacon=!0),q&&v&&(w.origin_referrer=v,h&&(w.origin_referrer+=h),_))try{var b=[],C=new URLSearchParams(_);C.forEach(function(m,E){E.match(/utm_/)&&b.push("".concat(E,"=").concat(m))}),b.length&&(w.origin_referrer+="?".concat(b.join("&")))}catch(m){}return w._dt=Date.now(),w=x.cleanParams(w),w}function I(r,t){return x.stringify(j(r,t))}var vi=function(){function r(t){(0,Hr.default)(this,r),this.options=t||{},this.eventemitter=new Qr,this.requests=new fi(t,this.eventemitter)}return(0,Wr.default)(r,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/v2/behavioral_action/session_start?");return this.requests.queue("".concat(i).concat(I({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),o={action:"session_start"};return this.requests.queue("".concat(i).concat(I(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s="".concat(this.options.serviceUrl,"/v2/behavioral_action/focus?"),n={},l=i.analyticsTags,c=l===void 0?null:l;c&&(n.analytics_tags=c),n.user_input=e;var a="POST",u=j(n,R(R({},this.options),{},{requestMethod:a}));return this.requests.queue("".concat(s).concat(I({},this.options)),a,u,o),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),o={action:"focus"};return this.requests.queue("".concat(i).concat(I(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},n={},l=e.item_name,c=e.name,a=e.item_id,u=e.customer_id,f=e.customerId,v=f===void 0?u:f,h=e.variation_id,_=e.itemName,p=_===void 0?l||c:_,y=e.itemId,q=y===void 0?a||v:y,w=e.variationId,b=w===void 0?h:w,C=e.url,m=e.analyticsTags;p&&(n.item_name=p),q&&(n.item_id=q),b&&(n.variation_id=b),m&&(n.analytics_tags=m),C&&(n.url=x.truncateString(C,Ae));var E="".concat(o).concat(I(s,this.options)),d="POST",O=j(n,R(R({},this.options),{},{requestMethod:d}));return this.requests.queue(E,d,O,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/autocomplete_select?"),n=i.original_query,l=i.originalQuery,c=l===void 0?n:l,a=i.user_input,u=i.userInput,f=u===void 0?c||a:u,v=i.original_section,h=i.section,_=h===void 0?v:h,p=i.tr,y=i.group_id,q=i.groupId,w=q===void 0?y:q,b=i.item_id,C=i.itemId,m=C===void 0?b:C,E=i.variation_id,d=i.variationId,O=d===void 0?E:d,g=i.slCampaignId,A=i.slCampaignOwner,T={},S={user_input:f,tr:p,group_id:w,item_id:m,variation_id:O,item_name:e,section:_};_&&(T.section=_),g&&(S.sl_campaign_id=g),A&&(S.sl_campaign_owner=A);var L="".concat(s).concat(I(T,this.options)),z="POST",P=j(S,R(R({},this.options),{},{requestMethod:z}));return this.requests.queue(L,z,P,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(x.encodeURIComponentRFC3986(x.trimNonBreakingSpaces(e)),"/select?"),n={},l=i.original_query,c=i.originalQuery,a=c===void 0?l:c,u=i.section,f=i.original_section,v=i.originalSection,h=v===void 0?f:v,_=i.tr,p=i.group_id,y=i.groupId,q=y===void 0?p:y,w=i.display_name,b=i.displayName,C=b===void 0?w:b,m=i.item_id,E=i.itemId,d=E===void 0?m:E,O=i.slCampaignOwner,g=i.slCampaignId;return a&&(n.original_query=a),_&&(n.tr=_),(h||u)&&(n.section=h||u),q&&(n.group={group_id:q,display_name:C}),d&&(n.item_id=d),g&&(n.sl_campaign_id=g),O&&(n.sl_campaign_owner=O),this.requests.queue("".concat(s).concat(I(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_submit?"),n=i.original_query,l=i.originalQuery,c=l===void 0?n:l,a=i.user_input,u=i.userInput,f=u===void 0?c||a:u,v=i.group_id,h=i.groupId,_=h===void 0?v:h,p=i.section,y=i.analyticsTags,q=y===void 0?null:y,w={},b={user_input:f,search_term:e,section:p};_&&(b.filters={group_id:_}),p&&(w.section=p),q&&(b.analytics_tags=q);var C="".concat(s).concat(I(w,this.options)),m="POST",E=j(b,R(R({},this.options),{},{requestMethod:m}));return this.requests.queue(C,m,E,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(x.encodeURIComponentRFC3986(x.trimNonBreakingSpaces(e)),"/search?"),n={},l=i.original_query,c=i.originalQuery,a=c===void 0?l:c,u=i.group_id,f=i.groupId,v=f===void 0?u:f,h=i.display_name,_=i.displayName,p=_===void 0?h:_,y=i.analyticsTags;return a&&(n.original_query=a),v&&(n.group={group_id:v,display_name:p}),y&&(n.analytics_tags=y),this.requests.queue("".concat(s).concat(I(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s,n,l,c="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_load?"),a=i.num_results,u=i.numResults,f=u===void 0?a:u,v=i.result_count,h=i.customerIds,_=i.customer_ids,p=_===void 0?h:_,y=i.itemIds,q=i.item_ids,w=q===void 0?y:q,b=i.items,C=b===void 0?p||w:b,m=i.result_page,E=i.resultPage,d=E===void 0?m:E,O=i.result_id,g=i.resultId,A=g===void 0?O:g,T=i.sort_order,S=i.sortOrder,L=S===void 0?T:S,z=i.sort_by,P=i.sortBy,M=P===void 0?z:P,H=i.selected_filters,B=i.selectedFilters,X=B===void 0?H:B,V=i.url,Q=V===void 0?((s=x.getWindowLocation())===null||s===void 0?void 0:s.href)||"N/A":V,Y=i.section,J=i.analyticsTags,re=i.resultCount,K=re===void 0?(n=(l=f??v)!==null&&l!==void 0?l:C==null?void 0:C.length)!==null&&n!==void 0?n:0:re,ue={},ne;if(C&&Array.isArray(C)&&C.length!==0){var ae=C.slice(0,100);typeof C[0]=="string"||typeof C[0]=="number"?ne=ae.map(function(ge){return{item_id:String(ge)}}):ne=ae.map(function(ge){return x.toSnakeCaseKeys(ge,!1)})}Y&&(ue.section=Y);var Be={search_term:e,result_count:K,items:ne,result_page:d,result_id:A,sort_order:L,sort_by:M,selected_filters:X,url:x.truncateString(Q,Ae),section:Y,analytics_tags:J},je="".concat(c).concat(I(ue,this.options)),we="POST",$e=j(Be,R(R({},this.options),{},{requestMethod:we}));return this.requests.queue(je,we,$e,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_click?"),n=i.num_results,l=i.customer_id,c=i.item_id,a=i.itemId,u=a===void 0?l||c:a,f=i.name,v=i.item_name,h=i.itemName,_=h===void 0?f||v:h,p=i.variation_id,y=i.variationId,q=y===void 0?p:y,w=i.result_id,b=i.resultId,C=b===void 0?w:b,m=i.result_count,E=i.resultCount,d=E===void 0?n||m:E,O=i.result_page,g=i.resultPage,A=g===void 0?O:g,T=i.result_position_on_page,S=i.resultPositionOnPage,L=S===void 0?T:S,z=i.num_results_per_page,P=i.numResultsPerPage,M=P===void 0?z:P,H=i.selected_filters,B=i.selectedFilters,X=B===void 0?H:B,V=i.section,Q=i.analyticsTags,Y=i.slCampaignId,J=i.slCampaignOwner,re={sl_campaign_id:Y,sl_campaign_owner:J,item_name:_,item_id:u,variation_id:q,result_id:C,result_count:d,result_page:A,result_position_on_page:L,num_results_per_page:M,selected_filters:X,section:V,search_term:e,analytics_tags:Q},K={};V&&(K.section=V);var ue="".concat(s).concat(I(K,this.options)),ne="POST",ae=j(re,R(R({},this.options),{},{requestMethod:ne}));return this.requests.queue(ue,ne,ae,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(x.encodeURIComponentRFC3986(x.trimNonBreakingSpaces(e)),"/click_through?"),n={},l=i.item_name,c=i.name,a=i.itemName,u=a===void 0?l||c:a,f=i.item_id,v=i.itemId,h=v===void 0?f:v,_=i.customer_id,p=i.customerId,y=p===void 0?_||h:p,q=i.variation_id,w=i.variationId,b=w===void 0?q:w,C=i.result_id,m=i.resultId,E=m===void 0?C:m,d=i.item_is_convertible,O=i.itemIsConvertible,g=O===void 0?d:O,A=i.section,T=i.analyticsTags,S=i.slCampaignOwner,L=i.slCampaignId;return u&&(n.name=u),y&&(n.customer_id=y),b&&(n.variation_id=b),E&&(n.result_id=E),typeof g=="boolean"&&(n.item_is_convertible=g),A&&(n.section=A),T&&(n.analytics_tags=T),L&&(n.sl_campaign_id=L),S&&(n.sl_campaign_owner=S),this.requests.queue("".concat(s).concat(I(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i&&(0,N.default)(i)==="object"&&!Array.isArray(i)){var s=e||"TERM_UNKNOWN",n="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),l={},c={},a=i.name,u=i.item_name,f=i.itemName,v=f===void 0?u||a:f,h=i.customer_id,_=i.customerId,p=_===void 0?h:_,y=i.item_id,q=i.itemId,w=q===void 0?y||p:q,b=i.variation_id,C=i.variationId,m=C===void 0?b:C,E=i.revenue,d=i.section,O=d===void 0?"Products":d,g=i.display_name,A=i.displayName,T=A===void 0?g:A,S=i.type,L=i.is_custom_type,z=i.isCustomType,P=z===void 0?L:z;w&&(c.item_id=w),v&&(c.item_name=v),m&&(c.variation_id=m),(E||E===0)&&(c.revenue=E.toString()),O&&(l.section=O,c.section=O),s&&(c.search_term=s),S&&(c.type=S),P&&(c.is_custom_type=P),T&&(c.display_name=T);var M="".concat(n).concat(I(l,this.options)),H="POST",B=j(c,R(R({},this.options),{},{requestMethod:H}));return this.requests.queue(M,H,B,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},n={},l=e.items,c=e.revenue,a=e.order_id,u=e.orderId,f=u===void 0?a:u,v=e.section,h=e.analyticsTags,_=this.options.apiKey;if(f){if(x.hasOrderIdRecord({orderId:f,apiKey:_}))return!1;x.addOrderIdRecord({orderId:f,apiKey:_}),n.order_id=f}l&&Array.isArray(l)&&(n.items=l.slice(0,100).map(function(w){return x.toSnakeCaseKeys(w,!1)})),(c||c===0)&&(n.revenue=c),v?s.section=v:s.section="Products",h&&(n.analytics_tags=h);var p="".concat(o).concat(I(s,this.options)),y="POST",q=j(n,R(R({},this.options),{},{requestMethod:y}));return this.requests.queue(p,y,q,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},n=e.result_count,l=e.result_page,c=e.resultPage,a=c===void 0?l:c,u=e.result_id,f=e.resultId,v=f===void 0?u:f,h=e.section,_=e.url,p=e.pod_id,y=e.podId,q=y===void 0?p:y,w=e.num_results_viewed,b=e.numResultsViewed,C=b===void 0?w:b,m=e.items,E=e.analyticsTags,d=e.seedItemIds,O=e.resultCount,g=O===void 0?n||(m==null?void 0:m.length)||0:O;x.isNil(g)||(s.result_count=g),x.isNil(a)||(s.result_page=a),v&&(s.result_id=v),h?s.section=h:s.section="Products",_&&(s.url=x.truncateString(_,Ae)),q&&(s.pod_id=q),x.isNil(C)||(s.num_results_viewed=C),m&&Array.isArray(m)&&(s.items=m.slice(0,100).map(function(L){return x.toSnakeCaseKeys(L,!1)})),E&&(s.analytics_tags=E),typeof d=="number"?s.seed_item_ids=[String(d)]:d!=null&&d.length&&typeof d=="string"?s.seed_item_ids=[d]:d!=null&&d.length&&Array.isArray(d)&&(s.seed_item_ids=d);var A="".concat(o).concat(I({},this.options)),T="POST",S=j(s,R(R({},this.options),{},{requestMethod:T}));return this.requests.queue(A,T,S,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackMediaImpressionView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o=new URL(this.options.mediaServiceUrl);o.hostname.startsWith("behavior")||(o.hostname="behavior.".concat(o.hostname));var s="".concat(o.toString(),"v2/ad_behavioral_action/display_ad_view?"),n={},l=e.bannerAdId,c=e.placementId,a=e.analyticsTags;x.isNil(l)||(n.banner_ad_id=l),x.isNil(c)||(n.placement_id=c),x.isNil(a)||(n.analytics_tags=a);var u="".concat(s).concat(I({},this.options)),f="POST",v=j(n,R(R({},this.options),{},{requestMethod:f}));return this.requests.queue(u,f,v,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},n=e.variation_id,l=e.variationId,c=l===void 0?n:l,a=e.section,u=a===void 0?"Products":a,f=e.result_id,v=e.resultId,h=v===void 0?f:v,_=e.result_count,p=e.resultCount,y=p===void 0?_:p,q=e.result_page,w=e.resultPage,b=w===void 0?q:w,C=e.result_position_on_page,m=e.resultPositionOnPage,E=m===void 0?C:m,d=e.num_results_per_page,O=e.numResultsPerPage,g=O===void 0?d:O,A=e.pod_id,T=e.podId,S=T===void 0?A:T,L=e.strategy_id,z=e.strategyId,P=z===void 0?L:z,M=e.item_id,H=e.itemId,B=H===void 0?M:H,X=e.item_name,V=e.itemName,Q=V===void 0?X:V,Y=e.analyticsTags,J=e.slCampaignId,re=e.slCampaignOwner,K=e.seedItemIds;c&&(s.variation_id=c),u&&(s.section=u),h&&(s.result_id=h),x.isNil(y)||(s.result_count=y),x.isNil(b)||(s.result_page=b),x.isNil(E)||(s.result_position_on_page=E),x.isNil(g)||(s.num_results_per_page=g),S&&(s.pod_id=S),P&&(s.strategy_id=P),B&&(s.item_id=B),Q&&(s.item_name=Q),Y&&(s.analytics_tags=Y),J&&(s.sl_campaign_id=J),re&&(s.sl_campaign_owner=re),typeof K=="number"?s.seed_item_ids=[String(K)]:K!=null&&K.length&&typeof K=="string"?s.seed_item_ids=[K]:K!=null&&K.length&&Array.isArray(K)&&(s.seed_item_ids=K);var ue="".concat(o).concat(I({},this.options)),ne="POST",ae=j(s,R(R({},this.options),{},{requestMethod:ne}));return this.requests.queue(ue,ne,ae,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o,s="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),n={},l=e.section,c=l===void 0?"Products":l,a=e.result_count,u=e.result_page,f=e.resultPage,v=f===void 0?u:f,h=e.result_id,_=e.resultId,p=_===void 0?h:_,y=e.selected_filters,q=e.selectedFilters,w=q===void 0?y:q,b=e.url,C=e.sort_order,m=e.sortOrder,E=m===void 0?C:m,d=e.sort_by,O=e.sortBy,g=O===void 0?d:O,A=e.filter_name,T=e.filterName,S=T===void 0?A:T,L=e.filter_value,z=e.filterValue,P=z===void 0?L:z,M=e.items,H=e.analyticsTags,B=e.resultCount,X=B===void 0?(o=a??(M==null?void 0:M.length))!==null&&o!==void 0?o:0:B;c&&(n.section=c),x.isNil(X)||(n.result_count=X),x.isNil(v)||(n.result_page=v),p&&(n.result_id=p),w&&(n.selected_filters=w),b&&(n.url=x.truncateString(b,Ae)),E&&(n.sort_order=E),g&&(n.sort_by=g),S&&(n.filter_name=S),P&&(n.filter_value=P),M&&Array.isArray(M)&&(n.items=M.slice(0,100).map(function(J){return x.toSnakeCaseKeys(J,!1)})),H&&(n.analytics_tags=H);var V="".concat(s).concat(I({},this.options)),Q="POST",Y=j(n,R(R({},this.options),{},{requestMethod:Q}));return this.requests.queue(V,Q,Y,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},n=e.section,l=n===void 0?"Products":n,c=e.variation_id,a=e.variationId,u=a===void 0?c:a,f=e.result_id,v=e.resultId,h=v===void 0?f:v,_=e.result_count,p=e.resultCount,y=p===void 0?_:p,q=e.result_page,w=e.resultPage,b=w===void 0?q:w,C=e.result_position_on_page,m=e.resultPositionOnPage,E=m===void 0?C:m,d=e.num_results_per_page,O=e.numResultsPerPage,g=O===void 0?d:O,A=e.selected_filters,T=e.selectedFilters,S=T===void 0?A:T,L=e.filter_name,z=e.filterName,P=z===void 0?L:z,M=e.filter_value,H=e.filterValue,B=H===void 0?M:H,X=e.customer_id,V=e.customerId,Q=V===void 0?X:V,Y=e.item_id,J=e.itemId,re=J===void 0?Q||Y:J,K=e.item_name,ue=e.name,ne=e.itemName,ae=ne===void 0?K||ue:ne,Be=e.analyticsTags,je=e.slCampaignId,we=e.slCampaignOwner;l&&(s.section=l),u&&(s.variation_id=u),h&&(s.result_id=h),x.isNil(y)||(s.result_count=y),x.isNil(b)||(s.result_page=b),x.isNil(E)||(s.result_position_on_page=E),x.isNil(g)||(s.num_results_per_page=g),S&&(s.selected_filters=S),P&&(s.filter_name=P),B&&(s.filter_value=B),re&&(s.item_id=re),ae&&(s.item_name=ae),Be&&(s.analytics_tags=Be),je&&(s.sl_campaign_id=je),we&&(s.sl_campaign_owner=we);var $e="".concat(o).concat(I({},this.options)),ge="POST",ji=j(s,R(R({},this.options),{},{requestMethod:ge}));return this.requests.queue($e,ge,ji,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseRedirect",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_redirect?"),s={},n=e.searchTerm,l=e.userInput,c=e.section,a=c===void 0?"Products":c,u=e.selectedFilters,f=e.redirectToUrl,v=e.sortOrder,h=e.sortBy,_=e.filterName,p=e.filterValue,y=e.analyticsTags;n&&(s.search_term=n),l&&(s.user_input=l),f&&(s.redirect_to_url=f),a&&(s.section=a),u&&(s.selected_filters=u),v&&(s.sort_order=v),h&&(s.sort_by=h),_&&(s.filter_name=_),p&&(s.filter_value=p),y&&(s.analytics_tags=y);var q="".concat(o).concat(I({},this.options)),w="POST",b=j(s,R(R({},this.options),{},{requestMethod:w}));return this.requests.queue(q,w,b,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,N.default)(e)==="object"){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},n=e.item_id,l=e.itemId,c=l===void 0?n:l,a=e.item_name,u=e.itemName,f=u===void 0?a:u,v=e.variation_id,h=e.variationId,_=h===void 0?v:h,p=e.section,y=p===void 0?"Products":p,q=e.analyticsTags;if(c){s.section=y,s.item_id=c,f&&(s.item_name=f),_&&(s.variation_id=_),q&&(s.analytics_tags=q);var w="".concat(o).concat(I({},this.options)),b="POST",C=j(s,R(R({},this.options),{},{requestMethod:b}));return this.requests.queue(w,b,C,i),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),s=e.quiz_id,n=e.quizId,l=n===void 0?s:n,c=e.quiz_version_id,a=e.quizVersionId,u=a===void 0?c:a,f=e.quiz_session_id,v=e.quizSessionId,h=v===void 0?f:v,_=e.url,p=e.section,y=p===void 0?"Products":p,q=e.result_count,w=e.resultCount,b=w===void 0?q:w,C=e.result_id,m=e.resultId,E=m===void 0?C:m,d=e.result_page,O=e.resultPage,g=O===void 0?d:O,A=e.items,T={},S={};if(A&&Array.isArray(A)&&(S.items=A.slice(0,100).map(function(M){return x.toSnakeCaseKeys(M,!1)})),typeof l!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof h!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof _!="string")return new Error('"url" is a required parameter of type string');if(S.quiz_id=l,S.quiz_version_id=u,S.quiz_session_id=h,S.url=x.truncateString(_,Ae),!x.isNil(y)){if(typeof y!="string")return new Error('"section" must be a string');T.section=y,S.section=y}if(!x.isNil(b)){if(typeof b!="number")return new Error('"resultCount" must be a number');S.result_count=b}if(!x.isNil(E)){if(typeof E!="string")return new Error('"resultId" must be a string');S.result_id=E}if(!x.isNil(g)){if(typeof g!="number")return new Error('"resultPage" must be a number');S.result_page=g}var L="".concat(o).concat(I(T,this.options)),z="POST",P=j(S,R(R({},this.options),{},{requestMethod:z}));return this.requests.queue(L,z,P,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),s=e.quiz_id,n=e.quizId,l=n===void 0?s:n,c=e.quiz_version_id,a=e.quizVersionId,u=a===void 0?c:a,f=e.quiz_session_id,v=e.quizSessionId,h=v===void 0?f:v,_=e.item_id,p=e.itemId,y=p===void 0?_:p,q=e.item_name,w=e.itemName,b=w===void 0?q:w,C=e.result_count,m=e.resultCount,E=m===void 0?C:m,d=e.result_id,O=e.resultId,g=O===void 0?d:O,A=e.result_page,T=e.resultPage,S=T===void 0?A:T,L=e.num_results_per_page,z=e.numResultsPerPage,P=z===void 0?L:z,M=e.result_position_on_page,H=e.resultPositionOnPage,B=H===void 0?M:H,X=e.section,V=X===void 0?"Products":X,Q=e.variationId,Y={},J={};if(typeof l!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof h!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string"&&typeof b!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(J.quiz_id=l,J.quiz_version_id=u,J.quiz_session_id=h,!x.isNil(y)){if(typeof y!="string")return new Error('"itemId" must be a string');J.item_id=y}if(!x.isNil(b)){if(typeof b!="string")return new Error('"itemName" must be a string');J.item_name=b}if(!x.isNil(Q)){if(typeof Q!="string")return new Error('"variationId" must be a string');J.variation_id=Q}if(!x.isNil(V)){if(typeof V!="string")return new Error('"section" must be a string');Y.section=V}if(!x.isNil(E)){if(typeof E!="number")return new Error('"resultCount" must be a number');J.result_count=E}if(!x.isNil(g)){if(typeof g!="string")return new Error('"resultId" must be a string');J.result_id=g}if(!x.isNil(S)){if(typeof S!="number")return new Error('"resultPage" must be a number');J.result_page=S}if(!x.isNil(P)){if(typeof P!="number")return new Error('"numResultsPerPage" must be a number');J.num_results_per_page=P}if(!x.isNil(B)){if(typeof B!="number")return new Error('"resultPositionOnPage" must be a number');J.result_position_on_page=B}var re="".concat(o).concat(I(Y,this.options)),K="POST",ue=j(J,R(R({},this.options),{},{requestMethod:K}));return this.requests.queue(re,K,ue,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),s=e.quiz_id,n=e.quizId,l=n===void 0?s:n,c=e.quiz_version_id,a=e.quizVersionId,u=a===void 0?c:a,f=e.quiz_session_id,v=e.quizSessionId,h=v===void 0?f:v,_=e.item_id,p=e.itemId,y=p===void 0?_:p,q=e.item_name,w=e.itemName,b=w===void 0?q:w,C=e.variation_id,m=e.variationId,E=m===void 0?C:m,d=e.revenue,O=e.section,g=O===void 0?"Products":O,A=e.type,T=e.is_custom_type,S=e.isCustomType,L=S===void 0?T:S,z=e.display_name,P=e.displayName,M=P===void 0?z:P,H={},B={};if(typeof l!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof h!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string"&&typeof b!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(B.quiz_id=l,B.quiz_version_id=u,B.quiz_session_id=h,!x.isNil(y)){if(typeof y!="string")return new Error('"itemId" must be a string');B.item_id=y}if(!x.isNil(b)){if(typeof b!="string")return new Error('"itemName" must be a string');B.item_name=b}if(!x.isNil(E)){if(typeof E!="string")return new Error('"variationId" must be a string');B.variation_id=E}if(!x.isNil(d)){if(typeof d!="string")return new Error('"revenue" must be a string');B.revenue=d}if(!x.isNil(g)){if(typeof g!="string")return new Error('"section" must be a string');B.section=g}if(!x.isNil(A)){if(typeof A!="string")return new Error('"type" must be a string');B.type=A}if(!x.isNil(L)){if(typeof L!="boolean")return new Error('"isCustomType" must be a boolean');B.is_custom_type=L}if(!x.isNil(M)){if(typeof M!="string")return new Error('"displayName" must be a string');B.display_name=M}var X="".concat(o).concat(I(H,this.options)),V="POST",Q=j(B,R(R({},this.options),{},{requestMethod:V}));return this.requests.queue(X,V,Q,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAgentSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_submit?"),s=e.section,n=e.intent,l={intent:n,section:s},c="".concat(o).concat(I({},this.options)),a="POST",u=j(l,R(R({},this.options),{},{requestMethod:a}));return this.requests.queue(c,a,u,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAgentResultLoadStarted",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_start?"),s=e.section,n=e.intentResultId,l=e.intent,c={intent_result_id:n,intent:l,section:s},a="".concat(o).concat(I({},this.options)),u="POST",f=j(c,R(R({},this.options),{},{requestMethod:u}));return this.requests.queue(a,u,f,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAgentResultLoadFinished",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_finish?"),s=e.section,n=e.searchResultCount,l=e.intentResultId,c=e.intent,a={intent_result_id:l,section:s,intent:c,search_result_count:n},u="".concat(o).concat(I({},this.options)),f="POST",v=j(a,R(R({},this.options),{},{requestMethod:f}));return this.requests.queue(u,f,v,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAgentResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_click?"),s=e.section,n=s===void 0?"Products":s,l=e.variationId,c=e.intentResultId,a=e.searchResultId,u=e.itemId,f=e.itemName,v=e.intent,h={section:n,variation_id:l,intent_result_id:c,search_result_id:a,item_id:u,item_name:f,intent:v},_="".concat(o).concat(I({},this.options)),p="POST",y=j(h,R(R({},this.options),{},{requestMethod:p}));return this.requests.queue(_,p,y,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAgentResultView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_view?"),s=e.section,n=s===void 0?"Products":s,l=e.items,c=e.numResultsViewed,a=e.intentResultId,u=e.searchResultId,f=e.intent,v={section:n,intent_result_id:a,search_result_id:u,num_results_viewed:c,items:l&&Array.isArray(l)&&l.slice(0,100).map(function(y){return x.toSnakeCaseKeys(y,!1)}),intent:f},h="".concat(o).concat(I({},this.options)),_="POST",p=j(v,R(R({},this.options),{},{requestMethod:_}));return this.requests.queue(h,_,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAgentSearchSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_submit?"),s=e.section,n=e.intent,l=e.searchTerm,c=e.searchResultId,a=e.intentResultId,u={intent:n,section:s,search_term:l,search_result_id:c,intent_result_id:a},f="".concat(o).concat(I({},this.options)),v="POST",h=j(u,R(R({},this.options),{},{requestMethod:v}));return this.requests.queue(f,v,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackAssistantSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.trackAgentSubmit(e,i)}},{key:"trackAssistantResultLoadStarted",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.trackAgentResultLoadStarted(e,i)}},{key:"trackAssistantResultLoadFinished",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.trackAgentResultLoadFinished(e,i)}},{key:"trackAssistantResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.trackAgentResultClick(e,i)}},{key:"trackAssistantResultView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.trackAgentResultView(e,i)}},{key:"trackAssistantSearchSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.trackAgentSearchSubmit(e,i)}},{key:"trackProductInsightsAgentViews",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_views?"),s=e.section,n=e.questions,l=e.itemId,c=e.itemName,a=e.variationId,u=e.viewTimespans,f={},v={questions:n,item_id:l,item_name:c,variation_id:a,view_timespans:u};s&&(f.section=s);var h="".concat(o).concat(I(f,this.options)),_="POST",p=j(v,R(R({},this.options),{},{requestMethod:_}));return this.requests.queue(h,_,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_view?"),s=e.section,n=e.questions,l=e.itemId,c=e.itemName,a=e.variationId,u={},f={questions:n,item_id:l,item_name:c,variation_id:a};s&&(u.section=s);var v="".concat(o).concat(I(u,this.options)),h="POST",_=j(f,R(R({},this.options),{},{requestMethod:h}));return this.requests.queue(v,h,_,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentOutOfView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_out_of_view?"),s=e.section,n=e.itemId,l=e.itemName,c=e.variationId,a={},u={item_id:n,item_name:l,variation_id:c};s&&(a.section=s);var f="".concat(o).concat(I(a,this.options)),v="POST",h=j(u,R(R({},this.options),{},{requestMethod:v}));return this.requests.queue(f,v,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentFocus",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_focus?"),s=e.section,n=e.itemId,l=e.itemName,c=e.variationId,a={},u={item_id:n,item_name:l,variation_id:c};s&&(a.section=s);var f="".concat(o).concat(I(a,this.options)),v="POST",h=j(u,R(R({},this.options),{},{requestMethod:v}));return this.requests.queue(f,v,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentQuestionClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_question_click?"),s=e.section,n=e.itemId,l=e.itemName,c=e.variationId,a=e.question,u={},f={item_id:n,item_name:l,variation_id:c,question:a};s&&(u.section=s);var v="".concat(o).concat(I(u,this.options)),h="POST",_=j(f,R(R({},this.options),{},{requestMethod:h}));return this.requests.queue(v,h,_,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentQuestionSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_question_submit?"),s=e.section,n=e.itemId,l=e.itemName,c=e.variationId,a=e.question,u={},f={item_id:n,item_name:l,variation_id:c,question:a};s&&(u.section=s);var v="".concat(o).concat(I(u,this.options)),h="POST",_=j(f,R(R({},this.options),{},{requestMethod:h}));return this.requests.queue(v,h,_,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentAnswerView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_answer_view?"),s=e.section,n=e.itemId,l=e.itemName,c=e.variationId,a=e.question,u=e.answerText,f=e.qnaResultId,v={},h={item_id:n,item_name:l,variation_id:c,question:a,answer_text:u,qna_result_id:f};s&&(v.section=s);var _="".concat(o).concat(I(v,this.options)),p="POST",y=j(h,R(R({},this.options),{},{requestMethod:p}));return this.requests.queue(_,p,y,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentAnswerFeedback",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,N.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_answer_feedback?"),s=e.section,n=e.itemId,l=e.itemName,c=e.variationId,a=e.feedbackLabel,u=e.qnaResultId,f={},v={item_id:n,item_name:l,variation_id:c,feedback_label:a,qna_result_id:u};s&&(f.section=s);var h="".concat(o).concat(I(f,this.options)),_="POST",p=j(v,R(R({},this.options),{},{requestMethod:_}));return this.requests.queue(h,_,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"on",value:function(e,i){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!i||typeof i!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,i),!0)}}]),r}();vi.RequestQueue=fi;di.exports=vi});var gi=D(Ve=>{k();"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=void 0;var Xr="2.71.3";Ve.default=Xr});var ft=D((mo,Re)=>{k();function Yr(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}Re.exports=Yr,Re.exports.__esModule=!0,Re.exports.default=Re.exports});var _i=D((So,Ce)=>{k();var Zr=ft();function $r(r){if(Array.isArray(r))return Zr(r)}Ce.exports=$r,Ce.exports.__esModule=!0,Ce.exports.default=Ce.exports});var pi=D((Eo,Oe)=>{k();function en(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}Oe.exports=en,Oe.exports.__esModule=!0,Oe.exports.default=Oe.exports});var wi=D((Ao,Te)=>{k();var yi=ft();function tn(r,t){if(!!r){if(typeof r=="string")return yi(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return yi(r,t)}}Te.exports=tn,Te.exports.__esModule=!0,Te.exports.default=Te.exports});var bi=D((Ro,xe)=>{k();function rn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}xe.exports=rn,xe.exports.__esModule=!0,xe.exports.default=xe.exports});var ki=D((Co,Ue)=>{k();var nn=_i(),on=pi(),sn=wi(),un=bi();function an(r){return nn(r)||on(r)||sn(r)||un()}Ue.exports=an,Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports});var mi=D((Oo,qi)=>{k();"use strict";var He=Z(),cn=He($()),ln=He(ee()),fn=He(ki()),vn=He(_e()),dn=ve(),ie=te();function We(r,t,e,i){var o=e.apiKey,s=e.clientId,n=e.sessionId,l=e.segments,c=e.userId,a=e.version,u=e.quizzesServiceUrl,f={c:a},v="";if(f.key=o,f.i=s,f.s=n,l&&l.length&&(f.us=l),c&&(f.ui=String(c)),!r||typeof r!="string")throw new Error("quizId is a required parameter of type string");if(i==="results"&&((0,vn.default)(t.answers)!=="object"||!Array.isArray(t.answers)||t.answers.length===0))throw new Error("answers is a required parameter of type array");if(t){var h=t.section,_=t.answers,p=t.quizSessionId,y=t.quizVersionId,q=t.page,w=t.resultsPerPage,b=t.filters,C=t.fmtOptions,m=t.hiddenFields,E=t.skipTracking;h&&(f.section=h),y&&(f.quiz_version_id=y),p&&(f.quiz_session_id=p),_&&_.length&&(v="&".concat(ie.stringify({a:_.map(function(O){return(0,fn.default)(O.map(encodeURIComponent)).join(",")})}))),ie.isNil(q)||(f.page=q),ie.isNil(w)||(f.num_results_per_page=w),b&&(f.filters=b),C&&(f.fmt_options=C),m&&(f.fmt_options?f.fmt_options.hidden_fields=m:f.fmt_options={hidden_fields:m}),E&&(f.skip_tracking=E)}f._dt=Date.now(),f=ie.cleanParams(f);var d=ie.stringify(f);return"".concat(u,"/v1/quizzes/").concat(encodeURIComponent(r),"/").concat(encodeURIComponent(i),"/?").concat(d).concat(v)}var hn=function(){function r(t){(0,cn.default)(this,r),this.options=t||{},this.eventDispatcher=new dn(t.eventDispatcher)}return(0,ln.default)(r,[{key:"getQuizNextQuestion",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c=new AbortController,a=c.signal;try{n=We(e,i,this.options,"next")}catch(u){return Promise.reject(u)}return ie.applyNetworkTimeout(this.options,s,c),l(n,{signal:a}).then(ie.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",u),u;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c=new AbortController,a=c.signal;try{n=We(e,i,this.options,"results")}catch(u){return Promise.reject(u)}return ie.applyNetworkTimeout(this.options,s,c),l(n,{signal:a}).then(ie.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResults.completed",u),u;throw new Error("getQuizResults response data is malformed")})}},{key:"getQuizResultsConfig",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c=new AbortController,a=c.signal;try{n=We(e,i,this.options,"results_config")}catch(u){return Promise.reject(u)}return ie.applyNetworkTimeout(this.options,s,c),l(n,{signal:a}).then(ie.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResultsConfig.completed",u),u;throw new Error("getQuizResultsConfig response data is malformed")})}},{key:"getQuizAllQuestions",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,l=this.options.fetch,c=new AbortController,a=c.signal;try{n=We(e,i,this.options,"all_questions")}catch(u){return Promise.reject(u)}return ie.applyNetworkTimeout(this.options,s,c),l(n,{signal:a}).then(ie.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizAllQuestions.completed",u),u;throw new Error("getQuizAllQuestions response data is malformed")})}}]),r}();qi.exports=hn});var Ye=D((To,Xe)=>{k();"use strict";var vt=Z(),gn=vt($()),_n=vt(ee()),pn=vt(Se()),Qe=te(),yn=Qe.cleanParams,wn=Qe.trimNonBreakingSpaces,bn=Qe.encodeURIComponentRFC3986,kn=Qe.stringify;function Si(r,t,e){var i=e.apiKey,o=e.version,s=e.sessionId,n=e.clientId,l=e.userId,c=e.segments,a=e.testCells,u=e.agentServiceUrl,f=e.assistantServiceUrl,v={c:o};v.key=i,v.i=n,v.s=s;var h=u||f;if(!r||typeof r!="string")throw new Error("intent is a required parameter of type string");if(!t.domain||typeof t.domain!="string")throw new Error("parameters.domain is a required parameter of type string");if(a&&Object.keys(a).forEach(function(w){v["ef-".concat(w)]=a[w]}),c&&c.length&&(v.us=c),l&&(v.ui=String(l)),t){var _=t.domain,p=t.numResultsPerPage;_&&(v.domain=_),p&&(v.num_results_per_page=p)}v._dt=Date.now(),v=yn(v);var y=kn(v),q=r.replace(/^\//,"|");return"".concat(h,"/v1/intent/").concat(bn(wn(q)),"?").concat(y)}function Ei(r,t,e){var i=function(s){r.addEventListener(s,function(n){var l=JSON.parse(n.data);t.enqueue({type:s,data:l})})};Object.values(e).forEach(function(o){o!==e.END&&i(o)}),r.addEventListener(e.END,function(){t.close(),r.close()}),r.onerror=function(o){t.error(o),r.close()}}var Ai=function(){function r(t){(0,gn.default)(this,r),this.options=t||{}}return(0,_n.default)(r,[{key:"getAgentResultsStream",value:function(e,i){var o,s;try{var n=Si(e,i,this.options);o=new EventSource(n),s=new ReadableStream({start:function(u){Ei(o,u,r.EventTypes)},cancel:function(){o.close()}})}catch(a){if(s){var l;(l=s)===null||l===void 0||l.cancel()}else{var c;(c=o)===null||c===void 0||c.close()}throw new Error(a.message)}return s}}]),r}();(0,pn.default)(Ai,"EventTypes",{START:"start",GROUP:"group",SEARCH_RESULT:"search_result",ARTICLE_REFERENCE:"article_reference",RECIPE_INFO:"recipe_info",RECIPE_INSTRUCTIONS:"recipe_instructions",SERVER_ERROR:"server_error",IMAGE_META:"image_meta",END:"end"});Xe.exports=Ai;Xe.exports.createAgentUrl=Si;Xe.exports.setupEventListeners=Ei});var dt=D((xo,Ie)=>{k();function qn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}Ie.exports=qn,Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports});var Ri=D((Uo,le)=>{k();function ht(r,t){return le.exports=ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},le.exports.__esModule=!0,le.exports.default=le.exports,ht(r,t)}le.exports=ht,le.exports.__esModule=!0,le.exports.default=le.exports});var Ci=D((Io,De)=>{k();var mn=Ri();function Sn(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&mn(r,t)}De.exports=Sn,De.exports.__esModule=!0,De.exports.default=De.exports});var Oi=D((Do,Ne)=>{k();var En=_e().default,An=dt();function Rn(r,t){if(t&&(En(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return An(r)}Ne.exports=Rn,Ne.exports.__esModule=!0,Ne.exports.default=Ne.exports});var Ti=D((No,fe)=>{k();function gt(r){return fe.exports=gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe.exports.__esModule=!0,fe.exports.default=fe.exports,gt(r)}fe.exports=gt,fe.exports.__esModule=!0,fe.exports.default=fe.exports});var Di=D((Lo,Ze)=>{k();"use strict";var he=Z(),Cn=he($()),On=he(ee()),Tn=he(dt()),xn=he(Ci()),Un=he(Oi()),xi=he(Ti()),In=he(Se());function Dn(r){var t=Nn();return function(){var i=(0,xi.default)(r),o;if(t){var s=(0,xi.default)(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return(0,Un.default)(this,o)}}function Nn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var Ui=Ye(),Ii=Ye(),Ln=Ii.createAgentUrl,Bn=Ii.setupEventListeners,jn=function(r){(0,xn.default)(e,r);var t=Dn(e);function e(){var i;(0,Cn.default)(this,e);for(var o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return i=t.call.apply(t,[this].concat(s)),(0,In.default)((0,Tn.default)(i),"EventTypes",Ui.EventTypes),i}return(0,On.default)(e,[{key:"getAssistantResultsStream",value:function(o,s){return this.getAgentResultsStream(o,s)}}]),e}(Ui);Ze.exports=jn;Ze.exports.createAssistantUrl=Ln;Ze.exports.setupEventListeners=Bn});var $n=D((Bo,Bi)=>{k();"use strict";var Ni=Z(),Pn=Ni($()),Fn=Ni(ee()),zn=bt(),Mn=Ut(),Jn=Nt(),Gn=jt(),Kn=zt(),Li=hi(),Vn=ve(),Le=te(),Hn=gi(),Wn=Hn.default,Qn=mi(),Xn=Ye(),Yn=Di(),Zn=function(){var t="ciojs-client-",e=[];return Le.canUseDOM()||e.push("domless"),typeof U!="undefined"&&typeof U.env!="undefined"&&U.env.BUNDLED&&e.push("bundled"),"".concat(t).concat(e.join("-")).concat(e.length?"-":"").concat(Wn)},_t=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Pn.default)(this,r);var e=t.apiKey,i=t.version,o=t.serviceUrl,s=t.quizzesServiceUrl,n=t.agentServiceUrl,l=t.assistantServiceUrl,c=t.mediaServiceUrl,a=t.segments,u=t.testCells,f=t.clientId,v=t.sessionId,h=t.userId,_=t.fetch,p=t.trackingSendDelay,y=t.sendReferrerWithTrackingEvents,q=t.sendTrackingEvents,w=t.eventDispatcher,b=t.idOptions,C=t.beaconMode,m=t.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var E,d,O=typeof window!="undefined"&&window.CLIENT_VERSION;if(Le.canUseDOM()){var g=new zn(b||{});E=g.session_id,d=g.client_id}else{if(!v||typeof v!="number")throw new Error("sessionId is a required user parameter of type number");if(!f||typeof f!="string")throw new Error("clientId is a required user parameter of type string")}var A=o&&o.replace(/\/$/,"");this.options={apiKey:e,version:i||O||Zn(),serviceUrl:Le.addHTTPSToString(A)||"https://ac.cnstrc.com",quizzesServiceUrl:s&&s.replace(/\/$/,"")||"https://quizzes.cnstrc.com",agentServiceUrl:n&&n.replace(/\/$/,"")||"https://agent.cnstrc.com",assistantServiceUrl:l&&l.replace(/\/$/,"")||"https://assistant.cnstrc.com",mediaServiceUrl:c&&c.replace(/\/$/,"")||"https://media-cnstrc.com",sessionId:v||E,clientId:f||d,userId:h,segments:a,testCells:u,fetch:_||fetch,trackingSendDelay:p,sendTrackingEvents:q,sendReferrerWithTrackingEvents:y,eventDispatcher:w,beaconMode:C!==!1,networkParameters:m||{}},this.search=new Mn(this.options),this.browse=new Jn(this.options),this.autocomplete=new Gn(this.options),this.recommendations=new Kn(this.options),this.tracker=new Li(this.options),this.quizzes=new Qn(this.options),this.agent=new Xn(this.options),this.assistant=new Yn(this.options),new Vn(t.eventDispatcher).queue("instantiated",this.options)}return(0,Fn.default)(r,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var i=e.apiKey,o=e.segments,s=e.testCells,n=e.sessionId,l=e.userId,c=e.sendTrackingEvents;i&&(this.options.apiKey=i),o&&(this.options.segments=o),s&&(this.options.testCells=s),typeof c=="boolean"&&(this.options.sendTrackingEvents=c,this.tracker.requests.sendTrackingEvents=c),n&&!Le.canUseDOM()&&(this.options.sessionId=n),"userId"in e&&(this.options.userId=l)}}}]),r}();_t.Tracker=Li;Le.canUseDOM()&&(window.ConstructorioClient=_t);Bi.exports=_t});$n();})();
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */

/*!
 *
 * Constructor.io JavaScript Client, version 2.66.1
 * (c) 2015-2025 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 * ---
 * Includes code from the 'browserify/events' library, licensed under the MIT License.
 * For full license details, see the library documentation.
 *
 */
"use strict";(()=>{var at=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var Ei=(n,t)=>()=>(n&&(t=n(n=0)),t);var j=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var U,A=Ei(()=>{U={env:{BUNDLED:"true"}}});var Y=j((Tr,pe)=>{A();function Ci(n){return n&&n.__esModule?n:{default:n}}pe.exports=Ci,pe.exports.__esModule=!0,pe.exports.default=pe.exports});var ee=j((xr,ye)=>{A();function Ri(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}ye.exports=Ri,ye.exports.__esModule=!0,ye.exports.default=ye.exports});var le=j((Nr,ue)=>{A();function He(n){"@babel/helpers - typeof";return ue.exports=He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue.exports.__esModule=!0,ue.exports.default=ue.exports,He(n)}ue.exports=He,ue.exports.__esModule=!0,ue.exports.default=ue.exports});var ft=j((Lr,we)=>{A();var lt=le().default;function Oi(n,t){if(lt(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(lt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}we.exports=Oi,we.exports.__esModule=!0,we.exports.default=we.exports});var We=j((jr,be)=>{A();var Ti=le().default,Ii=ft();function xi(n){var t=Ii(n,"string");return Ti(t)=="symbol"?t:t+""}be.exports=xi,be.exports.__esModule=!0,be.exports.default=be.exports});var te=j((Pr,ke)=>{A();var Ui=We();function vt(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Ui(i.key),i)}}function Ni(n,t,e){return t&&vt(n.prototype,t),e&&vt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}ke.exports=Ni,ke.exports.__esModule=!0,ke.exports.default=ke.exports});var dt=j((Mr,Qe)=>{A();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(e==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null){s=Object(s);for(var r=Object.keys(Object(s)),a=0,f=r.length;f>a;a++){var c=r[a],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&(i[c]=s[c])}}}return i}});function n(e){let i;try{i=window[e];let o="__storage_test__";return i.setItem(o,o),i.removeItem(o),!0}catch(o){return o instanceof DOMException&&o.name==="QuotaExceededError"&&i&&i.length!==0}}var t=function(e){var i={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_secure:null,cookie_samesite:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window>"u",session_is_new:null,new_to_beacon:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,i,e),!this.client_id)if(!this.on_node&&this.persist){var o;this.client_id_storage_location==="cookie"&&(o=this.get_cookie(this.cookie_name_client_id),o&&(this.delete_cookie(this.cookie_name_client_id),this.set_cookie(this.cookie_name_client_id,o))),this.client_id_storage_location==="local"&&(o=this.get_local_object(this.local_name_client_id)),this.client_id=o||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};t.prototype.set_cookie=function(e,i){if(!this.on_node&&this.persist){var o=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),s=e+"="+i+"; expires="+o.toUTCString()+"; path=/";return this.cookie_domain&&(s+="; domain="+this.cookie_domain),this.cookie_secure&&(s+="; secure"),this.cookie_samesite&&(s+="; samesite="+this.cookie_samesite),document.cookie=s,s}return null},t.prototype.get_cookie=function(e){for(var i=e+"=",o=document.cookie.split(";"),s=0;s<o.length;s++){var r=o[s];try{for(var a=decodeURIComponent(r);a.charAt(0)===" ";)a=a.substring(1);if(a.indexOf(i)===0)return a.substring(i.length,a.length)}catch{}}},t.prototype.delete_cookie=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},t.prototype.generate_client_id=function(){var e;if(!this.on_node){var i=this.get_cookie(this.cookie_name_client_id),o=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&o&&(e=o,this.set_cookie(this.cookie_name_client_id,e),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&i&&(e=i,this.set_local_object(this.local_name_client_id,e),this.delete_cookie(this.cookie_name_client_id))}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var r=Math.random()*16|0,a=s==="x"?r:r&3|8;return a.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,e),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,e)),e},t.prototype.get_local_object=function(e){var i,o=n("localStorage")&&window&&window.localStorage;if(o&&typeof e=="string")try{i=JSON.parse(o.getItem(e))}catch{i=o.getItem(e)}return i},t.prototype.set_local_object=function(e,i){var o=n("localStorage")&&window&&window.localStorage;if(o&&typeof e=="string"){if(typeof i=="object")try{o.setItem(e,JSON.stringify(i))}catch{}if(typeof i=="string"||typeof i=="number")try{o.setItem(e,i)}catch{}}},t.prototype.delete_local_object=function(e){var i=n("localStorage")&&window&&window.localStorage;if(i&&typeof e=="string")try{i.removeItem(e)}catch{}},t.prototype.generate_session_id=function(){var e=this.get_cookie(this.cookie_name_session_data),i=this.get_local_object(this.local_name_session_data),o=Date.now(),s=1e3*60*30,r;if(this.session_id_storage_location==="local"&&(r=this.get_local_object(this.local_name_session_data),!r&&e&&(r=e,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){r=this.get_cookie(this.cookie_name_session_data);try{r=JSON.parse(r)}catch{}!r&&i&&(r=i,this.delete_local_object(this.local_name_session_data))}var a=1,f=1;r&&typeof r=="object"&&(f=parseInt(r.sessionId,10)||1,r.lastTime>o-s?a=f:a=f+1),this.session_id=a,this.session_is_new=!(r&&f===a),r&&r.newToBeacon&&(this.new_to_beacon=!0);let c={sessionId:a,lastTime:o};return this.session_is_new&&(c.newToBeacon=!0),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,a),this.set_local_object(this.local_name_session_data,c)),this.session_id_storage_location==="cookie"&&(this.cookie_domain&&(this.delete_cookie(this.cookie_name_session_id),this.delete_cookie(this.cookie_name_session_data)),this.set_cookie(this.cookie_name_session_id,a),this.set_cookie(this.cookie_name_session_data,JSON.stringify(c))),a},typeof Qe<"u"&&typeof at<"u"&&(Qe.exports=t)})()});var gt=j(Xe=>{A();var ht;(function(n){typeof DO_NOT_EXPORT_CRC>"u"?typeof Xe=="object"?n(Xe):typeof define=="function"&&define.amd?define(function(){var t={};return n(t),t}):n(ht={}):n(ht={})})(function(n){n.version="1.2.2";function t(){for(var d=0,O=new Array(256),_=0;_!=256;++_)d=_,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,d=d&1?-306674912^d>>>1:d>>>1,O[_]=d;return typeof Int32Array<"u"?new Int32Array(O):O}var e=t();function i(d){var O=0,_=0,S=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(S=0;S!=256;++S)E[S]=d[S];for(S=0;S!=256;++S)for(_=d[S],O=256+S;O<4096;O+=256)_=E[O]=_>>>8^d[_&255];var q=[];for(S=1;S!=16;++S)q[S-1]=typeof Int32Array<"u"?E.subarray(S*256,S*256+256):E.slice(S*256,S*256+256);return q}var o=i(e),s=o[0],r=o[1],a=o[2],f=o[3],c=o[4],u=o[5],l=o[6],v=o[7],h=o[8],p=o[9],y=o[10],g=o[11],b=o[12],k=o[13],w=o[14];function m(d,O){for(var _=O^-1,S=0,E=d.length;S<E;)_=_>>>8^e[(_^d.charCodeAt(S++))&255];return~_}function C(d,O){for(var _=O^-1,S=d.length-15,E=0;E<S;)_=w[d[E++]^_&255]^k[d[E++]^_>>8&255]^b[d[E++]^_>>16&255]^g[d[E++]^_>>>24]^y[d[E++]]^p[d[E++]]^h[d[E++]]^v[d[E++]]^l[d[E++]]^u[d[E++]]^c[d[E++]]^f[d[E++]]^a[d[E++]]^r[d[E++]]^s[d[E++]]^e[d[E++]];for(S+=15;E<S;)_=_>>>8^e[(_^d[E++])&255];return~_}function T(d,O){for(var _=O^-1,S=0,E=d.length,q=0,N=0;S<E;)q=d.charCodeAt(S++),q<128?_=_>>>8^e[(_^q)&255]:q<2048?(_=_>>>8^e[(_^(192|q>>6&31))&255],_=_>>>8^e[(_^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,N=d.charCodeAt(S++)&1023,_=_>>>8^e[(_^(240|q>>8&7))&255],_=_>>>8^e[(_^(128|q>>2&63))&255],_=_>>>8^e[(_^(128|N>>6&15|(q&3)<<4))&255],_=_>>>8^e[(_^(128|N&63))&255]):(_=_>>>8^e[(_^(224|q>>12&15))&255],_=_>>>8^e[(_^(128|q>>6&63))&255],_=_>>>8^e[(_^(128|q&63))&255]);return~_}n.table=e,n.bstr=m,n.buf=C,n.str=T})});var Ne=j((Hr,_t)=>{"use strict";A();function ne(n){var t;try{t=window[n];var e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(i){return typeof DOMException<"u"&&i instanceof DOMException&&(i.name==="QuotaExceededError"||i.name==="QUOTA_EXCEEDED_ERR"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||i.toString().indexOf("QuotaExceededError")!==-1)&&t&&t.length!==0}}var Di={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(!ne("sessionStorage"))return null;var i=sessionStorage.getItem(t);if(i)try{return JSON.parse(i)}catch{return i}return null},set:function(t,e){try{sessionStorage.setItem(t,JSON.stringify(e))}catch{this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],ne("sessionStorage")&&sessionStorage.removeItem(t)},key:function(t){var e,i;if(!ne("sessionStorage")){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[t]}var s=(e=sessionStorage)===null||e===void 0?void 0:e.key(t),r=((i=sessionStorage)===null||i===void 0?void 0:i.length)||0;if(t>=r){var a,f=t-r;return(a=Object.keys(this.overflow))===null||a===void 0?void 0:a[f]}return s},length:function(){var t=Object.keys(this.overflow).length;return ne("sessionStorage")?sessionStorage.length+t:t},clear:function(){this.overflow={},ne("sessionStorage")&&sessionStorage.clear()}},Li={overflow:{},get:function(t){var e=this.overflow[t];if(e)return e;if(!ne("localStorage"))return null;var i=localStorage.getItem(t);if(i)try{return JSON.parse(i)}catch{return i}return null},set:function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch{this.overflow[t]=e}},remove:function(t){var e;(e=this.overflow)!==null&&e!==void 0&&e[t]&&delete this.overflow[t],ne("localStorage")&&localStorage.removeItem(t)},key:function(t){var e,i;if(!ne("localStorage")){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[t]}var s=(e=localStorage)===null||e===void 0?void 0:e.key(t),r=((i=localStorage)===null||i===void 0?void 0:i.length)||0;if(t>=r){var a,f=t-r;return(a=Object.keys(this.overflow))===null||a===void 0?void 0:a[f]}return s},length:function(){var t=Object.keys(this.overflow).length;return ne("localStorage")?localStorage.length+t:t},clear:function(){this.overflow={},ne("localStorage")&&localStorage.clear()}},Bi={local:Li,session:Di,canUseStorage:ne};_t.exports=Bi});var Z=j((Qr,wt)=>{"use strict";A();var ji=Y(),pt=ji(le()),yt=gt(),Ye=Ne(),Ze="_constructorio_purchase_order_ids",Fi=[{pattern:/[\w\-+\\.]+@([\w-]+\.)+[\w-]{2,4}/,replaceWith:"<email_omitted>"},{pattern:/^(?:\+\d{11,12}|\+\d{1,3}\s\d{3}\s\d{3}\s\d{3,4}|\(\d{3}\)\d{7}|\(\d{3}\)\s\d{3}\s\d{4}|\(\d{3}\)\d{3}-\d{4}|\(\d{3}\)\s\d{3}-\d{4})$/,replaceWith:"<phone_omitted>"},{pattern:/^(?:4[0-9]{15}|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$/,replaceWith:"<credit_omitted>"}],H={trimNonBreakingSpaces:function(t){return t.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(t){var e={};return Object.keys(t).forEach(function(i){var o=t[i];typeof o=="string"?e[i]=H.trimNonBreakingSpaces(o):e[i]=o}),e},throwHttpErrorFromResponse:function(t,e){return e.json().then(function(i){throw t.message=i.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,t.headers=e.headers,t})},canUseDOM:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},addEventListener:function(t,e,i){H.canUseDOM()&&window.addEventListener(t,e,i)},removeEventListener:function(t,e,i){H.canUseDOM()&&window.removeEventListener(t,e,i)},getNavigator:function(){return H.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(t){return t==null},getWindowLocation:function(){return H.canUseDOM()?window.location:{}},dispatchEvent:function(t){H.canUseDOM()&&window.dispatchEvent(t)},createCustomEvent:function(t,e){if(H.canUseDOM())try{return new window.CustomEvent(t,{detail:e})}catch{var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!1,e),i}return null},hasOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,o=e;i&&(o="".concat(i,"-").concat(e));var s=yt.str(o.toString()),r=Ye.local.get(Ze);return typeof r=="string"&&(r=JSON.parse(r)),r&&r.includes(s)?!0:null},addOrderIdRecord:function(t){var e=t.orderId,i=t.apiKey,o=e;i&&(o="".concat(i,"-").concat(e));var s=yt.str(o.toString()),r=Ye.local.get(Ze);if(typeof r=="string"&&(r=JSON.parse(r)),r){if(r.includes(s))return;r.length>=10&&(r=r.slice(-9)),r.push(s)}else r=[s];Ye.local.set(Ze,r)},applyNetworkTimeout:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=t&&t.networkParameters&&t.networkParameters.timeout,s=e&&e.timeout,r=s||o;typeof r=="number"&&i&&setTimeout(function(){return i.abort()},r)},stringify:function(t,e,i){if(!t)return"";var o=[];return Object.keys(t).forEach(function(s){var r=t[s],a=H.encodeURIComponentRFC3986(s),f;if(r!=null){var c=e?"".concat(e,"%5B").concat(a,"%5D"):a;Array.isArray(r)?f=H.stringify(r,c,"array"):(0,pt.default)(r)==="object"?f=H.stringify(r,c,"object"):i==="object"?f="".concat(c,"=").concat(H.encodeURIComponentRFC3986(r)):f="".concat(e||a,"=").concat(H.encodeURIComponentRFC3986(r)),o.push(f)}}),o.join("&")},toSnakeCase:function(t){return t.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={};return Object.keys(t).forEach(function(o){var s=H.toSnakeCase(o);i[s]=e&&(0,pt.default)(t[o])==="object"&&!Array.isArray(t[o])?H.toSnakeCaseKeys(t[o],e):t[o]}),i},containsPii:function(t,e){var i=t.toLowerCase();return e.test(i)},obfuscatePiiRequest:function(t){var e=t;try{var i,o,s,r=new URL(t),a=r==null||(i=r.pathname)===null||i===void 0?void 0:i.split("/"),f=r==null||(o=r.search)===null||o===void 0||(s=o.split("&"))===null||s===void 0?void 0:s.map(function(c){var u;return(u=c.split("="))===null||u===void 0?void 0:u[1]});Fi.forEach(function(c){var u=c.pattern,l=c.replaceWith;a.forEach(function(v){var h=decodeURIComponent(v);H.containsPii(h,u)&&(e=e.replaceAll(v,l))}),f.forEach(function(v){var h=decodeURIComponent(v);H.containsPii(h,u)&&(e=e.replaceAll(h,l))})})}catch{}return e},convertResponseToJson:function(t){return t.ok?t.json().catch(function(){return t.text().then(function(e){throw new Error("Server responded with an invalid JSON object. Response code: ".concat(t.code,", Response: ").concat(e))})}):H.throwHttpErrorFromResponse(new Error,t)},addHTTPSToString:function(t){if(typeof t!="string")return null;var e=t.startsWith("https://"),i=t.startsWith("http://");if(!e&&i)return t.replace("http","https");if(!i&&!e){var o="https://".concat(t);return o}return t},truncateString:function(t,e){return t.slice(0,e)}};wt.exports=H});var fe=j((Yr,kt)=>{"use strict";A();var bt=Y(),Pi=bt(ee()),zi=bt(te()),De=Z(),Mi=function(){function n(t){var e=this;(0,Pi.default)(this,n),this.events=[],this.enabled=!(t&&t.enabled===!1),this.waitForBeacon=!(t&&t.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,De.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),De.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,zi.default)(n,[{key:"queue",value:function(e,i){this.events.push({name:e,data:i}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),i=e.name,o=e.data,s="cio.client.".concat(i);De.dispatchEvent(De.createCustomEvent(s,o))}}}]),n}();kt.exports=Mi});var Et=j(($r,St)=>{"use strict";A();var mt=Y(),Ji=mt(ee()),Ki=mt(te()),Gi=fe(),re=Z();function qt(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e.apiKey,s=e.version,r=e.serviceUrl,a=e.sessionId,f=e.clientId,c=e.userId,u=e.segments,l=e.testCells,v={c:s};if(v.key=o,v.i=f,v.s=a,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(l&&Object.keys(l).forEach(function(N){v["ef-".concat(N)]=l[N]}),u&&u.length&&(v.us=u),c&&(v.ui=String(c)),t){var h=t.offset,p=t.page,y=t.resultsPerPage,g=t.filters,b=t.sortBy,k=t.sortOrder,w=t.section,m=t.fmtOptions,C=t.hiddenFields,T=t.hiddenFacets,d=t.variationsMap,O=t.qsParam,_=t.preFilterExpression,S=t.filterMatchTypes;re.isNil(h)||(v.offset=h),re.isNil(p)||(v.page=p),re.isNil(y)||(v.num_results_per_page=y),g&&(v.filters=g),S&&(v.filter_match_types=S),b&&(v.sort_by=b),k&&(v.sort_order=k),w&&(v.section=w),m&&(v.fmt_options=m),C&&(v.fmt_options?v.fmt_options.hidden_fields=C:v.fmt_options={hidden_fields:C}),T&&(v.fmt_options?v.fmt_options.hidden_facets=T:v.fmt_options={hidden_facets:T}),d&&(v.variations_map=JSON.stringify(d)),_&&(v.pre_filter_expression=JSON.stringify(_)),O&&(v.qs=JSON.stringify(O))}v._dt=Date.now(),v=re.cleanParams(v);var E=re.stringify(v),q=i?"search/natural_language":"search";return"".concat(r,"/").concat(q,"/").concat(re.encodeURIComponentRFC3986(re.trimNonBreakingSpaces(n)),"?").concat(E)}var Vi=function(){function n(t){(0,Ji.default)(this,n),this.options=t||{},this.eventDispatcher=new Gi(t.eventDispatcher)}return(0,Ki.default)(n,[{key:"getSearchResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,re.applyNetworkTimeout(this.options,s,c)}try{r=qt(e,i,this.options)}catch(u){return Promise.reject(u)}return a(r,{signal:f}).then(re.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return o.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,re.applyNetworkTimeout(this.options,s,c)}try{var u=!0;r=qt(e,i,this.options,u)}catch(l){return Promise.reject(l)}return a(r,{signal:f}).then(re.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(v){v.result_id=l.result_id}),o.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;if(l.response&&l.response.redirect)return o.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;throw new Error("getVoiceSearchResults response data is malformed")})}}]),n}();St.exports=Vi});var Le=j((to,qe)=>{A();var Hi=We();function Wi(n,t,e){return(t=Hi(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}qe.exports=Wi,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var Rt=j((no,Ct)=>{"use strict";A();var $e=Y(),Qi=$e(ee()),Xi=$e(te()),Yi=$e(Le());function At(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,i)}return e}function Be(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?At(Object(e),!0).forEach(function(i){(0,Yi.default)(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):At(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}var Zi=fe(),K=Z();function me(n,t){var e=t.apiKey,i=t.version,o=t.sessionId,s=t.clientId,r=t.userId,a=t.segments,f=t.testCells,c={c:i};if(c.key=e,c.i=s,c.s=o,f&&Object.keys(f).forEach(function(O){c["ef-".concat(O)]=f[O]}),a&&a.length&&(c.us=a),r&&(c.ui=String(r)),n){var u=n.page,l=n.offset,v=n.resultsPerPage,h=n.filters,p=n.sortBy,y=n.sortOrder,g=n.section,b=n.fmtOptions,k=n.hiddenFields,w=n.hiddenFacets,m=n.variationsMap,C=n.qsParam,T=n.preFilterExpression,d=n.filterMatchTypes;K.isNil(u)||(c.page=u),K.isNil(l)||(c.offset=l),K.isNil(v)||(c.num_results_per_page=v),h&&(c.filters=h),d&&(c.filter_match_types=d),p&&(c.sort_by=p),y&&(c.sort_order=y),g&&(c.section=g),b&&(c.fmt_options=b),k&&(c.fmt_options?c.fmt_options.hidden_fields=k:c.fmt_options={hidden_fields:k}),w&&(c.fmt_options?c.fmt_options.hidden_facets=w:c.fmt_options={hidden_facets:w}),m&&(c.variations_map=JSON.stringify(m)),T&&(c.pre_filter_expression=JSON.stringify(T)),C&&(c.qs=JSON.stringify(C))}return c._dt=Date.now(),c=K.cleanParams(c),c}function $i(n,t,e,i){var o=i.serviceUrl;if(!n||typeof n!="string")throw new Error("filterName is a required parameter of type string");if(!t||typeof t!="string")throw new Error("filterValue is a required parameter of type string");var s=me(e,i),r=K.stringify(s);return"".concat(o,"/browse/").concat(K.encodeURIComponentRFC3986(K.trimNonBreakingSpaces(n)),"/").concat(K.encodeURIComponentRFC3986(K.trimNonBreakingSpaces(t)),"?").concat(r)}function en(n,t,e){var i=e.serviceUrl;if(!n||!Array.isArray(n)||!n.length)throw new Error("ids is a required parameter of type array");var o=Be(Be({},me(t,e)),{},{ids:n}),s=K.stringify(o);return"".concat(i,"/browse/items?").concat(s)}function tn(n,t){var e=t.serviceUrl,i=Be({},me(n,t));delete i._dt;var o=K.stringify(i);return"".concat(e,"/browse/facets?").concat(o)}function nn(n,t,e){var i=e.serviceUrl;if(!n||typeof n!="string")throw new Error("facetName is a required parameter of type string");var o=Be({},me(t,e));o.facet_name=n,delete o._dt;var s=K.stringify(o);return"".concat(i,"/browse/facet_options?").concat(s)}var rn=function(){function n(t){(0,Qi.default)(this,n),this.options=t||{},this.eventDispatcher=new Zi(t.eventDispatcher)}return(0,Xi.default)(n,[{key:"getBrowseResults",value:function(e,i,o){var s=this,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a,f=this.options.fetch,c;if(typeof AbortController=="function"){var u=new AbortController;c=u&&u.signal,K.applyNetworkTimeout(this.options,r,u)}try{a=$i(e,i,o,this.options)}catch(l){return Promise.reject(l)}return f(a,{signal:c}).then(K.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(v){v.result_id=l.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",l),l;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,K.applyNetworkTimeout(this.options,s,c)}try{r=en(e,i,this.options)}catch(u){return Promise.reject(u)}return a(r,{signal:f}).then(K.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options.fetch,r=this.options.serviceUrl,a=me(e,this.options),f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,K.applyNetworkTimeout(this.options,o,c)}delete a._dt;var u=K.stringify(a),l="".concat(r,"/browse/groups?").concat(u);return s(l,{signal:f}).then(K.convertResponseToJson).then(function(v){if(v.response&&v.response.groups)return i.eventDispatcher.queue("browse.getBrowseGroups.completed",v),v;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,i){var o=this,s,r=this.options.fetch,a;if(typeof AbortController=="function"){var f=new AbortController;a=f&&f.signal,K.applyNetworkTimeout(this.options,i,f)}try{s=tn(e,this.options)}catch(c){return Promise.reject(c)}return r(s,{signal:a}).then(K.convertResponseToJson).then(function(c){if(c.response&&c.response.facets)return o.eventDispatcher.queue("browse.getBrowseFacets.completed",c),c;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,K.applyNetworkTimeout(this.options,s,c)}try{r=nn(e,o,this.options)}catch(u){return Promise.reject(u)}return a(r,{signal:f}).then(K.convertResponseToJson).then(function(u){if(u.response&&u.response.facets)return i.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),n}();Ct.exports=rn});var It=j((oo,Tt)=>{"use strict";A();var Ot=Y(),on=Ot(ee()),sn=Ot(te()),un=fe(),he=Z(),cn=he.convertResponseToJson,an=he.cleanParams,ln=he.applyNetworkTimeout,fn=he.trimNonBreakingSpaces,vn=he.encodeURIComponentRFC3986,dn=he.stringify;function hn(n,t,e){var i=e.apiKey,o=e.version,s=e.serviceUrl,r=e.sessionId,a=e.clientId,f=e.userId,c=e.segments,u=e.testCells,l={c:o};if(l.key=i,l.i=a,l.s=r,!n||typeof n!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(d){l["ef-".concat(d)]=u[d]}),c&&c.length&&(l.us=c),f&&(l.ui=String(f)),t){var v=t.numResults,h=t.resultsPerSection,p=t.filters,y=t.filtersPerSection,g=t.hiddenFields,b=t.variationsMap,k=t.preFilterExpression,w=t.qsParam,m=t.fmtOptions;v&&(l.num_results=v),h&&Object.keys(h).forEach(function(d){l["num_results_".concat(d)]=h[d]}),p&&(l.filters=p),y&&Object.keys(y).forEach(function(d){l["filters[".concat(d,"]")]=y[d]}),k&&(l.pre_filter_expression=JSON.stringify(k)),m&&(l.fmt_options=m),g&&(l.fmt_options?l.fmt_options.hidden_fields=g:l.fmt_options={hidden_fields:g}),b&&(l.variations_map=JSON.stringify(b)),w&&(l.qs=JSON.stringify(w))}l._dt=Date.now(),l=an(l);var C=dn(l),T=n.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(vn(fn(T)),"?").concat(C)}var gn=function(){function n(t){(0,on.default)(this,n),this.options=t||{},this.eventDispatcher=new un(t.eventDispatcher)}return(0,sn.default)(n,[{key:"getAutocompleteResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,ln(this.options,s,c)}try{r=hn(e,i,this.options)}catch(u){return Promise.reject(u)}return a(r,{signal:f}).then(cn).then(function(u){if(u.sections){if(u.result_id){var l=Object.keys(u.sections);l.forEach(function(v){var h=u.sections[v];h.length&&h.forEach(function(p){p.result_id=u.result_id})})}return o.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),n}();Tt.exports=gn});var Nt=j((uo,Ut)=>{"use strict";A();var xt=Y(),_n=xt(ee()),pn=xt(te()),yn=fe(),ve=Z();function wn(n,t,e){var i=e.apiKey,o=e.version,s=e.serviceUrl,r=e.sessionId,a=e.userId,f=e.clientId,c=e.segments,u={c:o};if(u.key=i,u.i=f,u.s=r,!n||typeof n!="string")throw new Error("podId is a required parameter of type string");if(c&&c.length&&(u.us=c),a&&(u.ui=String(a)),t){var l=t.numResults,v=t.itemIds,h=t.section,p=t.term,y=t.filters,g=t.variationsMap,b=t.hiddenFields,k=t.preFilterExpression,w=t.fmtOptions;ve.isNil(l)||(u.num_results=l),v&&(u.item_id=v),h&&(u.section=h),p&&(u.term=p),y&&(u.filters=y),w&&(u.fmt_options=w),b&&(u.fmt_options?u.fmt_options.hidden_fields=b:u.fmt_options={hidden_fields:b}),g&&(u.variations_map=JSON.stringify(g)),k&&(u.pre_filter_expression=JSON.stringify(k))}u=ve.cleanParams(u);var m=ve.stringify(u);return"".concat(s,"/recommendations/v1/pods/").concat(ve.encodeURIComponentRFC3986(ve.trimNonBreakingSpaces(n)),"?").concat(m)}var bn=function(){function n(t){(0,_n.default)(this,n),this.options=t||{},this.eventDispatcher=new yn(t.eventDispatcher)}return(0,pn.default)(n,[{key:"getRecommendations",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,ve.applyNetworkTimeout(this.options,s,c)}try{r=wn(e,i,this.options)}catch(u){return Promise.reject(u)}return a(r,{signal:f}).then(ve.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),n}();Ut.exports=bn});var Gt=j((ao,tt)=>{"use strict";A();var kn=Y(),et=kn(le()),ge=(typeof Reflect>"u"?"undefined":(0,et.default)(Reflect))==="object"?Reflect:null,Dt=ge&&typeof ge.apply=="function"?ge.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)},je;ge&&typeof ge.ownKeys=="function"?je=ge.ownKeys:Object.getOwnPropertySymbols?je=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:je=function(t){return Object.getOwnPropertyNames(t)};function qn(n){console&&console.warn&&console.warn(n)}var Bt=Number.isNaN||function(t){return t!==t};function P(){P.init.call(this)}tt.exports=P;tt.exports.once=An;P.EventEmitter=P;P.prototype._events=void 0;P.prototype._eventsCount=0;P.prototype._maxListeners=void 0;var Lt=10;function Fe(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,et.default)(n))}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return Lt},set:function(t){if(typeof t!="number"||t<0||Bt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Lt=t}});P.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};P.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Bt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function jt(n){return n._maxListeners===void 0?P.defaultMaxListeners:n._maxListeners}P.prototype.getMaxListeners=function(){return jt(this)};P.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var a=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw a.context=r,a}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")Dt(f,this,e);else for(var c=f.length,u=Jt(f,c),i=0;i<c;++i)Dt(u[i],this,e);return!0};function Ft(n,t,e,i){var o,s,r;if(Fe(e),s=n._events,s===void 0?(s=n._events=Object.create(null),n._eventsCount=0):(s.newListener!==void 0&&(n.emit("newListener",t,e.listener?e.listener:e),s=n._events),r=s[t]),r===void 0)r=s[t]=e,++n._eventsCount;else if(typeof r=="function"?r=s[t]=i?[e,r]:[r,e]:i?r.unshift(e):r.push(e),o=jt(n),o>0&&r.length>o&&!r.warned){r.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=t,a.count=r.length,qn(a)}return n}P.prototype.addListener=function(t,e){return Ft(this,t,e,!1)};P.prototype.on=P.prototype.addListener;P.prototype.prependListener=function(t,e){return Ft(this,t,e,!0)};function mn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Pt(n,t,e){var i={fired:!1,wrapFn:void 0,target:n,type:t,listener:e},o=mn.bind(i);return o.listener=e,i.wrapFn=o,o}P.prototype.once=function(t,e){return Fe(e),this.on(t,Pt(this,t,e)),this};P.prototype.prependOnceListener=function(t,e){return Fe(e),this.prependListener(t,Pt(this,t,e)),this};P.prototype.removeListener=function(t,e){var i,o,s,r,a;if(Fe(e),o=this._events,o===void 0)return this;if(i=o[t],i===void 0)return this;if(i===e||i.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,i.listener||e));else if(typeof i!="function"){for(s=-1,r=i.length-1;r>=0;r--)if(i[r]===e||i[r].listener===e){a=i[r].listener,s=r;break}if(s<0)return this;s===0?i.shift():Sn(i,s),i.length===1&&(o[t]=i[0]),o.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};P.prototype.off=P.prototype.removeListener;P.prototype.removeAllListeners=function(t){var e,i,o;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var s=Object.keys(i),r;for(o=0;o<s.length;++o)r=s[o],r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=i[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this};function zt(n,t,e){var i=n._events;if(i===void 0)return[];var o=i[t];return o===void 0?[]:typeof o=="function"?e?[o.listener||o]:[o]:e?En(o):Jt(o,o.length)}P.prototype.listeners=function(t){return zt(this,t,!0)};P.prototype.rawListeners=function(t){return zt(this,t,!1)};P.listenerCount=function(n,t){return typeof n.listenerCount=="function"?n.listenerCount(t):Mt.call(n,t)};P.prototype.listenerCount=Mt;function Mt(n){var t=this._events;if(t!==void 0){var e=t[n];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}P.prototype.eventNames=function(){return this._eventsCount>0?je(this._events):[]};function Jt(n,t){for(var e=new Array(t),i=0;i<t;++i)e[i]=n[i];return e}function Sn(n,t){for(;t+1<n.length;t++)n[t]=n[t+1];n.pop()}function En(n){for(var t=new Array(n.length),e=0;e<t.length;++e)t[e]=n[e].listener||n[e];return t}function An(n,t){return new Promise(function(e,i){function o(r){n.removeListener(t,s),i(r)}function s(){typeof n.removeListener=="function"&&n.removeListener("error",o),e([].slice.call(arguments))}Kt(n,t,s,{once:!0}),t!=="error"&&Cn(n,o,{once:!0})})}function Cn(n,t,e){typeof n.on=="function"&&Kt(n,"error",t,e)}function Kt(n,t,e,i){if(typeof n.on=="function")i.once?n.once(t,e):n.on(t,e);else if(typeof n.addEventListener=="function")n.addEventListener(t,function o(s){i.once&&n.removeEventListener(t,o),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,et.default)(n))}});var Ht=j((fo,Vt)=>{"use strict";A();Vt.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot","Bytespider","BTTAgent","OnCrawl"]});var $t=j((ho,Zt)=>{"use strict";A();var Yt=Y(),Rn=Yt(ee()),On=Yt(te()),Wt=Ne(),Tn=Ht(),it=Z(),Qt="_constructorio_is_human",Xt=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],In=function(){function n(){var t=this;(0,Rn.default)(this,n),this.hasPerformedHumanEvent=this.getIsHumanFromSessionStorage();var e=function i(){t.hasPerformedHumanEvent=!0,Wt.session.set(Qt,!0),Xt.forEach(function(o){it.removeEventListener(o,i,!0)})};this.hasPerformedHumanEvent||Xt.forEach(function(i){it.addEventListener(i,e,!0)})}return(0,On.default)(n,[{key:"getIsHumanFromSessionStorage",value:function(){return!!Wt.session.get(Qt)||!1}},{key:"isBot",value:function(){var e=it.getNavigator(),i=e.userAgent,o=e.webdriver,s=new RegExp("(".concat(Tn.join("|"),")"));return!!(i.match(s)||o||!this.getIsHumanFromSessionStorage())}}]),n}();Zt.exports=In});var ii=j((_o,ti)=>{"use strict";A();var ei=Y(),xn=ei(ee()),Un=ei(te()),nt=Ne(),Nn=$t(),Pe=Z(),Dn=Z(),Ln=Dn.obfuscatePiiRequest,rt="_constructorio_requests",Bn=18e4,jn=function(){function n(t,e){var i=this;(0,xn.default)(this,n),this.options=t,this.eventemitter=e,this.humanity=new Nn,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(t&&t.sendTrackingEvents===!0),Pe.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"?i.pageUnloading=!0:document.visibilityState==="visible"&&i.pageUnloading===!0&&(i.pageUnloading=!1,i.sendTrackingEvents&&i.send())}),this.sendTrackingEvents&&this.send()}return(0,Un.default)(n,[{key:"queue",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&(!Pe.canUseDOM()||!this.humanity.isBot())){var r=n.get(),a=Ln(e);r.push({url:a,method:i,body:o,networkParameters:s}),n.set(r)}}},{key:"sendEvents",value:function(){var e=this,i=this.options.fetch,o=n.get();if((!Pe.canUseDOM()||!this.humanity.isBot())&&!this.requestPending&&!this.pageUnloading&&o.length){var s,r=o.shift(),a=r,f=a.networkParameters,c,u=this;if(n.set(o),f&&typeof AbortController=="function"){var l=new AbortController;c=l.signal,Pe.applyNetworkTimeout(this.options,f,l)}if(typeof r=="string"&&(r={url:r,method:"GET"}),r.url){var v=r.url.match(/\?.*_dt=([^&]+)/),h=parseInt(v&&v[1],10),p=+new Date;if(h&&Number.isInteger(h)&&p-h>Bn){this.sendTrackingEvents=!1,n.remove();return}}r.method==="GET"&&(s=i(r.url,{signal:c})),r.method==="POST"&&(s=i(r.url,{method:r.method,body:JSON.stringify(r.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:c})),s&&(this.requestPending=!0,s.then(function(y){y.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:r.url,method:r.method,message:"ok"}),e.requestPending=!1,e.send()):y.json().then(function(g){u.eventemitter&&u.eventemitter.emit("error",{url:r.url,method:r.method,message:g&&g.message}),e.requestPending=!1,e.send()}).catch(function(g){u.eventemitter&&u.eventemitter.emit("error",{url:r.url,method:r.method,message:g.type}),e.requestPending=!1,e.send()})}).catch(function(y){u.eventemitter&&u.eventemitter.emit("error",{url:r.url,method:r.method,message:y&&y.toString&&y.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return nt.local.get(rt)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?n.remove():nt.local.set(rt,e);var i=n.get();Array.isArray(i)&&i.length!==e.length&&(this.sendTrackingEvents=!1,n.remove())}},{key:"remove",value:function(){nt.local.remove(rt)}}]),n}();ti.exports=jn});var ui=j((yo,si)=>{"use strict";A();var ze=Y(),L=ze(le()),Fn=ze(Le()),Pn=ze(ee()),zn=ze(te());function ni(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,i)}return e}function R(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ni(Object(e),!0).forEach(function(i){(0,Fn.default)(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ni(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}var Mn=Gt(),I=Z(),ri=ii(),Se=2048;function B(n,t){var e=t.apiKey,i=t.version,o=t.sessionId,s=t.clientId,r=t.userId,a=t.segments,f=t.testCells,c=t.requestMethod,u=t.beaconMode,l=I.getWindowLocation(),v=l.host,h=l.pathname,p=l.search,y=t.sendReferrerWithTrackingEvents!==!1,g=Object.assign(n);if(i&&(g.c=i),s&&(g.i=s),o&&(g.s=o),r&&(g.ui=String(r)),a&&a.length&&(g.us=a),e&&(g.key=e),f&&Object.keys(f).forEach(function(w){g["ef-".concat(w)]=f[w]}),u&&c&&c.match(/POST/i)&&(g.beacon=!0),y&&v&&(g.origin_referrer=v,h&&(g.origin_referrer+=h),p))try{var b=[],k=new URLSearchParams(p);k.forEach(function(w,m){m.match(/utm_/)&&b.push("".concat(m,"=").concat(w))}),b.length&&(g.origin_referrer+="?".concat(b.join("&")))}catch{}return g._dt=Date.now(),g=I.cleanParams(g),g}function x(n,t){return I.stringify(B(n,t))}var oi=function(){function n(t){(0,Pn.default)(this,n),this.options=t||{},this.eventemitter=new Mn,this.requests=new ri(t,this.eventemitter)}return(0,zn.default)(n,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/v2/behavioral_action/session_start?");return this.requests.queue("".concat(i).concat(x({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),o={action:"session_start"};return this.requests.queue("".concat(i).concat(x(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s="".concat(this.options.serviceUrl,"/v2/behavioral_action/focus?"),r={},a=i.analyticsTags,f=a===void 0?null:a;f&&(r.analytics_tags=f),r.user_input=e;var c="POST",u=B(r,R(R({},this.options),{},{requestMethod:c}));return this.requests.queue("".concat(s).concat(x({},this.options)),c,u,o),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i="".concat(this.options.serviceUrl,"/behavior?"),o={action:"focus"};return this.requests.queue("".concat(i).concat(x(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},r={},a=e.item_name,f=e.name,c=e.item_id,u=e.customer_id,l=e.customerId,v=l===void 0?u:l,h=e.variation_id,p=e.itemName,y=p===void 0?a||f:p,g=e.itemId,b=g===void 0?c||v:g,k=e.variationId,w=k===void 0?h:k,m=e.url,C=e.analyticsTags;y&&(r.item_name=y),b&&(r.item_id=b),w&&(r.variation_id=w),C&&(r.analytics_tags=C),m&&(r.url=I.truncateString(m,Se));var T="".concat(o).concat(x(s,this.options)),d="POST",O=B(r,R(R({},this.options),{},{requestMethod:d}));return this.requests.queue(T,d,O,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/autocomplete_select?"),r=i.original_query,a=i.originalQuery,f=a===void 0?r:a,c=i.user_input,u=i.userInput,l=u===void 0?f||c:u,v=i.original_section,h=i.section,p=h===void 0?v:h,y=i.tr,g=i.group_id,b=i.groupId,k=b===void 0?g:b,w=i.item_id,m=i.itemId,C=m===void 0?w:m,T=i.variation_id,d=i.variationId,O=d===void 0?T:d,_=i.slCampaignId,S=i.slCampaignOwner,E={},q={user_input:l,tr:y,group_id:k,item_id:C,variation_id:O,item_name:e,section:p};p&&(E.section=p),_&&(q.sl_campaign_id=_),S&&(q.sl_campaign_owner=S);var N="".concat(s).concat(x(E,this.options)),z="POST",F=B(q,R(R({},this.options),{},{requestMethod:z}));return this.requests.queue(N,z,F,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(I.encodeURIComponentRFC3986(I.trimNonBreakingSpaces(e)),"/select?"),r={},a=i.original_query,f=i.originalQuery,c=f===void 0?a:f,u=i.section,l=i.original_section,v=i.originalSection,h=v===void 0?l:v,p=i.tr,y=i.group_id,g=i.groupId,b=g===void 0?y:g,k=i.display_name,w=i.displayName,m=w===void 0?k:w,C=i.item_id,T=i.itemId,d=T===void 0?C:T,O=i.slCampaignOwner,_=i.slCampaignId;return c&&(r.original_query=c),p&&(r.tr=p),(h||u)&&(r.section=h||u),b&&(r.group={group_id:b,display_name:m}),d&&(r.item_id=d),_&&(r.sl_campaign_id=_),O&&(r.sl_campaign_owner=O),this.requests.queue("".concat(s).concat(x(r,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_submit?"),r=i.original_query,a=i.originalQuery,f=a===void 0?r:a,c=i.user_input,u=i.userInput,l=u===void 0?f||c:u,v=i.group_id,h=i.groupId,p=h===void 0?v:h,y=i.section,g=i.analyticsTags,b=g===void 0?null:g,k={},w={user_input:l,search_term:e,section:y};p&&(w.filters={group_id:p}),y&&(k.section=y),b&&(w.analytics_tags=b);var m="".concat(s).concat(x(k,this.options)),C="POST",T=B(w,R(R({},this.options),{},{requestMethod:C}));return this.requests.queue(m,C,T,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(I.encodeURIComponentRFC3986(I.trimNonBreakingSpaces(e)),"/search?"),r={},a=i.original_query,f=i.originalQuery,c=f===void 0?a:f,u=i.group_id,l=i.groupId,v=l===void 0?u:l,h=i.display_name,p=i.displayName,y=p===void 0?h:p;return c&&(r.original_query=c),v&&(r.group={group_id:v,display_name:y}),this.requests.queue("".concat(s).concat(x(r,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s,r,a,f="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_load?"),c=i.num_results,u=i.numResults,l=u===void 0?c:u,v=i.result_count,h=i.customerIds,p=i.customer_ids,y=p===void 0?h:p,g=i.itemIds,b=i.item_ids,k=b===void 0?g:b,w=i.items,m=w===void 0?y||k:w,C=i.result_page,T=i.resultPage,d=T===void 0?C:T,O=i.result_id,_=i.resultId,S=_===void 0?O:_,E=i.sort_order,q=i.sortOrder,N=q===void 0?E:q,z=i.sort_by,F=i.sortBy,M=F===void 0?z:F,V=i.selected_filters,D=i.selectedFilters,Q=D===void 0?V:D,G=i.url,W=G===void 0?((s=I.getWindowLocation())===null||s===void 0?void 0:s.href)||"N/A":G,X=i.section,J=i.analyticsTags,$=i.resultCount,ie=$===void 0?(r=(a=l??v)!==null&&a!==void 0?a:m?.length)!==null&&r!==void 0?r:0:$,ce={},se;if(m&&Array.isArray(m)&&m.length!==0){var ae=m.slice(0,100);typeof m[0]=="string"||typeof m[0]=="number"?se=ae.map(function(de){return{item_id:String(de)}}):se=ae.map(function(de){return I.toSnakeCaseKeys(de,!1)})}X&&(ce.section=X);var xe={search_term:e,result_count:ie,items:se,result_page:d,result_id:S,sort_order:N,sort_by:M,selected_filters:Q,url:I.truncateString(W,Se),section:X,analytics_tags:J},Ue="".concat(f).concat(x(ce,this.options)),_e="POST",Ve=B(xe,R(R({},this.options),{},{requestMethod:_e}));return this.requests.queue(Ue,_e,Ve,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_click?"),r=i.num_results,a=i.customer_id,f=i.item_id,c=i.itemId,u=c===void 0?a||f:c,l=i.name,v=i.item_name,h=i.itemName,p=h===void 0?l||v:h,y=i.variation_id,g=i.variationId,b=g===void 0?y:g,k=i.result_id,w=i.resultId,m=w===void 0?k:w,C=i.result_count,T=i.resultCount,d=T===void 0?r||C:T,O=i.result_page,_=i.resultPage,S=_===void 0?O:_,E=i.result_position_on_page,q=i.resultPositionOnPage,N=q===void 0?E:q,z=i.num_results_per_page,F=i.numResultsPerPage,M=F===void 0?z:F,V=i.selected_filters,D=i.selectedFilters,Q=D===void 0?V:D,G=i.section,W=i.analyticsTags,X=i.slCampaignId,J=i.slCampaignOwner,$={sl_campaign_id:X,sl_campaign_owner:J,item_name:p,item_id:u,variation_id:b,result_id:m,result_count:d,result_page:S,result_position_on_page:N,num_results_per_page:M,selected_filters:Q,section:G,search_term:e,analytics_tags:W},ie={};G&&(ie.section=G);var ce="".concat(s).concat(x(ie,this.options)),se="POST",ae=B($,R(R({},this.options),{},{requestMethod:se}));return this.requests.queue(ce,se,ae,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(I.encodeURIComponentRFC3986(I.trimNonBreakingSpaces(e)),"/click_through?"),r={},a=i.item_name,f=i.name,c=i.itemName,u=c===void 0?a||f:c,l=i.item_id,v=i.itemId,h=v===void 0?l:v,p=i.customer_id,y=i.customerId,g=y===void 0?p||h:y,b=i.variation_id,k=i.variationId,w=k===void 0?b:k,m=i.result_id,C=i.resultId,T=C===void 0?m:C,d=i.item_is_convertible,O=i.itemIsConvertible,_=O===void 0?d:O,S=i.section,E=i.analyticsTags,q=i.slCampaignOwner,N=i.slCampaignId;return u&&(r.name=u),g&&(r.customer_id=g),w&&(r.variation_id=w),T&&(r.result_id=T),typeof _=="boolean"&&(r.item_is_convertible=_),S&&(r.section=S),E&&(r.analytics_tags=E),N&&(r.sl_campaign_id=N),q&&(r.sl_campaign_owner=q),this.requests.queue("".concat(s).concat(x(r,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i&&(0,L.default)(i)==="object"&&!Array.isArray(i)){var s=e||"TERM_UNKNOWN",r="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},f={},c=i.name,u=i.item_name,l=i.itemName,v=l===void 0?u||c:l,h=i.customer_id,p=i.customerId,y=p===void 0?h:p,g=i.item_id,b=i.itemId,k=b===void 0?g||y:b,w=i.variation_id,m=i.variationId,C=m===void 0?w:m,T=i.revenue,d=i.section,O=d===void 0?"Products":d,_=i.display_name,S=i.displayName,E=S===void 0?_:S,q=i.type,N=i.is_custom_type,z=i.isCustomType,F=z===void 0?N:z;k&&(f.item_id=k),v&&(f.item_name=v),C&&(f.variation_id=C),(T||T===0)&&(f.revenue=T.toString()),O&&(a.section=O,f.section=O),s&&(f.search_term=s),q&&(f.type=q),F&&(f.is_custom_type=F),E&&(f.display_name=E);var M="".concat(r).concat(x(a,this.options)),V="POST",D=B(f,R(R({},this.options),{},{requestMethod:V}));return this.requests.queue(M,V,D,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},r={},a=e.items,f=e.revenue,c=e.order_id,u=e.orderId,l=u===void 0?c:u,v=e.section,h=e.analyticsTags,p=this.options.apiKey;if(l){if(I.hasOrderIdRecord({orderId:l,apiKey:p}))return!1;I.addOrderIdRecord({orderId:l,apiKey:p}),r.order_id=l}a&&Array.isArray(a)&&(r.items=a.slice(0,100).map(function(k){return I.toSnakeCaseKeys(k,!1)})),(f||f===0)&&(r.revenue=f),v?s.section=v:s.section="Products",h&&(r.analytics_tags=h);var y="".concat(o).concat(x(s,this.options)),g="POST",b=B(r,R(R({},this.options),{},{requestMethod:g}));return this.requests.queue(y,g,b,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},r=e.result_count,a=e.result_page,f=e.resultPage,c=f===void 0?a:f,u=e.result_id,l=e.resultId,v=l===void 0?u:l,h=e.section,p=e.url,y=e.pod_id,g=e.podId,b=g===void 0?y:g,k=e.num_results_viewed,w=e.numResultsViewed,m=w===void 0?k:w,C=e.items,T=e.analyticsTags,d=e.seedItemIds,O=e.resultCount,_=O===void 0?r||C?.length||0:O;I.isNil(_)||(s.result_count=_),I.isNil(c)||(s.result_page=c),v&&(s.result_id=v),h?s.section=h:s.section="Products",p&&(s.url=I.truncateString(p,Se)),b&&(s.pod_id=b),I.isNil(m)||(s.num_results_viewed=m),C&&Array.isArray(C)&&(s.items=C.slice(0,100).map(function(N){return I.toSnakeCaseKeys(N,!1)})),T&&(s.analytics_tags=T),typeof d=="number"?s.seed_item_ids=[String(d)]:d!=null&&d.length&&typeof d=="string"?s.seed_item_ids=[d]:d!=null&&d.length&&Array.isArray(d)&&(s.seed_item_ids=d);var S="".concat(o).concat(x({},this.options)),E="POST",q=B(s,R(R({},this.options),{},{requestMethod:E}));return this.requests.queue(S,E,q,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},r=e.variation_id,a=e.variationId,f=a===void 0?r:a,c=e.section,u=c===void 0?"Products":c,l=e.result_id,v=e.resultId,h=v===void 0?l:v,p=e.result_count,y=e.resultCount,g=y===void 0?p:y,b=e.result_page,k=e.resultPage,w=k===void 0?b:k,m=e.result_position_on_page,C=e.resultPositionOnPage,T=C===void 0?m:C,d=e.num_results_per_page,O=e.numResultsPerPage,_=O===void 0?d:O,S=e.pod_id,E=e.podId,q=E===void 0?S:E,N=e.strategy_id,z=e.strategyId,F=z===void 0?N:z,M=e.item_id,V=e.itemId,D=V===void 0?M:V,Q=e.item_name,G=e.itemName,W=G===void 0?Q:G,X=e.analyticsTags;f&&(s.variation_id=f),u&&(s.section=u),h&&(s.result_id=h),I.isNil(g)||(s.result_count=g),I.isNil(w)||(s.result_page=w),I.isNil(T)||(s.result_position_on_page=T),I.isNil(_)||(s.num_results_per_page=_),q&&(s.pod_id=q),F&&(s.strategy_id=F),D&&(s.item_id=D),W&&(s.item_name=W),X&&(s.analytics_tags=X);var J="".concat(o).concat(x({},this.options)),$="POST",ie=B(s,R(R({},this.options),{},{requestMethod:$}));return this.requests.queue(J,$,ie,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o,s="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),r={},a=e.section,f=a===void 0?"Products":a,c=e.result_count,u=e.result_page,l=e.resultPage,v=l===void 0?u:l,h=e.result_id,p=e.resultId,y=p===void 0?h:p,g=e.selected_filters,b=e.selectedFilters,k=b===void 0?g:b,w=e.url,m=e.sort_order,C=e.sortOrder,T=C===void 0?m:C,d=e.sort_by,O=e.sortBy,_=O===void 0?d:O,S=e.filter_name,E=e.filterName,q=E===void 0?S:E,N=e.filter_value,z=e.filterValue,F=z===void 0?N:z,M=e.items,V=e.analyticsTags,D=e.resultCount,Q=D===void 0?(o=c??M?.length)!==null&&o!==void 0?o:0:D;f&&(r.section=f),I.isNil(Q)||(r.result_count=Q),I.isNil(v)||(r.result_page=v),y&&(r.result_id=y),k&&(r.selected_filters=k),w&&(r.url=I.truncateString(w,Se)),T&&(r.sort_order=T),_&&(r.sort_by=_),q&&(r.filter_name=q),F&&(r.filter_value=F),M&&Array.isArray(M)&&(r.items=M.slice(0,100).map(function(J){return I.toSnakeCaseKeys(J,!1)})),V&&(r.analytics_tags=V);var G="".concat(s).concat(x({},this.options)),W="POST",X=B(r,R(R({},this.options),{},{requestMethod:W}));return this.requests.queue(G,W,X,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},r=e.section,a=r===void 0?"Products":r,f=e.variation_id,c=e.variationId,u=c===void 0?f:c,l=e.result_id,v=e.resultId,h=v===void 0?l:v,p=e.result_count,y=e.resultCount,g=y===void 0?p:y,b=e.result_page,k=e.resultPage,w=k===void 0?b:k,m=e.result_position_on_page,C=e.resultPositionOnPage,T=C===void 0?m:C,d=e.num_results_per_page,O=e.numResultsPerPage,_=O===void 0?d:O,S=e.selected_filters,E=e.selectedFilters,q=E===void 0?S:E,N=e.filter_name,z=e.filterName,F=z===void 0?N:z,M=e.filter_value,V=e.filterValue,D=V===void 0?M:V,Q=e.customer_id,G=e.customerId,W=G===void 0?Q:G,X=e.item_id,J=e.itemId,$=J===void 0?W||X:J,ie=e.item_name,ce=e.name,se=e.itemName,ae=se===void 0?ie||ce:se,xe=e.analyticsTags,Ue=e.slCampaignId,_e=e.slCampaignOwner;a&&(s.section=a),u&&(s.variation_id=u),h&&(s.result_id=h),I.isNil(g)||(s.result_count=g),I.isNil(w)||(s.result_page=w),I.isNil(T)||(s.result_position_on_page=T),I.isNil(_)||(s.num_results_per_page=_),q&&(s.selected_filters=q),F&&(s.filter_name=F),D&&(s.filter_value=D),$&&(s.item_id=$),ae&&(s.item_name=ae),xe&&(s.analytics_tags=xe),Ue&&(s.sl_campaign_id=Ue),_e&&(s.sl_campaign_owner=_e);var Ve="".concat(o).concat(x({},this.options)),de="POST",Si=B(s,R(R({},this.options),{},{requestMethod:de}));return this.requests.queue(Ve,de,Si,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseRedirect",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_redirect?"),s={},r=e.searchTerm,a=e.userInput,f=e.section,c=f===void 0?"Products":f,u=e.selectedFilters,l=e.redirectToUrl,v=e.sortOrder,h=e.sortBy,p=e.filterName,y=e.filterValue,g=e.analyticsTags;r&&(s.search_term=r),a&&(s.user_input=a),l&&(s.redirect_to_url=l),c&&(s.section=c),u&&(s.selected_filters=u),v&&(s.sort_order=v),h&&(s.sort_by=h),p&&(s.filter_name=p),y&&(s.filter_value=y),g&&(s.analytics_tags=g);var b="".concat(o).concat(x({},this.options)),k="POST",w=B(s,R(R({},this.options),{},{requestMethod:k}));return this.requests.queue(b,k,w,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,L.default)(e)==="object"){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},r=e.item_id,a=e.itemId,f=a===void 0?r:a,c=e.item_name,u=e.itemName,l=u===void 0?c:u,v=e.variation_id,h=e.variationId,p=h===void 0?v:h,y=e.section,g=y===void 0?"Products":y,b=e.analyticsTags;if(f){s.section=g,s.item_id=f,l&&(s.item_name=l),p&&(s.variation_id=p),b&&(s.analytics_tags=b);var k="".concat(o).concat(x({},this.options)),w="POST",m=B(s,R(R({},this.options),{},{requestMethod:w}));return this.requests.queue(k,w,m,i),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),s=e.quiz_id,r=e.quizId,a=r===void 0?s:r,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,v=e.quizSessionId,h=v===void 0?l:v,p=e.url,y=e.section,g=y===void 0?"Products":y,b=e.result_count,k=e.resultCount,w=k===void 0?b:k,m=e.result_id,C=e.resultId,T=C===void 0?m:C,d=e.result_page,O=e.resultPage,_=O===void 0?d:O,S=e.items,E={},q={};if(S&&Array.isArray(S)&&(q.items=S.slice(0,100).map(function(M){return I.toSnakeCaseKeys(M,!1)})),typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof h!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof p!="string")return new Error('"url" is a required parameter of type string');if(q.quiz_id=a,q.quiz_version_id=u,q.quiz_session_id=h,q.url=I.truncateString(p,Se),!I.isNil(g)){if(typeof g!="string")return new Error('"section" must be a string');E.section=g,q.section=g}if(!I.isNil(w)){if(typeof w!="number")return new Error('"resultCount" must be a number');q.result_count=w}if(!I.isNil(T)){if(typeof T!="string")return new Error('"resultId" must be a string');q.result_id=T}if(!I.isNil(_)){if(typeof _!="number")return new Error('"resultPage" must be a number');q.result_page=_}var N="".concat(o).concat(x(E,this.options)),z="POST",F=B(q,R(R({},this.options),{},{requestMethod:z}));return this.requests.queue(N,z,F,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),s=e.quiz_id,r=e.quizId,a=r===void 0?s:r,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,v=e.quizSessionId,h=v===void 0?l:v,p=e.item_id,y=e.itemId,g=y===void 0?p:y,b=e.item_name,k=e.itemName,w=k===void 0?b:k,m=e.result_count,C=e.resultCount,T=C===void 0?m:C,d=e.result_id,O=e.resultId,_=O===void 0?d:O,S=e.result_page,E=e.resultPage,q=E===void 0?S:E,N=e.num_results_per_page,z=e.numResultsPerPage,F=z===void 0?N:z,M=e.result_position_on_page,V=e.resultPositionOnPage,D=V===void 0?M:V,Q=e.section,G=Q===void 0?"Products":Q,W=e.variationId,X={},J={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof h!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof g!="string"&&typeof w!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(J.quiz_id=a,J.quiz_version_id=u,J.quiz_session_id=h,!I.isNil(g)){if(typeof g!="string")return new Error('"itemId" must be a string');J.item_id=g}if(!I.isNil(w)){if(typeof w!="string")return new Error('"itemName" must be a string');J.item_name=w}if(!I.isNil(W)){if(typeof W!="string")return new Error('"variationId" must be a string');J.variation_id=W}if(!I.isNil(G)){if(typeof G!="string")return new Error('"section" must be a string');X.section=G}if(!I.isNil(T)){if(typeof T!="number")return new Error('"resultCount" must be a number');J.result_count=T}if(!I.isNil(_)){if(typeof _!="string")return new Error('"resultId" must be a string');J.result_id=_}if(!I.isNil(q)){if(typeof q!="number")return new Error('"resultPage" must be a number');J.result_page=q}if(!I.isNil(F)){if(typeof F!="number")return new Error('"numResultsPerPage" must be a number');J.num_results_per_page=F}if(!I.isNil(D)){if(typeof D!="number")return new Error('"resultPositionOnPage" must be a number');J.result_position_on_page=D}var $="".concat(o).concat(x(X,this.options)),ie="POST",ce=B(J,R(R({},this.options),{},{requestMethod:ie}));return this.requests.queue($,ie,ce,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),s=e.quiz_id,r=e.quizId,a=r===void 0?s:r,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,v=e.quizSessionId,h=v===void 0?l:v,p=e.item_id,y=e.itemId,g=y===void 0?p:y,b=e.item_name,k=e.itemName,w=k===void 0?b:k,m=e.variation_id,C=e.variationId,T=C===void 0?m:C,d=e.revenue,O=e.section,_=O===void 0?"Products":O,S=e.type,E=e.is_custom_type,q=e.isCustomType,N=q===void 0?E:q,z=e.display_name,F=e.displayName,M=F===void 0?z:F,V={},D={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof h!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof g!="string"&&typeof w!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(D.quiz_id=a,D.quiz_version_id=u,D.quiz_session_id=h,!I.isNil(g)){if(typeof g!="string")return new Error('"itemId" must be a string');D.item_id=g}if(!I.isNil(w)){if(typeof w!="string")return new Error('"itemName" must be a string');D.item_name=w}if(!I.isNil(T)){if(typeof T!="string")return new Error('"variationId" must be a string');D.variation_id=T}if(!I.isNil(d)){if(typeof d!="string")return new Error('"revenue" must be a string');D.revenue=d}if(!I.isNil(_)){if(typeof _!="string")return new Error('"section" must be a string');D.section=_}if(!I.isNil(S)){if(typeof S!="string")return new Error('"type" must be a string');D.type=S}if(!I.isNil(N)){if(typeof N!="boolean")return new Error('"isCustomType" must be a boolean');D.is_custom_type=N}if(!I.isNil(M)){if(typeof M!="string")return new Error('"displayName" must be a string');D.display_name=M}var Q="".concat(o).concat(x(V,this.options)),G="POST",W=B(D,R(R({},this.options),{},{requestMethod:G}));return this.requests.queue(Q,G,W,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_submit?"),s=e.section,r=e.intent,a={intent:r,section:s},f="".concat(o).concat(x({},this.options)),c="POST",u=B(a,R(R({},this.options),{},{requestMethod:c}));return this.requests.queue(f,c,u,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadStarted",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_start?"),s=e.section,r=e.intentResultId,a=e.intent,f={intent_result_id:r,intent:a,section:s},c="".concat(o).concat(x({},this.options)),u="POST",l=B(f,R(R({},this.options),{},{requestMethod:u}));return this.requests.queue(c,u,l,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadFinished",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_finish?"),s=e.section,r=e.searchResultCount,a=e.intentResultId,f=e.intent,c={intent_result_id:a,section:s,intent:f,search_result_count:r},u="".concat(o).concat(x({},this.options)),l="POST",v=B(c,R(R({},this.options),{},{requestMethod:l}));return this.requests.queue(u,l,v,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_click?"),s=e.section,r=s===void 0?"Products":s,a=e.variationId,f=e.intentResultId,c=e.searchResultId,u=e.itemId,l=e.itemName,v=e.intent,h={section:r,variation_id:a,intent_result_id:f,search_result_id:c,item_id:u,item_name:l,intent:v},p="".concat(o).concat(x({},this.options)),y="POST",g=B(h,R(R({},this.options),{},{requestMethod:y}));return this.requests.queue(p,y,g,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_view?"),s=e.section,r=s===void 0?"Products":s,a=e.items,f=e.numResultsViewed,c=e.intentResultId,u=e.searchResultId,l=e.intent,v={section:r,intent_result_id:c,search_result_id:u,num_results_viewed:f,items:a&&Array.isArray(a)&&a.slice(0,100).map(function(g){return I.toSnakeCaseKeys(g,!1)}),intent:l},h="".concat(o).concat(x({},this.options)),p="POST",y=B(v,R(R({},this.options),{},{requestMethod:p}));return this.requests.queue(h,p,y,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSearchSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_submit?"),s=e.section,r=e.intent,a=e.searchTerm,f=e.searchResultId,c=e.intentResultId,u={intent:r,section:s,search_term:a,search_result_id:f,intent_result_id:c},l="".concat(o).concat(x({},this.options)),v="POST",h=B(u,R(R({},this.options),{},{requestMethod:v}));return this.requests.queue(l,v,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentViews",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_views?"),s=e.section,r=e.questions,a=e.itemId,f=e.itemName,c=e.variationId,u=e.viewTimespans,l={},v={questions:r,item_id:a,item_name:f,variation_id:c,view_timespans:u};s&&(l.section=s);var h="".concat(o).concat(x(l,this.options)),p="POST",y=B(v,R(R({},this.options),{},{requestMethod:p}));return this.requests.queue(h,p,y,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_view?"),s=e.section,r=e.questions,a=e.itemId,f=e.itemName,c=e.variationId,u={},l={questions:r,item_id:a,item_name:f,variation_id:c};s&&(u.section=s);var v="".concat(o).concat(x(u,this.options)),h="POST",p=B(l,R(R({},this.options),{},{requestMethod:h}));return this.requests.queue(v,h,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentOutOfView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_out_of_view?"),s=e.section,r=e.itemId,a=e.itemName,f=e.variationId,c={},u={item_id:r,item_name:a,variation_id:f};s&&(c.section=s);var l="".concat(o).concat(x(c,this.options)),v="POST",h=B(u,R(R({},this.options),{},{requestMethod:v}));return this.requests.queue(l,v,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentFocus",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_focus?"),s=e.section,r=e.itemId,a=e.itemName,f=e.variationId,c={},u={item_id:r,item_name:a,variation_id:f};s&&(c.section=s);var l="".concat(o).concat(x(c,this.options)),v="POST",h=B(u,R(R({},this.options),{},{requestMethod:v}));return this.requests.queue(l,v,h,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentQuestionClick",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_question_click?"),s=e.section,r=e.itemId,a=e.itemName,f=e.variationId,c=e.question,u={},l={item_id:r,item_name:a,variation_id:f,question:c};s&&(u.section=s);var v="".concat(o).concat(x(u,this.options)),h="POST",p=B(l,R(R({},this.options),{},{requestMethod:h}));return this.requests.queue(v,h,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentQuestionSubmit",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_question_submit?"),s=e.section,r=e.itemId,a=e.itemName,f=e.variationId,c=e.question,u={},l={item_id:r,item_name:a,variation_id:f,question:c};s&&(u.section=s);var v="".concat(o).concat(x(u,this.options)),h="POST",p=B(l,R(R({},this.options),{},{requestMethod:h}));return this.requests.queue(v,h,p,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentAnswerView",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_answer_view?"),s=e.section,r=e.itemId,a=e.itemName,f=e.variationId,c=e.question,u=e.answerText,l=e.qnaResultId,v={},h={item_id:r,item_name:a,variation_id:f,question:c,answer_text:u,qna_result_id:l};s&&(v.section=s);var p="".concat(o).concat(x(v,this.options)),y="POST",g=B(h,R(R({},this.options),{},{requestMethod:y}));return this.requests.queue(p,y,g,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"trackProductInsightsAgentAnswerFeedback",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,L.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/product_insights_agent_answer_feedback?"),s=e.section,r=e.itemId,a=e.itemName,f=e.variationId,c=e.feedbackLabel,u=e.qnaResultId,l={},v={item_id:r,item_name:a,variation_id:f,feedback_label:c,qna_result_id:u};s&&(l.section=s);var h="".concat(o).concat(x(l,this.options)),p="POST",y=B(v,R(R({},this.options),{},{requestMethod:p}));return this.requests.queue(h,p,y,i),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"on",value:function(e,i){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!i||typeof i!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,i),!0)}}]),n}();oi.RequestQueue=ri;si.exports=oi});var ci=j(Me=>{"use strict";A();Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var Jn="2.66.1";Me.default=Jn});var ot=j((qo,Ee)=>{A();function Kn(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}Ee.exports=Kn,Ee.exports.__esModule=!0,Ee.exports.default=Ee.exports});var ai=j((So,Ae)=>{A();var Gn=ot();function Vn(n){if(Array.isArray(n))return Gn(n)}Ae.exports=Vn,Ae.exports.__esModule=!0,Ae.exports.default=Ae.exports});var li=j((Ao,Ce)=>{A();function Hn(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}Ce.exports=Hn,Ce.exports.__esModule=!0,Ce.exports.default=Ce.exports});var vi=j((Ro,Re)=>{A();var fi=ot();function Wn(n,t){if(n){if(typeof n=="string")return fi(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?fi(n,t):void 0}}Re.exports=Wn,Re.exports.__esModule=!0,Re.exports.default=Re.exports});var di=j((To,Oe)=>{A();function Qn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Oe.exports=Qn,Oe.exports.__esModule=!0,Oe.exports.default=Oe.exports});var hi=j((xo,Te)=>{A();var Xn=ai(),Yn=li(),Zn=vi(),$n=di();function er(n){return Xn(n)||Yn(n)||Zn(n)||$n()}Te.exports=er,Te.exports.__esModule=!0,Te.exports.default=Te.exports});var _i=j((No,gi)=>{"use strict";A();var Je=Y(),tr=Je(ee()),ir=Je(te()),nr=Je(hi()),rr=Je(le()),or=fe(),oe=Z();function st(n,t,e,i){var o=e.apiKey,s=e.clientId,r=e.sessionId,a=e.segments,f=e.userId,c=e.version,u=e.quizzesServiceUrl,l={c},v="";if(l.key=o,l.i=s,l.s=r,a&&a.length&&(l.us=a),f&&(l.ui=String(f)),!n||typeof n!="string")throw new Error("quizId is a required parameter of type string");if(i==="results"&&((0,rr.default)(t.answers)!=="object"||!Array.isArray(t.answers)||t.answers.length===0))throw new Error("answers is a required parameter of type array");if(t){var h=t.section,p=t.answers,y=t.quizSessionId,g=t.quizVersionId,b=t.page,k=t.resultsPerPage,w=t.filters,m=t.fmtOptions,C=t.hiddenFields;h&&(l.section=h),g&&(l.quiz_version_id=g),y&&(l.quiz_session_id=y),p&&p.length&&(v="&".concat(oe.stringify({a:p.map(function(d){return(0,nr.default)(d.map(encodeURIComponent)).join(",")})}))),oe.isNil(b)||(l.page=b),oe.isNil(k)||(l.num_results_per_page=k),w&&(l.filters=w),m&&(l.fmt_options=m),C&&(l.fmt_options?l.fmt_options.hidden_fields=C:l.fmt_options={hidden_fields:C})}l._dt=Date.now(),l=oe.cleanParams(l);var T=oe.stringify(l);return"".concat(u,"/v1/quizzes/").concat(encodeURIComponent(n),"/").concat(encodeURIComponent(i),"/?").concat(T).concat(v)}var sr=function(){function n(t){(0,tr.default)(this,n),this.options=t||{},this.eventDispatcher=new or(t.eventDispatcher)}return(0,ir.default)(n,[{key:"getQuizNextQuestion",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f=new AbortController,c=f.signal;try{r=st(e,i,this.options,"next")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(r,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",u),u;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f=new AbortController,c=f.signal;try{r=st(e,i,this.options,"results")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(r,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResults.completed",u),u;throw new Error("getQuizResults response data is malformed")})}},{key:"getQuizResultsConfig",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a=this.options.fetch,f=new AbortController,c=f.signal;try{r=st(e,i,this.options,"results_config")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(r,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResultsConfig.completed",u),u;throw new Error("getQuizResultsConfig response data is malformed")})}}]),n}();gi.exports=sr});var bi=j((Lo,Ge)=>{"use strict";A();var ut=Y(),ur=ut(ee()),cr=ut(te()),ar=ut(Le()),Ke=Z(),lr=Ke.cleanParams,fr=Ke.trimNonBreakingSpaces,vr=Ke.encodeURIComponentRFC3986,dr=Ke.stringify;function pi(n,t,e){var i=e.apiKey,o=e.version,s=e.sessionId,r=e.clientId,a=e.userId,f=e.segments,c=e.testCells,u=e.assistantServiceUrl,l={c:o};if(l.key=i,l.i=r,l.s=s,!n||typeof n!="string")throw new Error("intent is a required parameter of type string");if(!t.domain||typeof t.domain!="string")throw new Error("parameters.domain is a required parameter of type string");if(c&&Object.keys(c).forEach(function(g){l["ef-".concat(g)]=c[g]}),f&&f.length&&(l.us=f),a&&(l.ui=String(a)),t){var v=t.domain,h=t.numResultsPerPage;v&&(l.domain=v),h&&(l.num_results_per_page=h)}l._dt=Date.now(),l=lr(l);var p=dr(l),y=n.replace(/^\//,"|");return"".concat(u,"/v1/intent/").concat(vr(fr(y)),"?").concat(p)}function yi(n,t,e){var i=function(s){n.addEventListener(s,function(r){var a=JSON.parse(r.data);t.enqueue({type:s,data:a})})};Object.values(e).forEach(function(o){o!==e.END&&i(o)}),n.addEventListener(e.END,function(){t.close(),n.close()}),n.onerror=function(o){t.error(o),n.close()}}var wi=function(){function n(t){(0,ur.default)(this,n),this.options=t||{}}return(0,cr.default)(n,[{key:"getAssistantResultsStream",value:function(e,i){var o,s;try{var r=pi(e,i,this.options);o=new EventSource(r),s=new ReadableStream({start:function(u){yi(o,u,n.EventTypes)},cancel:function(){o.close()}})}catch(c){if(s){var a;(a=s)===null||a===void 0||a.cancel()}else{var f;(f=o)===null||f===void 0||f.close()}throw new Error(c.message)}return s}}]),n}();(0,ar.default)(wi,"EventTypes",{START:"start",GROUP:"group",SEARCH_RESULT:"search_result",ARTICLE_REFERENCE:"article_reference",RECIPE_INFO:"recipe_info",RECIPE_INSTRUCTIONS:"recipe_instructions",SERVER_ERROR:"server_error",IMAGE_META:"image_meta",END:"end"});Ge.exports=wi;Ge.exports.createAssistantUrl=pi;Ge.exports.setupEventListeners=yi});var Cr=j((jo,mi)=>{A();var ki=Y(),hr=ki(ee()),gr=ki(te()),_r=dt(),pr=Et(),yr=Rt(),wr=It(),br=Nt(),qi=ui(),kr=fe(),Ie=Z(),qr=ci(),mr=qr.default,Sr=_i(),Er=bi(),Ar=function(){var t="ciojs-client-",e=[];return Ie.canUseDOM()||e.push("domless"),typeof U<"u"&&typeof U.env<"u"&&U.env.BUNDLED&&e.push("bundled"),"".concat(t).concat(e.join("-")).concat(e.length?"-":"").concat(mr)},ct=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,hr.default)(this,n);var e=t.apiKey,i=t.version,o=t.serviceUrl,s=t.quizzesServiceUrl,r=t.assistantServiceUrl,a=t.segments,f=t.testCells,c=t.clientId,u=t.sessionId,l=t.userId,v=t.fetch,h=t.trackingSendDelay,p=t.sendReferrerWithTrackingEvents,y=t.sendTrackingEvents,g=t.eventDispatcher,b=t.idOptions,k=t.beaconMode,w=t.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var m,C,T=typeof window<"u"&&window.CLIENT_VERSION;if(Ie.canUseDOM()){var d=new _r(b||{});m=d.session_id,C=d.client_id}else{if(!u||typeof u!="number")throw new Error("sessionId is a required user parameter of type number");if(!c||typeof c!="string")throw new Error("clientId is a required user parameter of type string")}var O=o&&o.replace(/\/$/,"");this.options={apiKey:e,version:i||T||Ar(),serviceUrl:Ie.addHTTPSToString(O)||"https://ac.cnstrc.com",quizzesServiceUrl:s&&s.replace(/\/$/,"")||"https://quizzes.cnstrc.com",assistantServiceUrl:r&&r.replace(/\/$/,"")||"https://assistant.cnstrc.com",sessionId:u||m,clientId:c||C,userId:l,segments:a,testCells:f,fetch:v||fetch,trackingSendDelay:h,sendTrackingEvents:y,sendReferrerWithTrackingEvents:p,eventDispatcher:g,beaconMode:k!==!1,networkParameters:w||{}},this.search=new pr(this.options),this.browse=new yr(this.options),this.autocomplete=new wr(this.options),this.recommendations=new br(this.options),this.tracker=new qi(this.options),this.quizzes=new Sr(this.options),this.assistant=new Er(this.options),new kr(t.eventDispatcher).queue("instantiated",this.options)}return(0,gr.default)(n,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var i=e.apiKey,o=e.segments,s=e.testCells,r=e.sessionId,a=e.userId;i&&(this.options.apiKey=i),o&&(this.options.segments=o),s&&(this.options.testCells=s),r&&!Ie.canUseDOM()&&(this.options.sessionId=r),"userId"in e&&(this.options.userId=a)}}}]),n}();ct.Tracker=qi;Ie.canUseDOM()&&(window.ConstructorioClient=ct);mi.exports=ct});Cr();})();
/*! Bundled license information:

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)
*/

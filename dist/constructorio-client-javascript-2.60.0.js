/*!
 *
 * Constructor.io JavaScript Client, version 2.60.0
 * (c) 2015-2024 Constructor.io
 * ---
 * Constructor Search uses artificial intelligence to provide AI-first search, browse, and recommendations results that increase conversions and revenue.
 * - https://constructor.io
 * - https://github.com/Constructor-io/constructorio-client-javascript
 * ---
 * Includes code from the 'browserify/events' library, licensed under the MIT License.
 * For full license details, see the library documentation.
 *
 */
(()=>{var st=typeof require!="undefined"?require:r=>{throw new Error('Dynamic require of "'+r+'" is not supported')};var bi=(r,i)=>()=>(r&&(i=r(r=0)),i);var B=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var ki,U,O=bi(()=>{ki={BUNDLED:"true"},U={env:ki}});var Y=B((wn,ge)=>{O();function qi(r){return r&&r.__esModule?r:{default:r}}ge.exports=qi,ge.exports.__esModule=!0,ge.exports.default=ge.exports});var ee=B((bn,_e)=>{O();function mi(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}_e.exports=mi,_e.exports.__esModule=!0,_e.exports.default=_e.exports});var te=B((kn,pe)=>{O();function ct(r,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function Si(r,i,e){return i&&ct(r.prototype,i),e&&ct(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}pe.exports=Si,pe.exports.__esModule=!0,pe.exports.default=pe.exports});var at=B((qn,je)=>{O();(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(e==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null){s=Object(s);for(var n=Object.keys(Object(s)),a=0,f=n.length;f>a;a++){var c=n[a],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&(t[c]=s[c])}}}return t}});function r(e){let t;try{t=window[e];let o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(o){return o instanceof DOMException&&o.name==="QuotaExceededError"&&t&&t.length!==0}}var i=function(e){var t={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_secure:null,cookie_samesite:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window=="undefined",session_is_new:null,new_to_beacon:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,t,e),!this.client_id)if(!this.on_node&&this.persist){var o;this.client_id_storage_location==="cookie"&&(o=this.get_cookie(this.cookie_name_client_id),o&&(this.delete_cookie(this.cookie_name_client_id),this.set_cookie(this.cookie_name_client_id,o))),this.client_id_storage_location==="local"&&(o=this.get_local_object(this.local_name_client_id)),this.client_id=o||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};i.prototype.set_cookie=function(e,t){if(!this.on_node&&this.persist){var o=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),s=e+"="+t+"; expires="+o.toUTCString()+"; path=/";return this.cookie_domain&&(s+="; domain="+this.cookie_domain),this.cookie_secure&&(s+="; secure"),this.cookie_samesite&&(s+="; samesite="+this.cookie_samesite),document.cookie=s,s}return null},i.prototype.get_cookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),s=0;s<o.length;s++){var n=o[s];try{for(var a=decodeURIComponent(n);a.charAt(0)===" ";)a=a.substring(1);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}catch(f){}}},i.prototype.delete_cookie=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},i.prototype.generate_client_id=function(){var e;if(!this.on_node){var t=this.get_cookie(this.cookie_name_client_id),o=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&o&&(e=o,this.set_cookie(this.cookie_name_client_id,e),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&t&&(e=t,this.set_local_object(this.local_name_client_id,e),this.delete_cookie(this.cookie_name_client_id))}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var n=Math.random()*16|0,a=s==="x"?n:n&3|8;return a.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,e),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,e)),e},i.prototype.get_local_object=function(e){var t,o=r("localStorage")&&window&&window.localStorage;if(o&&typeof e=="string")try{t=JSON.parse(o.getItem(e))}catch(s){t=o.getItem(e)}return t},i.prototype.set_local_object=function(e,t){var o=r("localStorage")&&window&&window.localStorage;if(o&&typeof e=="string"){if(typeof t=="object")try{o.setItem(e,JSON.stringify(t))}catch(s){}if(typeof t=="string"||typeof t=="number")try{o.setItem(e,t)}catch(s){}}},i.prototype.delete_local_object=function(e){var t=r("localStorage")&&window&&window.localStorage;if(t&&typeof e=="string")try{t.removeItem(e)}catch(o){}},i.prototype.generate_session_id=function(){var e=this.get_cookie(this.cookie_name_session_data),t=this.get_local_object(this.local_name_session_data),o=Date.now(),s=1e3*60*30,n;if(this.session_id_storage_location==="local"&&(n=this.get_local_object(this.local_name_session_data),!n&&e&&(n=e,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){n=this.get_cookie(this.cookie_name_session_data);try{n=JSON.parse(n)}catch(u){}!n&&t&&(n=t,this.delete_local_object(this.local_name_session_data))}var a=1,f=1;n&&typeof n=="object"&&(f=parseInt(n.sessionId,10)||1,n.lastTime>o-s?a=f:a=f+1),this.session_id=a,this.session_is_new=!(n&&f===a),n&&n.newToBeacon&&(this.new_to_beacon=!0);let c={sessionId:a,lastTime:o};return this.session_is_new&&(c.newToBeacon=!0),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,a),this.set_local_object(this.local_name_session_data,c)),this.session_id_storage_location==="cookie"&&(this.cookie_domain&&(this.delete_cookie(this.cookie_name_session_id),this.delete_cookie(this.cookie_name_session_data)),this.set_cookie(this.cookie_name_session_id,a),this.set_cookie(this.cookie_name_session_data,JSON.stringify(c))),a},typeof je!="undefined"&&typeof st!="undefined"&&(je.exports=i)})()});var ye=B((mn,se)=>{O();function ze(r){return se.exports=ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},se.exports.__esModule=!0,se.exports.default=se.exports,ze(r)}se.exports=ze,se.exports.__esModule=!0,se.exports.default=se.exports});var ft=B(Me=>{O();var lt;(function(r){typeof DO_NOT_EXPORT_CRC=="undefined"?typeof Me=="object"?r(Me):typeof define=="function"&&define.amd?define(function(){var i={};return r(i),i}):r(lt={}):r(lt={})})(function(r){r.version="1.2.2";function i(){for(var v=0,R=new Array(256),p=0;p!=256;++p)v=p,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,v=v&1?-306674912^v>>>1:v>>>1,R[p]=v;return typeof Int32Array!="undefined"?new Int32Array(R):R}var e=i();function t(v){var R=0,p=0,S=0,E=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(S=0;S!=256;++S)E[S]=v[S];for(S=0;S!=256;++S)for(p=v[S],R=256+S;R<4096;R+=256)p=E[R]=p>>>8^v[p&255];var m=[];for(S=1;S!=16;++S)m[S-1]=typeof Int32Array!="undefined"?E.subarray(S*256,S*256+256):E.slice(S*256,S*256+256);return m}var o=t(e),s=o[0],n=o[1],a=o[2],f=o[3],c=o[4],u=o[5],l=o[6],d=o[7],_=o[8],y=o[9],h=o[10],g=o[11],k=o[12],b=o[13],w=o[14];function C(v,R){for(var p=R^-1,S=0,E=v.length;S<E;)p=p>>>8^e[(p^v.charCodeAt(S++))&255];return~p}function q(v,R){for(var p=R^-1,S=v.length-15,E=0;E<S;)p=w[v[E++]^p&255]^b[v[E++]^p>>8&255]^k[v[E++]^p>>16&255]^g[v[E++]^p>>>24]^h[v[E++]]^y[v[E++]]^_[v[E++]]^d[v[E++]]^l[v[E++]]^u[v[E++]]^c[v[E++]]^f[v[E++]]^a[v[E++]]^n[v[E++]]^s[v[E++]]^e[v[E++]];for(S+=15;E<S;)p=p>>>8^e[(p^v[E++])&255];return~p}function A(v,R){for(var p=R^-1,S=0,E=v.length,m=0,D=0;S<E;)m=v.charCodeAt(S++),m<128?p=p>>>8^e[(p^m)&255]:m<2048?(p=p>>>8^e[(p^(192|m>>6&31))&255],p=p>>>8^e[(p^(128|m&63))&255]):m>=55296&&m<57344?(m=(m&1023)+64,D=v.charCodeAt(S++)&1023,p=p>>>8^e[(p^(240|m>>8&7))&255],p=p>>>8^e[(p^(128|m>>2&63))&255],p=p>>>8^e[(p^(128|D>>6&15|(m&3)<<4))&255],p=p>>>8^e[(p^(128|D&63))&255]):(p=p>>>8^e[(p^(224|m>>12&15))&255],p=p>>>8^e[(p^(128|m>>6&63))&255],p=p>>>8^e[(p^(128|m&63))&255]);return~p}r.table=e,r.bstr=C,r.buf=q,r.str=A})});var Re=B((En,dt)=>{O();"use strict";function re(r){var i;try{i=window[r];var e="__storage_test__";return i.setItem(e,e),i.removeItem(e),!0}catch(t){return typeof DOMException!="undefined"&&t instanceof DOMException&&(t.name==="QuotaExceededError"||t.name==="QUOTA_EXCEEDED_ERR"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||t.toString().indexOf("QuotaExceededError")!==-1)&&i&&i.length!==0}}var Ei={overflow:{},get:function(i){var e=this.overflow[i];if(e)return e;if(!re("sessionStorage"))return null;var t=sessionStorage.getItem(i);if(t)try{return JSON.parse(t)}catch(o){return t}return null},set:function(i,e){try{sessionStorage.setItem(i,JSON.stringify(e))}catch(t){this.overflow[i]=e}},remove:function(i){var e;(e=this.overflow)!==null&&e!==void 0&&e[i]&&delete this.overflow[i],re("sessionStorage")&&sessionStorage.removeItem(i)},key:function(i){var e,t;if(!re("sessionStorage")){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[i]}var s=(e=sessionStorage)===null||e===void 0?void 0:e.key(i),n=((t=sessionStorage)===null||t===void 0?void 0:t.length)||0;if(i>=n){var a,f=i-n;return(a=Object.keys(this.overflow))===null||a===void 0?void 0:a[f]}return s},length:function(){var i=Object.keys(this.overflow).length;return re("sessionStorage")?sessionStorage.length+i:i},clear:function(){this.overflow={},re("sessionStorage")&&sessionStorage.clear()}},Ci={overflow:{},get:function(i){var e=this.overflow[i];if(e)return e;if(!re("localStorage"))return null;var t=localStorage.getItem(i);if(t)try{return JSON.parse(t)}catch(o){return t}return null},set:function(i,e){try{localStorage.setItem(i,JSON.stringify(e))}catch(t){this.overflow[i]=e}},remove:function(i){var e;(e=this.overflow)!==null&&e!==void 0&&e[i]&&delete this.overflow[i],re("localStorage")&&localStorage.removeItem(i)},key:function(i){var e,t;if(!re("localStorage")){var o;return(o=Object.keys(this.overflow))===null||o===void 0?void 0:o[i]}var s=(e=localStorage)===null||e===void 0?void 0:e.key(i),n=((t=localStorage)===null||t===void 0?void 0:t.length)||0;if(i>=n){var a,f=i-n;return(a=Object.keys(this.overflow))===null||a===void 0?void 0:a[f]}return s},length:function(){var i=Object.keys(this.overflow).length;return re("localStorage")?localStorage.length+i:i},clear:function(){this.overflow={},re("localStorage")&&localStorage.clear()}},Ai={local:Ci,session:Ei,canUseStorage:re};dt.exports=Ai});var Z=B((Cn,gt)=>{O();"use strict";var Ri=Y(),vt=Ri(ye()),ht=ft(),Pe=Re(),Je="_constructorio_purchase_order_ids",Oi=[{pattern:/[\w\-+\\.]+@([\w-]+\.)+[\w-]{2,4}/,replaceWith:"<email_omitted>"},{pattern:/^(?:\+\d{11,12}|\+\d{1,3}\s\d{3}\s\d{3}\s\d{3,4}|\(\d{3}\)\d{7}|\(\d{3}\)\s\d{3}\s\d{4}|\(\d{3}\)\d{3}-\d{4}|\(\d{3}\)\s\d{3}-\d{4})$/,replaceWith:"<phone_omitted>"},{pattern:/^(?:4[0-9]{15}|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$/,replaceWith:"<credit_omitted>"}],V={trimNonBreakingSpaces:function(i){return i.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(i){return encodeURIComponent(i).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(i){var e={};return Object.keys(i).forEach(function(t){var o=i[t];typeof o=="string"?e[t]=V.trimNonBreakingSpaces(o):e[t]=o}),e},throwHttpErrorFromResponse:function(i,e){return e.json().then(function(t){throw i.message=t.message,i.status=e.status,i.statusText=e.statusText,i.url=e.url,i.headers=e.headers,i})},canUseDOM:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},addEventListener:function(i,e,t){V.canUseDOM()&&window.addEventListener(i,e,t)},removeEventListener:function(i,e,t){V.canUseDOM()&&window.removeEventListener(i,e,t)},getNavigator:function(){return V.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(i){return i==null},getWindowLocation:function(){return V.canUseDOM()?window.location:{}},dispatchEvent:function(i){V.canUseDOM()&&window.dispatchEvent(i)},createCustomEvent:function(i,e){if(V.canUseDOM())try{return new window.CustomEvent(i,{detail:e})}catch(o){var t=document.createEvent("CustomEvent");return t.initCustomEvent(i,!1,!1,e),t}return null},hasOrderIdRecord:function(i){var e=i.orderId,t=i.apiKey,o=e;t&&(o="".concat(t,"-").concat(e));var s=ht.str(o.toString()),n=Pe.local.get(Je);return typeof n=="string"&&(n=JSON.parse(n)),n&&n.includes(s)?!0:null},addOrderIdRecord:function(i){var e=i.orderId,t=i.apiKey,o=e;t&&(o="".concat(t,"-").concat(e));var s=ht.str(o.toString()),n=Pe.local.get(Je);if(typeof n=="string"&&(n=JSON.parse(n)),n){if(n.includes(s))return;n.length>=10&&(n=n.slice(-9)),n.push(s)}else n=[s];Pe.local.set(Je,n)},applyNetworkTimeout:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=i&&i.networkParameters&&i.networkParameters.timeout,s=e&&e.timeout,n=s||o;typeof n=="number"&&t&&setTimeout(function(){return t.abort()},n)},stringify:function(i,e,t){if(!i)return"";var o=[];return Object.keys(i).forEach(function(s){var n=i[s],a=V.encodeURIComponentRFC3986(s),f;if(n!=null){var c=e?"".concat(e,"%5B").concat(a,"%5D"):a;Array.isArray(n)?f=V.stringify(n,c,"array"):(0,vt.default)(n)==="object"?f=V.stringify(n,c,"object"):t==="object"?f="".concat(c,"=").concat(V.encodeURIComponentRFC3986(n)):f="".concat(e||a,"=").concat(V.encodeURIComponentRFC3986(n)),o.push(f)}}),o.join("&")},toSnakeCase:function(i){return i.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})},toSnakeCaseKeys:function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t={};return Object.keys(i).forEach(function(o){var s=V.toSnakeCase(o);t[s]=e&&(0,vt.default)(i[o])==="object"&&!Array.isArray(i[o])?V.toSnakeCaseKeys(i[o],e):i[o]}),t},containsPii:function(i,e){var t=i.toLowerCase();return e.test(t)},obfuscatePiiRequest:function(i){var e=i;try{var t,o,s,n=new URL(i),a=n==null||(t=n.pathname)===null||t===void 0?void 0:t.split("/"),f=n==null||(o=n.search)===null||o===void 0||(s=o.split("&"))===null||s===void 0?void 0:s.map(function(c){var u;return(u=c.split("="))===null||u===void 0?void 0:u[1]});Oi.forEach(function(c){var u=c.pattern,l=c.replaceWith;a.forEach(function(d){var _=decodeURIComponent(d);V.containsPii(_,u)&&(e=e.replaceAll(d,l))}),f.forEach(function(d){var _=decodeURIComponent(d);V.containsPii(_,u)&&(e=e.replaceAll(_,l))})})}catch(c){}return e},convertResponseToJson:function(i){return i.ok?i.json().catch(function(){return i.text().then(function(e){throw new Error("Server responded with an invalid JSON object. Response code: ".concat(i.code,", Response: ").concat(e))})}):V.throwHttpErrorFromResponse(new Error,i)},addHTTPSToString:function(i){if(typeof i!="string")return null;var e=i.startsWith("https://"),t=i.startsWith("http://");if(!e&&t)return i.replace("http","https");if(!t&&!e){var o="https://".concat(i);return o}return i}};gt.exports=V});var ae=B((An,pt)=>{O();"use strict";var _t=Y(),Ti=_t(ee()),xi=_t(te()),Oe=Z(),Ii=function(){function r(i){var e=this;(0,Ti.default)(this,r),this.events=[],this.enabled=!(i&&i.enabled===!1),this.waitForBeacon=!(i&&i.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,Oe.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),Oe.addEventListener("cio.beacon.loaded",function(){e.enabled&&(e.active=!0,e.dispatchEvents())}))}return(0,xi.default)(r,[{key:"queue",value:function(e,t){this.events.push({name:e,data:t}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var e=this.events.shift(),t=e.name,o=e.data,s="cio.client.".concat(t);Oe.dispatchEvent(Oe.createCustomEvent(s,o))}}}]),r}();pt.exports=Ii});var kt=B((Rn,bt)=>{O();"use strict";var yt=Y(),Ui=yt(ee()),Di=yt(te()),Ni=ae(),ne=Z();function wt(r,i,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e.apiKey,s=e.version,n=e.serviceUrl,a=e.sessionId,f=e.clientId,c=e.userId,u=e.segments,l=e.testCells,d={c:s};if(d.key=o,d.i=f,d.s=a,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(l&&Object.keys(l).forEach(function(D){d["ef-".concat(D)]=l[D]}),u&&u.length&&(d.us=u),c&&(d.ui=String(c)),i){var _=i.offset,y=i.page,h=i.resultsPerPage,g=i.filters,k=i.sortBy,b=i.sortOrder,w=i.section,C=i.fmtOptions,q=i.hiddenFields,A=i.hiddenFacets,v=i.variationsMap,R=i.qsParam,p=i.preFilterExpression,S=i.filterMatchTypes;ne.isNil(_)||(d.offset=_),ne.isNil(y)||(d.page=y),ne.isNil(h)||(d.num_results_per_page=h),g&&(d.filters=g),S&&(d.filter_match_types=S),k&&(d.sort_by=k),b&&(d.sort_order=b),w&&(d.section=w),C&&(d.fmt_options=C),q&&(d.fmt_options?d.fmt_options.hidden_fields=q:d.fmt_options={hidden_fields:q}),A&&(d.fmt_options?d.fmt_options.hidden_facets=A:d.fmt_options={hidden_facets:A}),v&&(d.variations_map=JSON.stringify(v)),p&&(d.pre_filter_expression=JSON.stringify(p)),R&&(d.qs=JSON.stringify(R))}d._dt=Date.now(),d=ne.cleanParams(d);var E=ne.stringify(d),m=t?"search/natural_language":"search";return"".concat(n,"/").concat(m,"/").concat(ne.encodeURIComponentRFC3986(ne.trimNonBreakingSpaces(r)),"?").concat(E)}var Bi=function(){function r(i){(0,Ui.default)(this,r),this.options=i||{},this.eventDispatcher=new Ni(i.eventDispatcher)}return(0,Di.default)(r,[{key:"getSearchResults",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,ne.applyNetworkTimeout(this.options,s,c)}try{n=wt(e,t,this.options)}catch(u){return Promise.reject(u)}return a(n,{signal:f}).then(ne.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("search.getSearchResults.completed",u),u;if(u.response&&u.response.redirect)return o.eventDispatcher.queue("search.getSearchResults.completed",u),u;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,ne.applyNetworkTimeout(this.options,s,c)}try{var u=!0;n=wt(e,t,this.options,u)}catch(l){return Promise.reject(l)}return a(n,{signal:f}).then(ne.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(d){d.result_id=l.result_id}),o.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;if(l.response&&l.response.redirect)return o.eventDispatcher.queue("search.getVoiceSearchResults.completed",l),l;throw new Error("getVoiceSearchResults response data is malformed")})}}]),r}();bt.exports=Bi});var Te=B((On,we)=>{O();function Li(r,i,e){return i in r?Object.defineProperty(r,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[i]=e,r}we.exports=Li,we.exports.__esModule=!0,we.exports.default=we.exports});var St=B((Tn,mt)=>{O();"use strict";var Ge=Y(),Fi=Ge(ee()),ji=Ge(te()),zi=Ge(Te());function qt(r,i){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);i&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,t)}return e}function xe(r){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?qt(Object(e),!0).forEach(function(t){(0,zi.default)(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):qt(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var Mi=ae(),G=Z();function be(r,i){var e=i.apiKey,t=i.version,o=i.sessionId,s=i.clientId,n=i.userId,a=i.segments,f=i.testCells,c={c:t};if(c.key=e,c.i=s,c.s=o,f&&Object.keys(f).forEach(function(R){c["ef-".concat(R)]=f[R]}),a&&a.length&&(c.us=a),n&&(c.ui=String(n)),r){var u=r.page,l=r.offset,d=r.resultsPerPage,_=r.filters,y=r.sortBy,h=r.sortOrder,g=r.section,k=r.fmtOptions,b=r.hiddenFields,w=r.hiddenFacets,C=r.variationsMap,q=r.qsParam,A=r.preFilterExpression,v=r.filterMatchTypes;G.isNil(u)||(c.page=u),G.isNil(l)||(c.offset=l),G.isNil(d)||(c.num_results_per_page=d),_&&(c.filters=_),v&&(c.filter_match_types=v),y&&(c.sort_by=y),h&&(c.sort_order=h),g&&(c.section=g),k&&(c.fmt_options=k),b&&(c.fmt_options?c.fmt_options.hidden_fields=b:c.fmt_options={hidden_fields:b}),w&&(c.fmt_options?c.fmt_options.hidden_facets=w:c.fmt_options={hidden_facets:w}),C&&(c.variations_map=JSON.stringify(C)),A&&(c.pre_filter_expression=JSON.stringify(A)),q&&(c.qs=JSON.stringify(q))}return c._dt=Date.now(),c=G.cleanParams(c),c}function Pi(r,i,e,t){var o=t.serviceUrl;if(!r||typeof r!="string")throw new Error("filterName is a required parameter of type string");if(!i||typeof i!="string")throw new Error("filterValue is a required parameter of type string");var s=be(e,t),n=G.stringify(s);return"".concat(o,"/browse/").concat(G.encodeURIComponentRFC3986(G.trimNonBreakingSpaces(r)),"/").concat(G.encodeURIComponentRFC3986(G.trimNonBreakingSpaces(i)),"?").concat(n)}function Ji(r,i,e){var t=e.serviceUrl;if(!r||!Array.isArray(r)||!r.length)throw new Error("ids is a required parameter of type array");var o=xe(xe({},be(i,e)),{},{ids:r}),s=G.stringify(o);return"".concat(t,"/browse/items?").concat(s)}function Gi(r,i){var e=i.serviceUrl,t=xe({},be(r,i));delete t._dt;var o=G.stringify(t);return"".concat(e,"/browse/facets?").concat(o)}function Ki(r,i,e){var t=e.serviceUrl;if(!r||typeof r!="string")throw new Error("facetName is a required parameter of type string");var o=xe({},be(i,e));o.facet_name=r,delete o._dt;var s=G.stringify(o);return"".concat(t,"/browse/facet_options?").concat(s)}var Hi=function(){function r(i){(0,Fi.default)(this,r),this.options=i||{},this.eventDispatcher=new Mi(i.eventDispatcher)}return(0,ji.default)(r,[{key:"getBrowseResults",value:function(e,t,o){var s=this,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a,f=this.options.fetch,c;if(typeof AbortController=="function"){var u=new AbortController;c=u&&u.signal,G.applyNetworkTimeout(this.options,n,u)}try{a=Pi(e,t,o,this.options)}catch(l){return Promise.reject(l)}return f(a,{signal:c}).then(G.convertResponseToJson).then(function(l){if(l.response&&l.response.results)return l.result_id&&l.response.results.forEach(function(d){d.result_id=l.result_id}),s.eventDispatcher.queue("browse.getBrowseResults.completed",l),l;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,G.applyNetworkTimeout(this.options,s,c)}try{n=Ji(e,t,this.options)}catch(u){return Promise.reject(u)}return a(n,{signal:f}).then(G.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",u),u;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(e){var t=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.options.fetch,n=this.options.serviceUrl,a=be(e,this.options),f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,G.applyNetworkTimeout(this.options,o,c)}delete a._dt;var u=G.stringify(a),l="".concat(n,"/browse/groups?").concat(u);return s(l,{signal:f}).then(G.convertResponseToJson).then(function(d){if(d.response&&d.response.groups)return t.eventDispatcher.queue("browse.getBrowseGroups.completed",d),d;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(e,t){var o=this,s,n=this.options.fetch,a;if(typeof AbortController=="function"){var f=new AbortController;a=f&&f.signal,G.applyNetworkTimeout(this.options,t,f)}try{s=Gi(e,this.options)}catch(c){return Promise.reject(c)}return n(s,{signal:a}).then(G.convertResponseToJson).then(function(c){if(c.response&&c.response.facets)return o.eventDispatcher.queue("browse.getBrowseFacets.completed",c),c;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(e){var t=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,G.applyNetworkTimeout(this.options,s,c)}try{n=Ki(e,o,this.options)}catch(u){return Promise.reject(u)}return a(n,{signal:f}).then(G.convertResponseToJson).then(function(u){if(u.response&&u.response.facets)return t.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",u),u;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),r}();mt.exports=Hi});var At=B((xn,Ct)=>{O();"use strict";var Et=Y(),Vi=Et(ee()),Wi=Et(te()),Qi=ae(),ve=Z(),Xi=ve.convertResponseToJson,Yi=ve.cleanParams,Zi=ve.applyNetworkTimeout,$i=ve.trimNonBreakingSpaces,er=ve.encodeURIComponentRFC3986,tr=ve.stringify;function ir(r,i,e){var t=e.apiKey,o=e.version,s=e.serviceUrl,n=e.sessionId,a=e.clientId,f=e.userId,c=e.segments,u=e.testCells,l={c:o};if(l.key=t,l.i=a,l.s=n,!r||typeof r!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(v){l["ef-".concat(v)]=u[v]}),c&&c.length&&(l.us=c),f&&(l.ui=String(f)),i){var d=i.numResults,_=i.resultsPerSection,y=i.filters,h=i.filtersPerSection,g=i.hiddenFields,k=i.variationsMap,b=i.preFilterExpression,w=i.qsParam,C=i.fmtOptions;d&&(l.num_results=d),_&&Object.keys(_).forEach(function(v){l["num_results_".concat(v)]=_[v]}),y&&(l.filters=y),h&&Object.keys(h).forEach(function(v){l["filters[".concat(v,"]")]=h[v]}),b&&(l.pre_filter_expression=JSON.stringify(b)),C&&(l.fmt_options=C),g&&(l.fmt_options?l.fmt_options.hidden_fields=g:l.fmt_options={hidden_fields:g}),k&&(l.variations_map=JSON.stringify(k)),w&&(l.qs=JSON.stringify(w))}l._dt=Date.now(),l=Yi(l);var q=tr(l),A=r.replace(/^\//,"|");return"".concat(s,"/autocomplete/").concat(er($i(A)),"?").concat(q)}var rr=function(){function r(i){(0,Vi.default)(this,r),this.options=i||{},this.eventDispatcher=new Qi(i.eventDispatcher)}return(0,Wi.default)(r,[{key:"getAutocompleteResults",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,Zi(this.options,s,c)}try{n=ir(e,t,this.options)}catch(u){return Promise.reject(u)}return a(n,{signal:f}).then(Xi).then(function(u){if(u.sections){if(u.result_id){var l=Object.keys(u.sections);l.forEach(function(d){var _=u.sections[d];_.length&&_.forEach(function(y){y.result_id=u.result_id})})}return o.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),r}();Ct.exports=rr});var Tt=B((In,Ot)=>{O();"use strict";var Rt=Y(),nr=Rt(ee()),or=Rt(te()),sr=ae(),le=Z();function ur(r,i,e){var t=e.apiKey,o=e.version,s=e.serviceUrl,n=e.sessionId,a=e.userId,f=e.clientId,c=e.segments,u={c:o};if(u.key=t,u.i=f,u.s=n,!r||typeof r!="string")throw new Error("podId is a required parameter of type string");if(c&&c.length&&(u.us=c),a&&(u.ui=String(a)),i){var l=i.numResults,d=i.itemIds,_=i.section,y=i.term,h=i.filters,g=i.variationsMap,k=i.hiddenFields,b=i.preFilterExpression;le.isNil(l)||(u.num_results=l),d&&(u.item_id=d),_&&(u.section=_),y&&(u.term=y),h&&(u.filters=h),k&&(u.fmt_options?u.fmt_options.hidden_fields=k:u.fmt_options={hidden_fields:k}),g&&(u.variations_map=JSON.stringify(g)),b&&(u.pre_filter_expression=JSON.stringify(b))}u=le.cleanParams(u);var w=le.stringify(u);return"".concat(s,"/recommendations/v1/pods/").concat(le.encodeURIComponentRFC3986(le.trimNonBreakingSpaces(r)),"?").concat(w)}var cr=function(){function r(i){(0,nr.default)(this,r),this.options=i||{},this.eventDispatcher=new sr(i.eventDispatcher)}return(0,or.default)(r,[{key:"getRecommendations",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f;if(typeof AbortController=="function"){var c=new AbortController;f=c&&c.signal,le.applyNetworkTimeout(this.options,s,c)}try{n=ur(e,t,this.options)}catch(u){return Promise.reject(u)}return a(n,{signal:f}).then(le.convertResponseToJson).then(function(u){if(u.response&&u.response.results)return u.result_id&&u.response.results.forEach(function(l){l.result_id=u.result_id}),o.eventDispatcher.queue("recommendations.getRecommendations.completed",u),u;throw new Error("getRecommendations response data is malformed")})}}]),r}();Ot.exports=cr});var Mt=B((Un,He)=>{O();"use strict";var ar=Y(),Ke=ar(ye()),he=(typeof Reflect=="undefined"?"undefined":(0,Ke.default)(Reflect))==="object"?Reflect:null,xt=he&&typeof he.apply=="function"?he.apply:function(i,e,t){return Function.prototype.apply.call(i,e,t)},Ie;he&&typeof he.ownKeys=="function"?Ie=he.ownKeys:Object.getOwnPropertySymbols?Ie=function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:Ie=function(i){return Object.getOwnPropertyNames(i)};function lr(r){console&&console.warn&&console.warn(r)}var It=Number.isNaN||function(i){return i!==i};function L(){L.init.call(this)}He.exports=L;He.exports.once=hr;L.EventEmitter=L;L.prototype._events=void 0;L.prototype._eventsCount=0;L.prototype._maxListeners=void 0;var Ut=10;function Ue(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,Ke.default)(r))}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return Ut},set:function(i){if(typeof i!="number"||i<0||It(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");Ut=i}});L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};L.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||It(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this};function Dt(r){return r._maxListeners===void 0?L.defaultMaxListeners:r._maxListeners}L.prototype.getMaxListeners=function(){return Dt(this)};L.prototype.emit=function(i){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var o=i==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var n;if(e.length>0&&(n=e[0]),n instanceof Error)throw n;var a=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw a.context=n,a}var f=s[i];if(f===void 0)return!1;if(typeof f=="function")xt(f,this,e);else for(var c=f.length,u=jt(f,c),t=0;t<c;++t)xt(u[t],this,e);return!0};function Nt(r,i,e,t){var o,s,n;if(Ue(e),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",i,e.listener?e.listener:e),s=r._events),n=s[i]),n===void 0)n=s[i]=e,++r._eventsCount;else if(typeof n=="function"?n=s[i]=t?[e,n]:[n,e]:t?n.unshift(e):n.push(e),o=Dt(r),o>0&&n.length>o&&!n.warned){n.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=i,a.count=n.length,lr(a)}return r}L.prototype.addListener=function(i,e){return Nt(this,i,e,!1)};L.prototype.on=L.prototype.addListener;L.prototype.prependListener=function(i,e){return Nt(this,i,e,!0)};function fr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bt(r,i,e){var t={fired:!1,wrapFn:void 0,target:r,type:i,listener:e},o=fr.bind(t);return o.listener=e,t.wrapFn=o,o}L.prototype.once=function(i,e){return Ue(e),this.on(i,Bt(this,i,e)),this};L.prototype.prependOnceListener=function(i,e){return Ue(e),this.prependListener(i,Bt(this,i,e)),this};L.prototype.removeListener=function(i,e){var t,o,s,n,a;if(Ue(e),o=this._events,o===void 0)return this;if(t=o[i],t===void 0)return this;if(t===e||t.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete o[i],o.removeListener&&this.emit("removeListener",i,t.listener||e));else if(typeof t!="function"){for(s=-1,n=t.length-1;n>=0;n--)if(t[n]===e||t[n].listener===e){a=t[n].listener,s=n;break}if(s<0)return this;s===0?t.shift():dr(t,s),t.length===1&&(o[i]=t[0]),o.removeListener!==void 0&&this.emit("removeListener",i,a||e)}return this};L.prototype.off=L.prototype.removeListener;L.prototype.removeAllListeners=function(i){var e,t,o;if(t=this._events,t===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[i]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[i]),this;if(arguments.length===0){var s=Object.keys(t),n;for(o=0;o<s.length;++o)n=s[o],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=t[i],typeof e=="function")this.removeListener(i,e);else if(e!==void 0)for(o=e.length-1;o>=0;o--)this.removeListener(i,e[o]);return this};function Lt(r,i,e){var t=r._events;if(t===void 0)return[];var o=t[i];return o===void 0?[]:typeof o=="function"?e?[o.listener||o]:[o]:e?vr(o):jt(o,o.length)}L.prototype.listeners=function(i){return Lt(this,i,!0)};L.prototype.rawListeners=function(i){return Lt(this,i,!1)};L.listenerCount=function(r,i){return typeof r.listenerCount=="function"?r.listenerCount(i):Ft.call(r,i)};L.prototype.listenerCount=Ft;function Ft(r){var i=this._events;if(i!==void 0){var e=i[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?Ie(this._events):[]};function jt(r,i){for(var e=new Array(i),t=0;t<i;++t)e[t]=r[t];return e}function dr(r,i){for(;i+1<r.length;i++)r[i]=r[i+1];r.pop()}function vr(r){for(var i=new Array(r.length),e=0;e<i.length;++e)i[e]=r[e].listener||r[e];return i}function hr(r,i){return new Promise(function(e,t){function o(n){r.removeListener(i,s),t(n)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",o),e([].slice.call(arguments))}zt(r,i,s,{once:!0}),i!=="error"&&gr(r,o,{once:!0})})}function gr(r,i,e){typeof r.on=="function"&&zt(r,"error",i,e)}function zt(r,i,e,t){if(typeof r.on=="function")t.once?r.once(i,e):r.on(i,e);else if(typeof r.addEventListener=="function")r.addEventListener(i,function o(s){t.once&&r.removeEventListener(i,o),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,Ke.default)(r))}});var Jt=B((Dn,Pt)=>{O();"use strict";Pt.exports=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot","Bytespider","BTTAgent","OnCrawl"]});var Vt=B((Nn,Ht)=>{O();"use strict";var Gt=Y(),_r=Gt(ee()),pr=Gt(te()),Ve=Re(),yr=Jt(),We=Z(),Qe="_constructorio_is_human",Kt=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],wr=function(){function r(){var i=this;(0,_r.default)(this,r),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var e=function t(){i.isHumanBoolean=!0,Ve.session.set(Qe,!0),Kt.forEach(function(o){We.removeEventListener(o,t,!0)})};this.isHumanBoolean||Kt.forEach(function(t){We.addEventListener(t,e,!0)})}return(0,pr.default)(r,[{key:"getIsHumanFromSessionStorage",value:function(){return!!Ve.session.get(Qe)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!Ve.session.get(Qe)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var e=We.getNavigator(),t=e.userAgent,o=e.webdriver,s=new RegExp("(".concat(yr.join("|"),")"));return Boolean(t.match(s))||Boolean(o)}}]),r}();Ht.exports=wr});var Xt=B((Bn,Qt)=>{O();"use strict";var Wt=Y(),br=Wt(ee()),kr=Wt(te()),Xe=Re(),qr=Vt(),Ye=Z(),mr=Z(),Sr=mr.obfuscatePiiRequest,Ze="_constructorio_requests",Er=18e4,Cr=function(){function r(i,e){var t=this;(0,br.default)(this,r),this.options=i,this.eventemitter=e,this.humanity=new qr,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(i&&i.sendTrackingEvents===!0),Ye.addEventListener("beforeunload",function(){t.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,kr.default)(r,[{key:"queue",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var n=r.get(),a=Sr(e);n.push({url:a,method:t,body:o,networkParameters:s}),r.set(n)}}},{key:"sendEvents",value:function(){var e=this,t=this.options.fetch,o=r.get();if((!Ye.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&o.length){var s,n=o.shift(),a=n,f=a.networkParameters,c,u=this;if(r.set(o),f&&typeof AbortController=="function"){var l=new AbortController;c=l.signal,Ye.applyNetworkTimeout(this.options,f,l)}if(typeof n=="string"&&(n={url:n,method:"GET"}),n.url){var d=n.url.match(/\?.*_dt=([^&]+)/),_=parseInt(d&&d[1],10),y=+new Date;if(_&&Number.isInteger(_)&&y-_>Er){this.sendTrackingEvents=!1,r.remove();return}}n.method==="GET"&&(s=t(n.url,{signal:c})),n.method==="POST"&&(s=t(n.url,{method:n.method,body:JSON.stringify(n.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:c})),s&&(this.requestPending=!0,s.then(function(h){h.ok?(u.eventemitter&&u.eventemitter.emit("success",{url:n.url,method:n.method,message:"ok"}),e.requestPending=!1,e.send()):h.json().then(function(g){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:g&&g.message}),e.requestPending=!1,e.send()}).catch(function(g){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:g.type}),e.requestPending=!1,e.send()})}).catch(function(h){u.eventemitter&&u.eventemitter.emit("error",{url:n.url,method:n.method,message:h&&h.toString&&h.toString()}),e.requestPending=!1,e.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return Xe.local.get(Ze)||[]}},{key:"set",value:function(e){!e||Array.isArray(e)&&e.length===0?r.remove():Xe.local.set(Ze,e);var t=r.get();Array.isArray(t)&&t.length!==e.length&&(this.sendTrackingEvents=!1,r.remove())}},{key:"remove",value:function(){Xe.local.remove(Ze)}}]),r}();Qt.exports=Cr});var ti=B((Ln,ei)=>{O();"use strict";var De=Y(),F=De(ye()),Ar=De(Te()),Rr=De(ee()),Or=De(te());function Yt(r,i){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);i&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,t)}return e}function x(r){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?Yt(Object(e),!0).forEach(function(t){(0,Ar.default)(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Yt(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var Tr=Mt(),T=Z(),Zt=Xt();function J(r,i){var e=i.apiKey,t=i.version,o=i.sessionId,s=i.clientId,n=i.userId,a=i.segments,f=i.testCells,c=i.requestMethod,u=i.beaconMode,l=T.getWindowLocation(),d=l.host,_=l.pathname,y=i.sendReferrerWithTrackingEvents!==!1,h=Object.assign(r);return t&&(h.c=t),s&&(h.i=s),o&&(h.s=o),n&&(h.ui=String(n)),a&&a.length&&(h.us=a),e&&(h.key=e),f&&Object.keys(f).forEach(function(g){h["ef-".concat(g)]=f[g]}),u&&c&&c.match(/POST/i)&&(h.beacon=!0),y&&d&&(h.origin_referrer=d,_&&(h.origin_referrer+=_)),h._dt=Date.now(),h=T.cleanParams(h),h}function N(r,i){return T.stringify(J(r,i))}var $t=function(){function r(i){(0,Rr.default)(this,r),this.options=i||{},this.eventemitter=new Tr,this.requests=new Zt(i,this.eventemitter)}return(0,Or.default)(r,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.options.serviceUrl,"/v2/behavioral_action/session_start?");return this.requests.queue("".concat(t).concat(N({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?"),o={action:"session_start"};return this.requests.queue("".concat(t).concat(N(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s="".concat(this.options.serviceUrl,"/v2/behavioral_action/focus?"),n={},a=t.analyticsTags,f=a===void 0?null:a;f&&(n.analytics_tags=f),n.user_input=e;var c="POST",u=J(n,x(x({},this.options),{},{requestMethod:c}));return this.requests.queue("".concat(s).concat(N({},this.options)),c,u,o),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?"),o={action:"focus"};return this.requests.queue("".concat(t).concat(N(o,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),s={},n={},a=e.item_name,f=e.name,c=e.item_id,u=e.customer_id,l=e.customerId,d=l===void 0?u:l,_=e.variation_id,y=e.itemName,h=y===void 0?a||f:y,g=e.itemId,k=g===void 0?c||d:g,b=e.variationId,w=b===void 0?_:b,C=e.url,q=e.analyticsTags;h&&(n.item_name=h),k&&(n.item_id=k),w&&(n.variation_id=w),q&&(n.analytics_tags=q),C&&(n.url=C);var A="".concat(o).concat(N(s,this.options)),v="POST",R=J(n,x(x({},this.options),{},{requestMethod:v}));return this.requests.queue(A,v,R,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/autocomplete_select?"),n=t.original_query,a=t.originalQuery,f=a===void 0?n:a,c=t.user_input,u=t.userInput,l=u===void 0?f||c:u,d=t.original_section,_=t.section,y=_===void 0?d:_,h=t.tr,g=t.group_id,k=t.groupId,b=k===void 0?g:k,w=t.item_id,C=t.itemId,q=C===void 0?w:C,A=t.variation_id,v=t.variationId,R=v===void 0?A:v,p={},S={user_input:l,tr:h,group_id:b,item_id:q,variation_id:R,item_name:e,section:y};y&&(p.section=y);var E="".concat(s).concat(N(p,this.options)),m="POST",D=J(S,x(x({},this.options),{},{requestMethod:m}));return this.requests.queue(E,m,D,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/select?"),n={},a=t.original_query,f=t.originalQuery,c=f===void 0?a:f,u=t.section,l=t.original_section,d=t.originalSection,_=d===void 0?l:d,y=t.tr,h=t.group_id,g=t.groupId,k=g===void 0?h:g,b=t.display_name,w=t.displayName,C=w===void 0?b:w,q=t.item_id,A=t.itemId,v=A===void 0?q:A;return c&&(n.original_query=c),y&&(n.tr=y),(_||u)&&(n.section=_||u),k&&(n.group={group_id:k,display_name:C}),v&&(n.item_id=v),this.requests.queue("".concat(s).concat(N(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_submit?"),n=t.original_query,a=t.originalQuery,f=a===void 0?n:a,c=t.user_input,u=t.userInput,l=u===void 0?f||c:u,d=t.group_id,_=t.groupId,y=_===void 0?d:_,h=t.section,g=t.analyticsTags,k=g===void 0?null:g,b={},w={user_input:l,search_term:e,section:h};y&&(w.filters={group_id:y}),h&&(b.section=h),k&&(w.analytics_tags=k);var C="".concat(s).concat(N(b,this.options)),q="POST",A=J(w,x(x({},this.options),{},{requestMethod:q}));return this.requests.queue(C,q,A,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/search?"),n={},a=t.original_query,f=t.originalQuery,c=f===void 0?a:f,u=t.group_id,l=t.groupId,d=l===void 0?u:l,_=t.display_name,y=t.displayName,h=y===void 0?_:y;return c&&(n.original_query=c),d&&(n.group={group_id:d,display_name:h}),this.requests.queue("".concat(s).concat(N(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoadedV2",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s,n,a,f="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_load?"),c=t.num_results,u=t.numResults,l=u===void 0?c:u,d=t.result_count,_=t.customer_ids,y=t.item_ids,h=t.items,g=h===void 0?_||y:h,k=t.result_page,b=t.resultPage,w=b===void 0?k:b,C=t.result_id,q=t.resultId,A=q===void 0?C:q,v=t.sort_order,R=t.sortOrder,p=R===void 0?v:R,S=t.sort_by,E=t.sortBy,m=E===void 0?S:E,D=t.selected_filters,P=t.selectedFilters,j=P===void 0?D:P,z=t.url,H=z===void 0?((s=T.getWindowLocation())===null||s===void 0?void 0:s.href)||"N/A":z,I=t.section,Q=t.analyticsTags,K=t.resultCount,W=K===void 0?(n=(a=l??d)!==null&&a!==void 0?a:g==null?void 0:g.length)!==null&&n!==void 0?n:0:K,X={},M;if(g&&Array.isArray(g)&&g.length!==0){var $=g.slice(0,100);typeof g[0]=="string"||typeof g[0]=="number"?M=$.map(function(de){return{item_id:String(de)}}):M=$.map(function(de){return T.toSnakeCaseKeys(de,!1)})}I&&(X.section=I);var ie={search_term:e,result_count:W,items:M,result_page:w,result_id:A,sort_order:p,sort_by:m,selected_filters:j,url:H,section:I,analytics_tags:Q},ce="".concat(f).concat(N(X,this.options)),ue="POST",fe=J(ie,x(x({},this.options),{},{requestMethod:ue}));return this.requests.queue(ce,ue,fe,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/behavior?"),n={action:"search-results",term:e},a=t.num_results,f=t.result_count,c=t.resultCount,u=c===void 0?f:c,l=t.numResults,d=l===void 0?a??u:l,_=t.customer_ids,y=t.customerIds,h=y===void 0?_:y,g=t.item_ids,k=t.itemIds,b=k===void 0?g:k,w=t.items,C;return T.isNil(d)||(n.num_results=d),b&&Array.isArray(b)?C=b:h&&Array.isArray(h)?C=h:w&&Array.isArray(w)&&(C=w.map(function(q){return q.item_id||q.itemId})),C&&Array.isArray(C)&&C.length&&(n.customer_ids=C.slice(0,100).join(",")),this.requests.queue("".concat(s).concat(N(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/v2/behavioral_action/search_result_click?"),n=t.num_results,a=t.customer_id,f=t.item_id,c=t.itemId,u=c===void 0?a||f:c,l=t.name,d=t.item_name,_=t.itemName,y=_===void 0?l||d:_,h=t.variation_id,g=t.variationId,k=g===void 0?h:g,b=t.result_id,w=t.resultId,C=w===void 0?b:w,q=t.result_count,A=t.resultCount,v=A===void 0?n||q:A,R=t.result_page,p=t.resultPage,S=p===void 0?R:p,E=t.result_position_on_page,m=t.resultPositionOnPage,D=m===void 0?E:m,P=t.num_results_per_page,j=t.numResultsPerPage,z=j===void 0?P:j,H=t.selected_filters,I=t.selectedFilters,Q=I===void 0?H:I,K=t.section,W=t.analyticsTags,X=t.slCampaignId,M=t.slCampaignOwner,$={sl_campaign_id:X,sl_campaign_owner:M,item_name:y,item_id:u,variation_id:k,result_id:C,result_count:v,result_page:S,result_position_on_page:D,num_results_per_page:z,selected_filters:Q,section:K,search_term:e,analytics_tags:W},ie={};K&&(ie.section=K);var ce="".concat(s).concat(N(ie,this.options)),ue="POST",fe=J($,x(x({},this.options),{},{requestMethod:ue}));return this.requests.queue(ce,ue,fe,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s="".concat(this.options.serviceUrl,"/autocomplete/").concat(T.encodeURIComponentRFC3986(T.trimNonBreakingSpaces(e)),"/click_through?"),n={},a=t.item_name,f=t.name,c=t.itemName,u=c===void 0?a||f:c,l=t.item_id,d=t.itemId,_=d===void 0?l:d,y=t.customer_id,h=t.customerId,g=h===void 0?y||_:h,k=t.variation_id,b=t.variationId,w=b===void 0?k:b,C=t.result_id,q=t.resultId,A=q===void 0?C:q,v=t.item_is_convertible,R=t.itemIsConvertible,p=R===void 0?v:R,S=t.section,E=t.analyticsTags,m=t.slCampaignOwner,D=t.slCampaignId;return u&&(n.name=u),g&&(n.customer_id=g),w&&(n.variation_id=w),A&&(n.result_id=A),typeof p=="boolean"&&(n.item_is_convertible=p),S&&(n.section=S),E&&(n.analytics_tags=E),D&&(n.sl_campaign_id=D),m&&(n.sl_campaign_owner=m),this.requests.queue("".concat(s).concat(N(n,this.options)),void 0,void 0,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&(0,F.default)(t)==="object"&&!Array.isArray(t)){var s=e||"TERM_UNKNOWN",n="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},f={},c=t.name,u=t.item_name,l=t.itemName,d=l===void 0?u||c:l,_=t.customer_id,y=t.customerId,h=y===void 0?_:y,g=t.item_id,k=t.itemId,b=k===void 0?g||h:k,w=t.variation_id,C=t.variationId,q=C===void 0?w:C,A=t.revenue,v=t.section,R=v===void 0?"Products":v,p=t.display_name,S=t.displayName,E=S===void 0?p:S,m=t.type,D=t.is_custom_type,P=t.isCustomType,j=P===void 0?D:P;b&&(f.item_id=b),d&&(f.item_name=d),q&&(f.variation_id=q),(A||A===0)&&(f.revenue=A.toString()),R&&(a.section=R,f.section=R),s&&(f.search_term=s),m&&(f.type=m),j&&(f.is_custom_type=j),E&&(f.display_name=E);var z="".concat(n).concat(N(a,this.options)),H="POST",I=J(f,x(x({},this.options),{},{requestMethod:H}));return this.requests.queue(z,H,I,o),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),s={},n={},a=e.items,f=e.revenue,c=e.order_id,u=e.orderId,l=u===void 0?c:u,d=e.section,_=e.analyticsTags,y=this.options.apiKey;if(l){if(T.hasOrderIdRecord({orderId:l,apiKey:y}))return!1;T.addOrderIdRecord({orderId:l,apiKey:y}),n.order_id=l}a&&Array.isArray(a)&&(n.items=a.slice(0,100).map(function(b){return T.toSnakeCaseKeys(b,!1)})),(f||f===0)&&(n.revenue=f),d?s.section=d:s.section="Products",_&&(n.analytics_tags=_);var h="".concat(o).concat(N(s,this.options)),g="POST",k=J(n,x(x({},this.options),{},{requestMethod:g}));return this.requests.queue(h,g,k,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),s={},n=e.result_count,a=e.result_page,f=e.resultPage,c=f===void 0?a:f,u=e.result_id,l=e.resultId,d=l===void 0?u:l,_=e.section,y=e.url,h=e.pod_id,g=e.podId,k=g===void 0?h:g,b=e.num_results_viewed,w=e.numResultsViewed,C=w===void 0?b:w,q=e.items,A=e.analyticsTags,v=e.resultCount,R=v===void 0?n||(q==null?void 0:q.length)||0:v;T.isNil(R)||(s.result_count=R),T.isNil(c)||(s.result_page=c),d&&(s.result_id=d),_?s.section=_:s.section="Products",y&&(s.url=y),k&&(s.pod_id=k),T.isNil(C)||(s.num_results_viewed=C),q&&Array.isArray(q)&&(s.items=q.slice(0,100).map(function(m){return T.toSnakeCaseKeys(m,!1)})),A&&(s.analytics_tags=A);var p="".concat(o).concat(N({},this.options)),S="POST",E=J(s,x(x({},this.options),{},{requestMethod:S}));return this.requests.queue(p,S,E,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),s={},n=e.variation_id,a=e.variationId,f=a===void 0?n:a,c=e.section,u=c===void 0?"Products":c,l=e.result_id,d=e.resultId,_=d===void 0?l:d,y=e.result_count,h=e.resultCount,g=h===void 0?y:h,k=e.result_page,b=e.resultPage,w=b===void 0?k:b,C=e.result_position_on_page,q=e.resultPositionOnPage,A=q===void 0?C:q,v=e.num_results_per_page,R=e.numResultsPerPage,p=R===void 0?v:R,S=e.pod_id,E=e.podId,m=E===void 0?S:E,D=e.strategy_id,P=e.strategyId,j=P===void 0?D:P,z=e.item_id,H=e.itemId,I=H===void 0?z:H,Q=e.item_name,K=e.itemName,W=K===void 0?Q:K,X=e.analyticsTags;f&&(s.variation_id=f),u&&(s.section=u),_&&(s.result_id=_),T.isNil(g)||(s.result_count=g),T.isNil(w)||(s.result_page=w),T.isNil(A)||(s.result_position_on_page=A),T.isNil(p)||(s.num_results_per_page=p),m&&(s.pod_id=m),j&&(s.strategy_id=j),I&&(s.item_id=I),W&&(s.item_name=W),X&&(s.analytics_tags=X);var M="".concat(o).concat(N({},this.options)),$="POST",ie=J(s,x(x({},this.options),{},{requestMethod:$}));return this.requests.queue(M,$,ie,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o,s="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),n={},a=e.section,f=a===void 0?"Products":a,c=e.result_count,u=e.result_page,l=e.resultPage,d=l===void 0?u:l,_=e.result_id,y=e.resultId,h=y===void 0?_:y,g=e.selected_filters,k=e.selectedFilters,b=k===void 0?g:k,w=e.url,C=e.sort_order,q=e.sortOrder,A=q===void 0?C:q,v=e.sort_by,R=e.sortBy,p=R===void 0?v:R,S=e.filter_name,E=e.filterName,m=E===void 0?S:E,D=e.filter_value,P=e.filterValue,j=P===void 0?D:P,z=e.items,H=e.analyticsTags,I=e.resultCount,Q=I===void 0?(o=c??(z==null?void 0:z.length))!==null&&o!==void 0?o:0:I;f&&(n.section=f),T.isNil(Q)||(n.result_count=Q),T.isNil(d)||(n.result_page=d),h&&(n.result_id=h),b&&(n.selected_filters=b),w&&(n.url=w),A&&(n.sort_order=A),p&&(n.sort_by=p),m&&(n.filter_name=m),j&&(n.filter_value=j),z&&Array.isArray(z)&&(n.items=z.slice(0,100).map(function(M){return T.toSnakeCaseKeys(M,!1)})),H&&(n.analytics_tags=H);var K="".concat(s).concat(N({},this.options)),W="POST",X=J(n,x(x({},this.options),{},{requestMethod:W}));return this.requests.queue(K,W,X,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),s={},n=e.section,a=n===void 0?"Products":n,f=e.variation_id,c=e.variationId,u=c===void 0?f:c,l=e.result_id,d=e.resultId,_=d===void 0?l:d,y=e.result_count,h=e.resultCount,g=h===void 0?y:h,k=e.result_page,b=e.resultPage,w=b===void 0?k:b,C=e.result_position_on_page,q=e.resultPositionOnPage,A=q===void 0?C:q,v=e.num_results_per_page,R=e.numResultsPerPage,p=R===void 0?v:R,S=e.selected_filters,E=e.selectedFilters,m=E===void 0?S:E,D=e.filter_name,P=e.filterName,j=P===void 0?D:P,z=e.filter_value,H=e.filterValue,I=H===void 0?z:H,Q=e.customer_id,K=e.customerId,W=K===void 0?Q:K,X=e.item_id,M=e.itemId,$=M===void 0?W||X:M,ie=e.item_name,ce=e.name,ue=e.itemName,fe=ue===void 0?ie||ce:ue,de=e.analyticsTags,rt=e.slCampaignId,nt=e.slCampaignOwner;a&&(s.section=a),u&&(s.variation_id=u),_&&(s.result_id=_),T.isNil(g)||(s.result_count=g),T.isNil(w)||(s.result_page=w),T.isNil(A)||(s.result_position_on_page=A),T.isNil(p)||(s.num_results_per_page=p),m&&(s.selected_filters=m),j&&(s.filter_name=j),I&&(s.filter_value=I),$&&(s.item_id=$),fe&&(s.item_name=fe),de&&(s.analytics_tags=de),rt&&(s.sl_campaign_id=rt),nt&&(s.sl_campaign_owner=nt);var yi="".concat(o).concat(N({},this.options)),ot="POST",wi=J(s,x(x({},this.options),{},{requestMethod:ot}));return this.requests.queue(yi,ot,wi,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseRedirect",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_redirect?"),s={},n=e.searchTerm,a=e.userInput,f=e.section,c=f===void 0?"Products":f,u=e.selectedFilters,l=e.redirectToUrl,d=e.sortOrder,_=e.sortBy,y=e.filterName,h=e.filterValue,g=e.analyticsTags;n&&(s.search_term=n),a&&(s.user_input=a),l&&(s.redirect_to_url=l),c&&(s.section=c),u&&(s.selected_filters=u),d&&(s.sort_order=d),_&&(s.sort_by=_),y&&(s.filter_name=y),h&&(s.filter_value=h),g&&(s.analytics_tags=g);var k="".concat(o).concat(N({},this.options)),b="POST",w=J(s,x(x({},this.options),{},{requestMethod:b}));return this.requests.queue(k,b,w,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,F.default)(e)==="object"){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),s={},n=e.item_id,a=e.itemId,f=a===void 0?n:a,c=e.item_name,u=e.itemName,l=u===void 0?c:u,d=e.variation_id,_=e.variationId,y=_===void 0?d:_,h=e.section,g=h===void 0?"Products":h,k=e.analyticsTags;if(f){s.section=g,s.item_id=f,l&&(s.item_name=l),y&&(s.variation_id=y),k&&(s.analytics_tags=k);var b="".concat(o).concat(N({},this.options)),w="POST",C=J(s,x(x({},this.options),{},{requestMethod:w}));return this.requests.queue(b,w,C,t),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),s=e.quiz_id,n=e.quizId,a=n===void 0?s:n,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,d=e.quizSessionId,_=d===void 0?l:d,y=e.url,h=e.section,g=h===void 0?"Products":h,k=e.result_count,b=e.resultCount,w=b===void 0?k:b,C=e.result_id,q=e.resultId,A=q===void 0?C:q,v=e.result_page,R=e.resultPage,p=R===void 0?v:R,S=e.items,E={},m={};if(S&&Array.isArray(S)&&(m.items=S.slice(0,100).map(function(z){return T.toSnakeCaseKeys(z,!1)})),typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof _!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof y!="string")return new Error('"url" is a required parameter of type string');if(m.quiz_id=a,m.quiz_version_id=u,m.quiz_session_id=_,m.url=y,!T.isNil(g)){if(typeof g!="string")return new Error('"section" must be a string');E.section=g,m.section=g}if(!T.isNil(w)){if(typeof w!="number")return new Error('"resultCount" must be a number');m.result_count=w}if(!T.isNil(A)){if(typeof A!="string")return new Error('"resultId" must be a string');m.result_id=A}if(!T.isNil(p)){if(typeof p!="number")return new Error('"resultPage" must be a number');m.result_page=p}var D="".concat(o).concat(N(E,this.options)),P="POST",j=J(m,x(x({},this.options),{},{requestMethod:P}));return this.requests.queue(D,P,j,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),s=e.quiz_id,n=e.quizId,a=n===void 0?s:n,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,d=e.quizSessionId,_=d===void 0?l:d,y=e.item_id,h=e.itemId,g=h===void 0?y:h,k=e.item_name,b=e.itemName,w=b===void 0?k:b,C=e.result_count,q=e.resultCount,A=q===void 0?C:q,v=e.result_id,R=e.resultId,p=R===void 0?v:R,S=e.result_page,E=e.resultPage,m=E===void 0?S:E,D=e.num_results_per_page,P=e.numResultsPerPage,j=P===void 0?D:P,z=e.result_position_on_page,H=e.resultPositionOnPage,I=H===void 0?z:H,Q=e.section,K=Q===void 0?"Products":Q,W=e.variationId,X={},M={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof _!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof g!="string"&&typeof w!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(M.quiz_id=a,M.quiz_version_id=u,M.quiz_session_id=_,!T.isNil(g)){if(typeof g!="string")return new Error('"itemId" must be a string');M.item_id=g}if(!T.isNil(w)){if(typeof w!="string")return new Error('"itemName" must be a string');M.item_name=w}if(!T.isNil(W)){if(typeof W!="string")return new Error('"variationId" must be a string');M.variation_id=W}if(!T.isNil(K)){if(typeof K!="string")return new Error('"section" must be a string');X.section=K}if(!T.isNil(A)){if(typeof A!="number")return new Error('"resultCount" must be a number');M.result_count=A}if(!T.isNil(p)){if(typeof p!="string")return new Error('"resultId" must be a string');M.result_id=p}if(!T.isNil(m)){if(typeof m!="number")return new Error('"resultPage" must be a number');M.result_page=m}if(!T.isNil(j)){if(typeof j!="number")return new Error('"numResultsPerPage" must be a number');M.num_results_per_page=j}if(!T.isNil(I)){if(typeof I!="number")return new Error('"resultPositionOnPage" must be a number');M.result_position_on_page=I}var $="".concat(o).concat(N(X,this.options)),ie="POST",ce=J(M,x(x({},this.options),{},{requestMethod:ie}));return this.requests.queue($,ie,ce,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),s=e.quiz_id,n=e.quizId,a=n===void 0?s:n,f=e.quiz_version_id,c=e.quizVersionId,u=c===void 0?f:c,l=e.quiz_session_id,d=e.quizSessionId,_=d===void 0?l:d,y=e.item_id,h=e.itemId,g=h===void 0?y:h,k=e.item_name,b=e.itemName,w=b===void 0?k:b,C=e.variation_id,q=e.variationId,A=q===void 0?C:q,v=e.revenue,R=e.section,p=R===void 0?"Products":R,S=e.type,E=e.is_custom_type,m=e.isCustomType,D=m===void 0?E:m,P=e.display_name,j=e.displayName,z=j===void 0?P:j,H={},I={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof _!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof g!="string"&&typeof w!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(I.quiz_id=a,I.quiz_version_id=u,I.quiz_session_id=_,!T.isNil(g)){if(typeof g!="string")return new Error('"itemId" must be a string');I.item_id=g}if(!T.isNil(w)){if(typeof w!="string")return new Error('"itemName" must be a string');I.item_name=w}if(!T.isNil(A)){if(typeof A!="string")return new Error('"variationId" must be a string');I.variation_id=A}if(!T.isNil(v)){if(typeof v!="string")return new Error('"revenue" must be a string');I.revenue=v}if(!T.isNil(p)){if(typeof p!="string")return new Error('"section" must be a string');I.section=p}if(!T.isNil(S)){if(typeof S!="string")return new Error('"type" must be a string');I.type=S}if(!T.isNil(D)){if(typeof D!="boolean")return new Error('"isCustomType" must be a boolean');I.is_custom_type=D}if(!T.isNil(z)){if(typeof z!="string")return new Error('"displayName" must be a string');I.display_name=z}var Q="".concat(o).concat(N(H,this.options)),K="POST",W=J(I,x(x({},this.options),{},{requestMethod:K}));return this.requests.queue(Q,K,W,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSubmit",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_submit?"),s=e.section,n=e.intent,a={intent:n,section:s},f="".concat(o).concat(N({},this.options)),c="POST",u=J(a,x(x({},this.options),{},{requestMethod:c}));return this.requests.queue(f,c,u,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadStarted",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_start?"),s=e.section,n=e.intentResultId,a=e.intent,f={intent_result_id:n,intent:a,section:s},c="".concat(o).concat(N({},this.options)),u="POST",l=J(f,x(x({},this.options),{},{requestMethod:u}));return this.requests.queue(c,u,l,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultLoadFinished",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_result_load_finish?"),s=e.section,n=e.searchResultCount,a=e.intentResultId,f=e.intent,c={intent_result_id:a,section:s,intent:f,search_result_count:n},u="".concat(o).concat(N({},this.options)),l="POST",d=J(c,x(x({},this.options),{},{requestMethod:l}));return this.requests.queue(u,l,d,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_click?"),s=e.section,n=s===void 0?"Products":s,a=e.variationId,f=e.intentResultId,c=e.searchResultId,u=e.itemId,l=e.itemName,d=e.intent,_={section:n,variation_id:a,intent_result_id:f,search_result_id:c,item_id:u,item_name:l,intent:d},y="".concat(o).concat(N({},this.options)),h="POST",g=J(_,x(x({},this.options),{},{requestMethod:h}));return this.requests.queue(y,h,g,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantResultView",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_result_view?"),s=e.section,n=s===void 0?"Products":s,a=e.items,f=e.numResultsViewed,c=e.intentResultId,u=e.searchResultId,l=e.intent,d={section:n,intent_result_id:c,search_result_id:u,num_results_viewed:f,items:a&&Array.isArray(a)&&a.slice(0,100).map(function(g){return T.toSnakeCaseKeys(g,!1)}),intent:l},_="".concat(o).concat(N({},this.options)),y="POST",h=J(d,x(x({},this.options),{},{requestMethod:y}));return this.requests.queue(_,y,h,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAssistantSearchSubmit",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,F.default)(e)==="object"&&!Array.isArray(e)){var o="".concat(this.options.serviceUrl,"/v2/behavioral_action/assistant_search_submit?"),s=e.section,n=e.intent,a=e.searchTerm,f=e.searchResultId,c=e.intentResultId,u={intent:n,section:s,search_term:a,search_result_id:f,intent_result_id:c},l="".concat(o).concat(N({},this.options)),d="POST",_=J(u,x(x({},this.options),{},{requestMethod:d}));return this.requests.queue(l,d,_,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters is a required parameter of type object")}},{key:"on",value:function(e,t){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!t||typeof t!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,t),!0)}}]),r}();$t.RequestQueue=Zt;ei.exports=$t});var ii=B(Ne=>{O();"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=void 0;var xr="2.60.0";Ne.default=xr});var $e=B((jn,ke)=>{O();function Ir(r,i){(i==null||i>r.length)&&(i=r.length);for(var e=0,t=new Array(i);e<i;e++)t[e]=r[e];return t}ke.exports=Ir,ke.exports.__esModule=!0,ke.exports.default=ke.exports});var ri=B((zn,qe)=>{O();var Ur=$e();function Dr(r){if(Array.isArray(r))return Ur(r)}qe.exports=Dr,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var ni=B((Mn,me)=>{O();function Nr(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}me.exports=Nr,me.exports.__esModule=!0,me.exports.default=me.exports});var si=B((Pn,Se)=>{O();var oi=$e();function Br(r,i){if(!!r){if(typeof r=="string")return oi(r,i);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return oi(r,i)}}Se.exports=Br,Se.exports.__esModule=!0,Se.exports.default=Se.exports});var ui=B((Jn,Ee)=>{O();function Lr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Ee.exports=Lr,Ee.exports.__esModule=!0,Ee.exports.default=Ee.exports});var ci=B((Gn,Ce)=>{O();var Fr=ri(),jr=ni(),zr=si(),Mr=ui();function Pr(r){return Fr(r)||jr(r)||zr(r)||Mr()}Ce.exports=Pr,Ce.exports.__esModule=!0,Ce.exports.default=Ce.exports});var li=B((Kn,ai)=>{O();"use strict";var Be=Y(),Jr=Be(ee()),Gr=Be(te()),Kr=Be(ci()),Hr=Be(ye()),Vr=ae(),oe=Z();function et(r,i,e,t){var o=e.apiKey,s=e.clientId,n=e.sessionId,a=e.segments,f=e.userId,c=e.version,u=e.quizzesServiceUrl,l={c},d="";if(l.key=o,l.i=s,l.s=n,a&&a.length&&(l.us=a),f&&(l.ui=String(f)),!r||typeof r!="string")throw new Error("quizId is a required parameter of type string");if(t==="results"&&((0,Hr.default)(i.answers)!=="object"||!Array.isArray(i.answers)||i.answers.length===0))throw new Error("answers is a required parameter of type array");if(i){var _=i.section,y=i.answers,h=i.quizSessionId,g=i.quizVersionId,k=i.page,b=i.resultsPerPage,w=i.filters,C=i.fmtOptions,q=i.hiddenFields;_&&(l.section=_),g&&(l.quiz_version_id=g),h&&(l.quiz_session_id=h),y&&y.length&&(d="&".concat(oe.stringify({a:y.map(function(v){return(0,Kr.default)(v).join(",")})}))),oe.isNil(k)||(l.page=k),oe.isNil(b)||(l.num_results_per_page=b),w&&(l.filters=w),C&&(l.fmt_options=C),q&&(l.fmt_options?l.fmt_options.hidden_fields=q:l.fmt_options={hidden_fields:q})}l._dt=Date.now(),l=oe.cleanParams(l);var A=oe.stringify(l);return"".concat(u,"/v1/quizzes/").concat(encodeURIComponent(r),"/").concat(encodeURIComponent(t),"/?").concat(A).concat(d)}var Wr=function(){function r(i){(0,Jr.default)(this,r),this.options=i||{},this.eventDispatcher=new Vr(i.eventDispatcher)}return(0,Gr.default)(r,[{key:"getQuizNextQuestion",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f=new AbortController,c=f.signal;try{n=et(e,t,this.options,"next")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(n,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",u),u;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f=new AbortController,c=f.signal;try{n=et(e,t,this.options,"results")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(n,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResults.completed",u),u;throw new Error("getQuizResults response data is malformed")})}},{key:"getQuizResultsConfig",value:function(e,t){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,a=this.options.fetch,f=new AbortController,c=f.signal;try{n=et(e,t,this.options,"results_config")}catch(u){return Promise.reject(u)}return oe.applyNetworkTimeout(this.options,s,f),a(n,{signal:c}).then(oe.convertResponseToJson).then(function(u){if(u.quiz_version_id)return o.eventDispatcher.queue("quizzes.getQuizResultsConfig.completed",u),u;throw new Error("getQuizResultsConfig response data is malformed")})}}]),r}();ai.exports=Wr});var hi=B((Hn,Fe)=>{O();"use strict";var tt=Y(),Qr=tt(ee()),Xr=tt(te()),Yr=tt(Te()),Le=Z(),Zr=Le.cleanParams,$r=Le.trimNonBreakingSpaces,en=Le.encodeURIComponentRFC3986,tn=Le.stringify;function fi(r,i,e){var t=e.apiKey,o=e.version,s=e.sessionId,n=e.clientId,a=e.userId,f=e.segments,c=e.testCells,u=e.assistantServiceUrl,l={c:o};if(l.key=t,l.i=n,l.s=s,!r||typeof r!="string")throw new Error("intent is a required parameter of type string");if(!i.domain||typeof i.domain!="string")throw new Error("parameters.domain is a required parameter of type string");if(c&&Object.keys(c).forEach(function(g){l["ef-".concat(g)]=c[g]}),f&&f.length&&(l.us=f),a&&(l.ui=String(a)),i){var d=i.domain,_=i.numResultsPerPage;d&&(l.domain=d),_&&(l.num_results_per_page=_)}l._dt=Date.now(),l=Zr(l);var y=tn(l),h=r.replace(/^\//,"|");return"".concat(u,"/v1/intent/").concat(en($r(h)),"?").concat(y)}function di(r,i,e){var t=function(s){r.addEventListener(s,function(n){var a=JSON.parse(n.data);i.enqueue({type:s,data:a})})};Object.values(e).forEach(function(o){o!==e.END&&t(o)}),r.addEventListener(e.END,function(){i.close(),r.close()}),r.onerror=function(o){i.error(o),r.close()}}var vi=function(){function r(i){(0,Qr.default)(this,r),this.options=i||{}}return(0,Xr.default)(r,[{key:"getAssistantResultsStream",value:function(e,t){var o,s;try{var n=fi(e,t,this.options);o=new EventSource(n),s=new ReadableStream({start:function(u){di(o,u,r.EventTypes)},cancel:function(){o.close()}})}catch(c){if(s){var a;(a=s)===null||a===void 0||a.cancel()}else{var f;(f=o)===null||f===void 0||f.close()}throw new Error(c.message)}return s}}]),r}();(0,Yr.default)(vi,"EventTypes",{START:"start",GROUP:"group",SEARCH_RESULT:"search_result",ARTICLE_REFERENCE:"article_reference",RECIPE_INFO:"recipe_info",RECIPE_INSTRUCTIONS:"recipe_instructions",SERVER_ERROR:"server_error",IMAGE_META:"image_meta",END:"end"});Fe.exports=vi;Fe.exports.createAssistantUrl=fi;Fe.exports.setupEventListeners=di});var _n=B((Vn,pi)=>{O();"use strict";var gi=Y(),rn=gi(ee()),nn=gi(te()),on=at(),sn=kt(),un=St(),cn=At(),an=Tt(),_i=ti(),ln=ae(),Ae=Z(),fn=ii(),dn=fn.default,vn=li(),hn=hi(),gn=function(){var i="ciojs-client-",e=[];return Ae.canUseDOM()||e.push("domless"),typeof U!="undefined"&&typeof U.env!="undefined"&&U.env.BUNDLED&&e.push("bundled"),"".concat(i).concat(e.join("-")).concat(e.length?"-":"").concat(dn)},it=function(){function r(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,rn.default)(this,r);var e=i.apiKey,t=i.version,o=i.serviceUrl,s=i.quizzesServiceUrl,n=i.assistantServiceUrl,a=i.segments,f=i.testCells,c=i.clientId,u=i.sessionId,l=i.userId,d=i.fetch,_=i.trackingSendDelay,y=i.sendReferrerWithTrackingEvents,h=i.sendTrackingEvents,g=i.eventDispatcher,k=i.idOptions,b=i.beaconMode,w=i.networkParameters;if(!e||typeof e!="string")throw new Error("API key is a required parameter of type string");var C,q,A=typeof window!="undefined"&&window.CLIENT_VERSION;if(Ae.canUseDOM()){var v=new on(k||{});C=v.session_id,q=v.client_id}else{if(!u||typeof u!="number")throw new Error("sessionId is a required user parameter of type number");if(!c||typeof c!="string")throw new Error("clientId is a required user parameter of type string")}var R=o&&o.replace(/\/$/,"");this.options={apiKey:e,version:t||A||gn(),serviceUrl:Ae.addHTTPSToString(R)||"https://ac.cnstrc.com",quizzesServiceUrl:s&&s.replace(/\/$/,"")||"https://quizzes.cnstrc.com",assistantServiceUrl:n&&n.replace(/\/$/,"")||"https://assistant.cnstrc.com",sessionId:u||C,clientId:c||q,userId:l,segments:a,testCells:f,fetch:d||fetch,trackingSendDelay:_,sendTrackingEvents:h,sendReferrerWithTrackingEvents:y,eventDispatcher:g,beaconMode:b!==!1,networkParameters:w||{}},this.search=new sn(this.options),this.browse=new un(this.options),this.autocomplete=new cn(this.options),this.recommendations=new an(this.options),this.tracker=new _i(this.options),this.quizzes=new vn(this.options),this.assistant=new hn(this.options),new ln(i.eventDispatcher).queue("instantiated",this.options)}return(0,nn.default)(r,[{key:"setClientOptions",value:function(e){if(Object.keys(e).length){var t=e.apiKey,o=e.segments,s=e.testCells,n=e.sessionId,a=e.userId;t&&(this.options.apiKey=t),o&&(this.options.segments=o),s&&(this.options.testCells=s),n&&!Ae.canUseDOM()&&(this.options.sessionId=n),"userId"in e&&(this.options.userId=a)}}}]),r}();it.Tracker=_i;Ae.canUseDOM()&&(window.ConstructorioClient=it);pi.exports=it});_n();})();
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */
